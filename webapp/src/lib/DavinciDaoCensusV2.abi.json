{"abi":[{"type":"constructor","inputs":[{"name":"tokens","type":"address[]","internalType":"address[]"}],"stateMutability":"nonpayable"},{"type":"function","name":"collections","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"token","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"computeLeafWithWeight","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"weight","type":"uint88","internalType":"uint88"}],"outputs":[{"name":"leaf","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"delegate","inputs":[{"name":"to","type":"address","internalType":"address"},{"name":"nftIndex","type":"uint256","internalType":"uint256"},{"name":"ids","type":"uint256[]","internalType":"uint256[]"},{"name":"currentWeightOfTo","type":"uint88","internalType":"uint88"},{"name":"toProof","type":"uint256[]","internalType":"uint256[]"},{"name":"fromProofs","type":"tuple[]","internalType":"struct DavinciDao.ProofInput[]","components":[{"name":"account","type":"address","internalType":"address"},{"name":"currentWeight","type":"uint88","internalType":"uint88"},{"name":"siblings","type":"uint256[]","internalType":"uint256[]"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getCensusRoot","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getNFTids","inputs":[{"name":"nftIndex","type":"uint256","internalType":"uint256"},{"name":"candidateIds","type":"uint256[]","internalType":"uint256[]"}],"outputs":[{"name":"","type":"uint256[]","internalType":"uint256[]"}],"stateMutability":"view"},{"type":"function","name":"getRootBlockNumber","inputs":[{"name":"root","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getTokenDelegations","inputs":[{"name":"nftIndex","type":"uint256","internalType":"uint256"},{"name":"ids","type":"uint256[]","internalType":"uint256[]"}],"outputs":[{"name":"delegates","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"rootBlockNumbers","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"tokenDelegate","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"undelegate","inputs":[{"name":"nftIndex","type":"uint256","internalType":"uint256"},{"name":"ids","type":"uint256[]","internalType":"uint256[]"},{"name":"proofs","type":"tuple[]","internalType":"struct DavinciDao.ProofInput[]","components":[{"name":"account","type":"address","internalType":"address"},{"name":"currentWeight","type":"uint88","internalType":"uint88"},{"name":"siblings","type":"uint256[]","internalType":"uint256[]"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateDelegation","inputs":[{"name":"to","type":"address","internalType":"address"},{"name":"nftIndex","type":"uint256","internalType":"uint256"},{"name":"ids","type":"uint256[]","internalType":"uint256[]"},{"name":"currentWeightOfTo","type":"uint88","internalType":"uint88"},{"name":"fromProofs","type":"tuple[]","internalType":"struct DavinciDao.ProofInput[]","components":[{"name":"account","type":"address","internalType":"address"},{"name":"currentWeight","type":"uint88","internalType":"uint88"},{"name":"siblings","type":"uint256[]","internalType":"uint256[]"}]},{"name":"toProof","type":"uint256[]","internalType":"uint256[]"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"CensusRootUpdated","inputs":[{"name":"newRoot","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"blockNumber","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Delegated","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"to","type":"address","indexed":true,"internalType":"address"},{"name":"nftIndex","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"tokenId","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"DelegatedBatch","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"to","type":"address","indexed":true,"internalType":"address"},{"name":"nftIndex","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"tokenIds","type":"uint256[]","indexed":false,"internalType":"uint256[]"}],"anonymous":false},{"type":"event","name":"Undelegated","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"from","type":"address","indexed":true,"internalType":"address"},{"name":"nftIndex","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"tokenId","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"UndelegatedBatch","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"from","type":"address","indexed":true,"internalType":"address"},{"name":"nftIndex","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"tokenIds","type":"uint256[]","indexed":false,"internalType":"uint256[]"}],"anonymous":false},{"type":"event","name":"WeightChanged","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"previousWeight","type":"uint88","indexed":false,"internalType":"uint88"},{"name":"newWeight","type":"uint88","indexed":false,"internalType":"uint88"}],"anonymous":false},{"type":"error","name":"AlreadyDelegated","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"InvalidCollection","inputs":[]},{"type":"error","name":"InvalidTokenId","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"LeafAlreadyExists","inputs":[]},{"type":"error","name":"LeafCannotBeZero","inputs":[]},{"type":"error","name":"LeafDoesNotExist","inputs":[]},{"type":"error","name":"LeafGreaterThanSnarkScalarField","inputs":[]},{"type":"error","name":"NoNewDelegations","inputs":[]},{"type":"error","name":"NotDelegated","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"NotTokenOwner","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"ProofRequired","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"WeightOverflow","inputs":[]},{"type":"error","name":"WeightUnderflow","inputs":[]},{"type":"error","name":"WrongSiblingNodes","inputs":[]},{"type":"error","name":"ZeroAddress","inputs":[]}],"bytecode":{"object":"0x608060405234801561000f575f5ffd5b5060405161273838038061273883398101604081905261002e91610117565b80518061006e5760405162461bcd60e51b815260206004820152600a60248201526962616420636f6e66696760b01b604482015260640160405180910390fd5b5f5b818110156100e0575f8054600101815580528251839082908110610096576100966101e1565b60200260200101515f82815481106100b0576100b06101e1565b5f91825260209091200180546001600160a01b0319166001600160a01b0392909216919091179055600101610070565b5050506101f5565b634e487b7160e01b5f52604160045260245ffd5b80516001600160a01b0381168114610112575f5ffd5b919050565b5f60208284031215610127575f5ffd5b81516001600160401b0381111561013c575f5ffd5b8201601f8101841361014c575f5ffd5b80516001600160401b03811115610165576101656100e8565b604051600582901b90603f8201601f191681016001600160401b0381118282101715610193576101936100e8565b6040529182526020818401810192908101878411156101b0575f5ffd5b6020850194505b838510156101d6576101c8856100fc565b8152602094850194016101b7565b509695505050505050565b634e487b7160e01b5f52603260045260245ffd5b612536806102025f395ff3fe608060405234801561000f575f5ffd5b50600436106100a6575f3560e01c80638498be041161006e5780638498be041461016357806389e8a25514610183578063c1da869114610196578063c333b0f1146101ac578063e2bc69f4146101cc578063fdbda0ec146101df575f5ffd5b8063340ae1cd146100aa57806341a38282146100bf578063650e5fcf146100f157806366e12bef1461011057806370e3afa214610150575b5f5ffd5b6100bd6100b8366004612011565b6101f2565b005b6100de6100cd3660046120db565b60066020525f908152604090205481565b6040519081526020015b60405180910390f35b6100de6100ff3660046120db565b5f9081526006602052604090205490565b61013861011e3660046120db565b60056020525f90815260409020546001600160a01b031681565b6040516001600160a01b0390911681526020016100e8565b6100bd61015e366004612011565b61028b565b6101766101713660046120f2565b6102f3565b6040516100e89190612139565b6100de61019136600461217b565b610462565b6002545f908152600360205260409020546100de565b6101bf6101ba3660046120f2565b61046d565b6040516100e891906121ae565b6100bd6101da3660046121ee565b610545565b6101386101ed3660046120db565b610ae7565b6101fb88610b0e565b6001600160a01b0389166102225760405163d92e233d60e01b815260040160405180910390fd5b5f5f5f5f6102328d8d8d8d610b32565b9350935093509350805f0361025a5760405163fcea6b3560e01b815260040160405180910390fd5b6102678484848989610de8565b6102748d828b8b8b610ec9565b61027c61106d565b50505050505050505050505050565b61029488610b0e565b6001600160a01b0389166102bb5760405163d92e233d60e01b815260040160405180910390fd5b5f5f5f5f6102cb8d8d8d8d6110c5565b93509350935093506102e08484848b8b6116be565b801561027c576102748d828b8989610ec9565b60606102fe84610b0e565b5f805b83811015610374575f85858381811061031c5761031c612265565b9050602002013590505f610330888361173f565b5f818152600560205260409020549091506001600160a01b03161580159061035e575061035e88338461176e565b1561036a578360010193505b5050600101610301565b505f816001600160401b0381111561038e5761038e612279565b6040519080825280602002602001820160405280156103b7578160200160208202803683370190505b5090505f805b85811015610454575f8787838181106103d8576103d8612265565b9050602002013590505f6103ec8a8361173f565b5f818152600560205260409020549091506001600160a01b03161580159061041a575061041a8a338461176e565b1561044a5781858561042b816122a1565b96508151811061043d5761043d612265565b6020026020010181815250505b50506001016103bd565b5090925050505b9392505050565b5f61045b838361181a565b606061047884610b0e565b816001600160401b0381111561049057610490612279565b6040519080825280602002602001820160405280156104b9578160200160208202803683370190505b5090505f5b8281101561053d5760055f6104eb878787868181106104df576104df612265565b9050602002013561173f565b81526020019081526020015f205f9054906101000a90046001600160a01b031682828151811061051d5761051d612265565b6001600160a01b03909216602092830291909101909101526001016104be565b509392505050565b61054e85610b0e565b5f836001600160401b0381111561056757610567612279565b604051908082528060200260200182016040528015610590578160200160208202803683370190505b5090505f846001600160401b038111156105ac576105ac612279565b6040519080825280602002602001820160405280156105d5578160200160208202803683370190505b5090505f856001600160401b038111156105f1576105f1612279565b60405190808252806020026020018201604052801561062457816020015b606081526020019060019003908161060f5790505b5090505f805b8781101561069957876001600160401b0381111561064a5761064a612279565b604051908082528060200260200182016040528015610673578160200160208202803683370190505b5083828151811061068657610686612265565b602090810291909101015260010161062a565b505f5b87811015610881575f8989838181106106b7576106b7612265565b9050602002013590506106cb8b338361176e565b6106f057604051630e35d34560e11b8152600481018290526024015b60405180910390fd5b5f6106fb8c8361173f565b5f818152600560205260409020549091506001600160a01b031680610736576040516349a0267360e11b8152600481018490526024016106e7565b5f82815260056020526040812080546001600160a01b031916905561075c898784611839565b90505f1981036107fc578189878151811061077957610779612265565b60200260200101906001600160a01b031690816001600160a01b031681525050838787815181106107ac576107ac612265565b60200260200101515f815181106107c5576107c5612265565b60200260200101818152505060018887815181106107e5576107e5612265565b602002602001018181525050856001019550610872565b8387828151811061080f5761080f612265565b602002602001015189838151811061082957610829612265565b60200260200101518151811061084157610841612265565b60200260200101818152505087818151811061085f5761085f612265565b6020026020010180516001019081815250505b5050505080600101905061069c565b505f5b818110156109d4575f84828151811061089f5761089f612265565b60200260200101516001600160401b038111156108be576108be612279565b6040519080825280602002602001820160405280156108e7578160200160208202803683370190505b5090505f5b8583815181106108fe576108fe612265565b60200260200101518110156109655784838151811061091f5761091f612265565b6020026020010151818151811061093857610938612265565b602002602001015182828151811061095257610952612265565b60209081029190910101526001016108ec565b508a86838151811061097957610979612265565b60200260200101516001600160a01b0316336001600160a01b03167f56017da320cb00880eb511a7183d19ed30ca4f9bcf6bf1dffa02ccb76da33915846040516109c39190612139565b60405180910390a450600101610884565b505f5b81811015610ad3575f8582815181106109f2576109f2612265565b602002602001015190505f610a08898984611890565b90505f198103610a365760405163e0a76e8560e01b81526001600160a01b03831660048201526024016106e7565b610ac982878581518110610a4c57610a4c612265565b6020026020010151610a5d906122b9565b8b8b85818110610a6f57610a6f612265565b9050602002810190610a8191906122d3565b610a929060408101906020016122f1565b8c8c86818110610aa457610aa4612265565b9050602002810190610ab691906122d3565b610ac490604081019061230a565b610ec9565b50506001016109d7565b50610adc61106d565b505050505050505050565b5f8181548110610af5575f80fd5b5f918252602090912001546001600160a01b0316905081565b5f548110610b2f5760405163517172a160e11b815260040160405180910390fd5b50565b6060805f80846001600160401b03811115610b4f57610b4f612279565b604051908082528060200260200182016040528015610b78578160200160208202803683370190505b509350846001600160401b03811115610b9357610b93612279565b604051908082528060200260200182016040528015610bbc578160200160208202803683370190505b5092505f856001600160401b03811115610bd857610bd8612279565b604051908082528060200260200182016040528015610c01578160200160208202803683370190505b5090505f5b86811015610cf8575f888883818110610c2157610c21612265565b905060200201359050610c358a338361176e565b610c5557604051630e35d34560e11b8152600481018290526024016106e7565b5f610c608b8361173f565b5f818152600560205260409020549091506001600160a01b03168015610c9c5760405163391fac8f60e21b8152600481018490526024016106e7565b5f82815260056020526040902080546001600160a01b0319166001600160a01b038f1617905584518390869088908110610cd857610cd8612265565b602002602001018181525050856001019550505050806001019050610c06565b508115610ddc575f826001600160401b03811115610d1857610d18612279565b604051908082528060200260200182016040528015610d41578160200160208202803683370190505b5090505f5b83811015610d8d57828181518110610d6057610d60612265565b6020026020010151828281518110610d7a57610d7a612265565b6020908102919091010152600101610d46565b50888a6001600160a01b0316336001600160a01b03167f3fe8c5ff8038f409c0e155c58dd77a1d041dc9654f80d372adac435fb5837c3084604051610dd29190612139565b60405180910390a4505b50945094509450949050565b5f5b83811015610ec1575f868281518110610e0557610e05612265565b602002602001015190505f610e1b858584611890565b90505f198103610e495760405163e0a76e8560e01b81526001600160a01b03831660048201526024016106e7565b610eb782888581518110610e5f57610e5f612265565b6020026020010151610e70906122b9565b878785818110610e8257610e82612265565b9050602002810190610e9491906122d3565b610ea59060408101906020016122f1565b888886818110610aa457610aa4612265565b5050600101610dea565b505050505050565b8315611066575f5f851315610f0d576001600160581b03808516860190811115610f0657604051633643f37960e21b815260040160405180910390fd5b9050610f51565b5f610f17866122b9565b9050846001600160581b0316811115610f4357604051637b1304a960e11b815260040160405180910390fd5b6001600160581b0385160390505b5f610f5c878661181a565b90505f610f69888461181a565b90505f5160206124e15f395f51905f5282101580610f9457505f5160206124e15f395f51905f528110155b15610fb257604051633643f37960e21b815260040160405180910390fd5b6001600160581b038616158015610fd157505f836001600160581b0316115b15610fe757610fe16001826118f4565b50611014565b826001600160581b03165f0361100457610fe16001838787611ab3565b611012600183838888611aca565b505b604080516001600160581b038089168252851660208201526001600160a01b038a16917fee82339564ef9f72eccdbb67b46a62198422524ab9c7e3fcbdd194fa1b46461b910160405180910390a25050505b5050505050565b6002545f90815260036020908152604080832054808452600683529281902043908190558151908152905183927fac84e1f746682c16ccc7cac6060f24ba0d81b110e6dc4cfa95bbfae24a5fc07d928290030190a250565b6060805f80846001600160401b038111156110e2576110e2612279565b60405190808252806020026020018201604052801561110b578160200160208202803683370190505b509350846001600160401b0381111561112657611126612279565b60405190808252806020026020018201604052801561114f578160200160208202803683370190505b5092505f856001600160401b0381111561116b5761116b612279565b60405190808252806020026020018201604052801561119e57816020015b60608152602001906001900390816111895790505b5090505f866001600160401b038111156111ba576111ba612279565b6040519080825280602002602001820160405280156111e3578160200160208202803683370190505b5090505f5b8781101561125757876001600160401b0381111561120857611208612279565b604051908082528060200260200182016040528015611231578160200160208202803683370190505b5083828151811061124457611244612265565b60209081029190910101526001016111e8565b505f5b8781101561147a575f89898381811061127557611275612265565b9050602002013590506112898b338361176e565b6112a957604051630e35d34560e11b8152600481018290526024016106e7565b5f6112b48c8361173f565b5f818152600560205260409020549091506001600160a01b03908116908e1681036112e157505050611472565b6001600160a01b03811615611414575f6112fc8b8a84611839565b90505f19810361139c57818b8a8151811061131957611319612265565b60200260200101906001600160a01b031690816001600160a01b03168152505083878a8151811061134c5761134c612265565b60200260200101515f8151811061136557611365612265565b60200260200101818152505060018a8a8151811061138557611385612265565b602002602001018181525050886001019850611412565b838782815181106113af576113af612265565b60200260200101518b83815181106113c9576113c9612265565b6020026020010151815181106113e1576113e1612265565b6020026020010181815250508981815181106113ff576113ff612265565b6020026020010180516001019081815250505b505b8d60055f8481526020019081526020015f205f6101000a8154816001600160a01b0302191690836001600160a01b031602179055508285888151811061145c5761145c612265565b6020026020010181815250508660010196505050505b60010161125a565b505f5b848110156115cd575f86828151811061149857611498612265565b60200260200101516001600160401b038111156114b7576114b7612279565b6040519080825280602002602001820160405280156114e0578160200160208202803683370190505b5090505f5b8783815181106114f7576114f7612265565b602002602001015181101561155e5784838151811061151857611518612265565b6020026020010151818151811061153157611531612265565b602002602001015182828151811061154b5761154b612265565b60209081029190910101526001016114e5565b508a88838151811061157257611572612265565b60200260200101516001600160a01b0316336001600160a01b03167f56017da320cb00880eb511a7183d19ed30ca4f9bcf6bf1dffa02ccb76da33915846040516115bc9190612139565b60405180910390a45060010161147d565b5082156116b1575f836001600160401b038111156115ed576115ed612279565b604051908082528060200260200182016040528015611616578160200160208202803683370190505b5090505f5b848110156116625782818151811061163557611635612265565b602002602001015182828151811061164f5761164f612265565b602090810291909101015260010161161b565b50898b6001600160a01b0316336001600160a01b03167f3fe8c5ff8038f409c0e155c58dd77a1d041dc9654f80d372adac435fb5837c30846040516116a79190612139565b60405180910390a4505b5050945094509450949050565b5f5b83811015610ec1575f8682815181106116db576116db612265565b602002602001015190505f6116f1858584611890565b90505f19810361171f5760405163e0a76e8560e01b81526001600160a01b03831660048201526024016106e7565b61173582888581518110610e5f57610e5f612265565b50506001016116c0565b604080516020808201859052818301849052825180830384018152606090920190925280519101205b92915050565b5f5f5f858154811061178257611782612265565b5f9182526020918290206040805193840181529101546001600160a01b0390811680845291516331a9108f60e11b815260048101879052929350861691636352211e90602401602060405180830381865afa1580156117e3573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611807919061234f565b6001600160a01b03161495945050505050565b6001600160581b031660589190911b600160581b600160f81b03161790565b5f805b8381101561188557826001600160a01b031685828151811061186057611860612265565b60200260200101516001600160a01b03160361187d57905061045b565b60010161183c565b505f19949350505050565b5f805b8381101561188557826001600160a01b03168585838181106118b7576118b7612265565b90506020028101906118c991906122d3565b6118d790602081019061236a565b6001600160a01b0316036118ec57905061045b565b600101611893565b5f5f5160206124e15f395f51905f528210611922576040516361c0541760e11b815260040160405180910390fd5b815f03611942576040516314b48df160e11b815260040160405180910390fd5b5f82815260038401602052604090205415611970576040516312c50cad60e11b815260040160405180910390fd5b825460018085015490611984908390612385565b61198f82600261247b565b10156119a15761199e816122a1565b90505b60018501819055835f5b82811015611a79578084901c600116600103611a5e576040805180820182525f83815260028a0160209081529083902054825281018490529051632b0aac7f60e11b815273__$a2daaad8940c9006af3f1557205ebe532d$__9163561558fe91611a189190600401612486565b602060405180830381865af4158015611a33573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611a5791906124b6565b9150611a71565b5f81815260028801602052604090208290555b6001016119ab565b50611a83836122a1565b8087555f928352600287016020908152604080852084905596845260039097019096529390209390935550919050565b5f611ac185855f8686611aca565b95945050505050565b5f5f5160206124e15f395f51905f528410611af8576040516361c0541760e11b815260040160405180910390fd5b5f858152600387016020526040902054611b2557604051631c811d5b60e21b815260040160405180910390fd5b5f84815260038701602052604090205415611b53576040516312c50cad60e11b815260040160405180910390fd5b5f611b5e8787611f50565b8754909150859087905f90611b75906001906124cd565b60018b01549091505f90815b81811015611ecb578087901c600116600103611d2f575f5160206124e15f395f51905f528a8a85818110611bb757611bb7612265565b9050602002013510611bdc576040516361c0541760e11b815260040160405180910390fd5b73__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808d8d88818110611c1357611c13612265565b905060200201358152602001898152506040518263ffffffff1660e01b8152600401611c3f9190612486565b602060405180830381865af4158015611c5a573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611c7e91906124b6565b955073__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808d8d88818110611cb757611cb7612265565b905060200201358152602001888152506040518263ffffffff1660e01b8152600401611ce39190612486565b602060405180830381865af4158015611cfe573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611d2291906124b6565b9450826001019250611ec3565b86811c84821c14611eb0575f5160206124e15f395f51905f528a8a85818110611d5a57611d5a612265565b9050602002013510611d7f576040516361c0541760e11b815260040160405180910390fd5b5f81815260028e016020526040902054859003611da9575f81815260028e01602052604090208690555b73__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808981526020018d8d88818110611de657611de6612265565b905060200201358152506040518263ffffffff1660e01b8152600401611e0c9190612486565b602060405180830381865af4158015611e27573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611e4b91906124b6565b955073__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808881526020018d8d88818110611e8a57611e8a612265565b905060200201358152506040518263ffffffff1660e01b8152600401611ce39190612486565b5f81815260028e01602052604090208690555b600101611b81565b5060018c01545f90815260028d0160205260409020548414611f0057604051631fd4986360e11b815260040160405180910390fd5b5f81815260028d01602052604090208590558915611f30575f8b815260038d016020526040808220548c83529120555b5050505f88815260038a0160205260408120555091505095945050505050565b5f8181526003830160205260408120548103611f7f57604051631c811d5b60e21b815260040160405180910390fd5b5f82815260038401602052604090205461045b906001906124cd565b6001600160a01b0381168114610b2f575f5ffd5b5f5f83601f840112611fbf575f5ffd5b5081356001600160401b03811115611fd5575f5ffd5b6020830191508360208260051b8501011115611fef575f5ffd5b9250929050565b80356001600160581b038116811461200c575f5ffd5b919050565b5f5f5f5f5f5f5f5f5f60c08a8c031215612029575f5ffd5b893561203481611f9b565b985060208a0135975060408a01356001600160401b03811115612055575f5ffd5b6120618c828d01611faf565b9098509650612074905060608b01611ff6565b945060808a01356001600160401b0381111561208e575f5ffd5b61209a8c828d01611faf565b90955093505060a08a01356001600160401b038111156120b8575f5ffd5b6120c48c828d01611faf565b915080935050809150509295985092959850929598565b5f602082840312156120eb575f5ffd5b5035919050565b5f5f5f60408486031215612104575f5ffd5b8335925060208401356001600160401b03811115612120575f5ffd5b61212c86828701611faf565b9497909650939450505050565b602080825282518282018190525f918401906040840190835b81811015612170578351835260209384019390920191600101612152565b509095945050505050565b5f5f6040838503121561218c575f5ffd5b823561219781611f9b565b91506121a560208401611ff6565b90509250929050565b602080825282518282018190525f918401906040840190835b818110156121705783516001600160a01b03168352602093840193909201916001016121c7565b5f5f5f5f5f60608688031215612202575f5ffd5b8535945060208601356001600160401b0381111561221e575f5ffd5b61222a88828901611faf565b90955093505060408601356001600160401b03811115612248575f5ffd5b61225488828901611faf565b969995985093965092949392505050565b634e487b7160e01b5f52603260045260245ffd5b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b5f600182016122b2576122b261228d565b5060010190565b5f600160ff1b82016122cd576122cd61228d565b505f0390565b5f8235605e198336030181126122e7575f5ffd5b9190910192915050565b5f60208284031215612301575f5ffd5b61045b82611ff6565b5f5f8335601e1984360301811261231f575f5ffd5b8301803591506001600160401b03821115612338575f5ffd5b6020019150600581901b3603821315611fef575f5ffd5b5f6020828403121561235f575f5ffd5b815161045b81611f9b565b5f6020828403121561237a575f5ffd5b813561045b81611f9b565b808201808211156117685761176861228d565b6001815b60018411156123d3578085048111156123b7576123b761228d565b60018416156123c557908102905b60019390931c92800261239c565b935093915050565b5f826123e957506001611768565b816123f557505f611768565b816001811461240b576002811461241557612431565b6001915050611768565b60ff8411156124265761242661228d565b50506001821b611768565b5060208310610133831016604e8410600b8410161715612454575081810a611768565b6124605f198484612398565b805f19048211156124735761247361228d565b029392505050565b5f61045b83836123db565b6040810181835f5b60028110156124ad57815183526020928301929091019060010161248e565b50505092915050565b5f602082840312156124c6575f5ffd5b5051919050565b818103818111156117685761176861228d56fe30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001a2646970667358221220321bf2bd412a1acddce0642e7d7d7f9faa46cdb6d5fdf5eef57d339128cf097964736f6c634300081e0033","sourceMap":"847:20337:38:-:0;;;3327:247;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3386:13;;3417:5;3409:28;;;;-1:-1:-1;;;3409:28:38;;1670:2:42;3409:28:38;;;1652:21:42;1709:2;1689:18;;;1682:30;-1:-1:-1;;;1728:18:42;;;1721:40;1778:18;;3409:28:38;;;;;;;;3452:9;3447:121;3471:1;3467;:5;3447:121;;;3493:11;:18;;;;;;;;3548:9;;:6;;3555:1;;3548:9;;;;;;:::i;:::-;;;;;;;3525:11;3537:1;3525:14;;;;;;;;:::i;:::-;;;;;;;;;;:32;;-1:-1:-1;;;;;;3525:32:38;-1:-1:-1;;;;;3525:32:38;;;;;;;;;;-1:-1:-1;3474:3:38;3447:121;;;;3364:210;3327:247;847:20337;;14:127:42;75:10;70:3;66:20;63:1;56:31;106:4;103:1;96:15;130:4;127:1;120:15;146:177;225:13;;-1:-1:-1;;;;;267:31:42;;257:42;;247:70;;313:1;310;303:12;247:70;146:177;;;:::o;328:1135::-;423:6;476:2;464:9;455:7;451:23;447:32;444:52;;;492:1;489;482:12;444:52;519:16;;-1:-1:-1;;;;;547:30:42;;544:50;;;590:1;587;580:12;544:50;613:22;;666:4;658:13;;654:27;-1:-1:-1;644:55:42;;695:1;692;685:12;644:55;722:9;;-1:-1:-1;;;;;743:30:42;;740:56;;;776:18;;:::i;:::-;858:2;852:9;819:1;815:14;;;;912:2;904:11;;-1:-1:-1;;900:25:42;888:38;;-1:-1:-1;;;;;941:34:42;;977:22;;;938:62;935:88;;;1003:18;;:::i;:::-;1039:2;1032:22;1089;;;1139:2;1169:11;;;1165:20;;;1089:22;1127:15;;1197:19;;;1194:39;;;1229:1;1226;1219:12;1194:39;1261:2;1257;1253:11;1242:22;;1273:159;1289:6;1284:3;1281:15;1273:159;;;1355:34;1385:3;1355:34;:::i;:::-;1343:47;;1419:2;1306:12;;;;1410;1273:159;;;-1:-1:-1;1451:6:42;328:1135;-1:-1:-1;;;;;;328:1135:42:o;1807:127::-;1868:10;1863:3;1859:20;1856:1;1849:31;1899:4;1896:1;1889:15;1923:4;1920:1;1913:15;1807:127;847:20337:38;;;;;;","linkReferences":{"lib/poseidon-solidity/contracts/PoseidonT3.sol":{"PoseidonT3":[{"start":7155,"length":20},{"start":7648,"length":20},{"start":7812,"length":20},{"start":8109,"length":20},{"start":8273,"length":20}]}}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b50600436106100a6575f3560e01c80638498be041161006e5780638498be041461016357806389e8a25514610183578063c1da869114610196578063c333b0f1146101ac578063e2bc69f4146101cc578063fdbda0ec146101df575f5ffd5b8063340ae1cd146100aa57806341a38282146100bf578063650e5fcf146100f157806366e12bef1461011057806370e3afa214610150575b5f5ffd5b6100bd6100b8366004612011565b6101f2565b005b6100de6100cd3660046120db565b60066020525f908152604090205481565b6040519081526020015b60405180910390f35b6100de6100ff3660046120db565b5f9081526006602052604090205490565b61013861011e3660046120db565b60056020525f90815260409020546001600160a01b031681565b6040516001600160a01b0390911681526020016100e8565b6100bd61015e366004612011565b61028b565b6101766101713660046120f2565b6102f3565b6040516100e89190612139565b6100de61019136600461217b565b610462565b6002545f908152600360205260409020546100de565b6101bf6101ba3660046120f2565b61046d565b6040516100e891906121ae565b6100bd6101da3660046121ee565b610545565b6101386101ed3660046120db565b610ae7565b6101fb88610b0e565b6001600160a01b0389166102225760405163d92e233d60e01b815260040160405180910390fd5b5f5f5f5f6102328d8d8d8d610b32565b9350935093509350805f0361025a5760405163fcea6b3560e01b815260040160405180910390fd5b6102678484848989610de8565b6102748d828b8b8b610ec9565b61027c61106d565b50505050505050505050505050565b61029488610b0e565b6001600160a01b0389166102bb5760405163d92e233d60e01b815260040160405180910390fd5b5f5f5f5f6102cb8d8d8d8d6110c5565b93509350935093506102e08484848b8b6116be565b801561027c576102748d828b8989610ec9565b60606102fe84610b0e565b5f805b83811015610374575f85858381811061031c5761031c612265565b9050602002013590505f610330888361173f565b5f818152600560205260409020549091506001600160a01b03161580159061035e575061035e88338461176e565b1561036a578360010193505b5050600101610301565b505f816001600160401b0381111561038e5761038e612279565b6040519080825280602002602001820160405280156103b7578160200160208202803683370190505b5090505f805b85811015610454575f8787838181106103d8576103d8612265565b9050602002013590505f6103ec8a8361173f565b5f818152600560205260409020549091506001600160a01b03161580159061041a575061041a8a338461176e565b1561044a5781858561042b816122a1565b96508151811061043d5761043d612265565b6020026020010181815250505b50506001016103bd565b5090925050505b9392505050565b5f61045b838361181a565b606061047884610b0e565b816001600160401b0381111561049057610490612279565b6040519080825280602002602001820160405280156104b9578160200160208202803683370190505b5090505f5b8281101561053d5760055f6104eb878787868181106104df576104df612265565b9050602002013561173f565b81526020019081526020015f205f9054906101000a90046001600160a01b031682828151811061051d5761051d612265565b6001600160a01b03909216602092830291909101909101526001016104be565b509392505050565b61054e85610b0e565b5f836001600160401b0381111561056757610567612279565b604051908082528060200260200182016040528015610590578160200160208202803683370190505b5090505f846001600160401b038111156105ac576105ac612279565b6040519080825280602002602001820160405280156105d5578160200160208202803683370190505b5090505f856001600160401b038111156105f1576105f1612279565b60405190808252806020026020018201604052801561062457816020015b606081526020019060019003908161060f5790505b5090505f805b8781101561069957876001600160401b0381111561064a5761064a612279565b604051908082528060200260200182016040528015610673578160200160208202803683370190505b5083828151811061068657610686612265565b602090810291909101015260010161062a565b505f5b87811015610881575f8989838181106106b7576106b7612265565b9050602002013590506106cb8b338361176e565b6106f057604051630e35d34560e11b8152600481018290526024015b60405180910390fd5b5f6106fb8c8361173f565b5f818152600560205260409020549091506001600160a01b031680610736576040516349a0267360e11b8152600481018490526024016106e7565b5f82815260056020526040812080546001600160a01b031916905561075c898784611839565b90505f1981036107fc578189878151811061077957610779612265565b60200260200101906001600160a01b031690816001600160a01b031681525050838787815181106107ac576107ac612265565b60200260200101515f815181106107c5576107c5612265565b60200260200101818152505060018887815181106107e5576107e5612265565b602002602001018181525050856001019550610872565b8387828151811061080f5761080f612265565b602002602001015189838151811061082957610829612265565b60200260200101518151811061084157610841612265565b60200260200101818152505087818151811061085f5761085f612265565b6020026020010180516001019081815250505b5050505080600101905061069c565b505f5b818110156109d4575f84828151811061089f5761089f612265565b60200260200101516001600160401b038111156108be576108be612279565b6040519080825280602002602001820160405280156108e7578160200160208202803683370190505b5090505f5b8583815181106108fe576108fe612265565b60200260200101518110156109655784838151811061091f5761091f612265565b6020026020010151818151811061093857610938612265565b602002602001015182828151811061095257610952612265565b60209081029190910101526001016108ec565b508a86838151811061097957610979612265565b60200260200101516001600160a01b0316336001600160a01b03167f56017da320cb00880eb511a7183d19ed30ca4f9bcf6bf1dffa02ccb76da33915846040516109c39190612139565b60405180910390a450600101610884565b505f5b81811015610ad3575f8582815181106109f2576109f2612265565b602002602001015190505f610a08898984611890565b90505f198103610a365760405163e0a76e8560e01b81526001600160a01b03831660048201526024016106e7565b610ac982878581518110610a4c57610a4c612265565b6020026020010151610a5d906122b9565b8b8b85818110610a6f57610a6f612265565b9050602002810190610a8191906122d3565b610a929060408101906020016122f1565b8c8c86818110610aa457610aa4612265565b9050602002810190610ab691906122d3565b610ac490604081019061230a565b610ec9565b50506001016109d7565b50610adc61106d565b505050505050505050565b5f8181548110610af5575f80fd5b5f918252602090912001546001600160a01b0316905081565b5f548110610b2f5760405163517172a160e11b815260040160405180910390fd5b50565b6060805f80846001600160401b03811115610b4f57610b4f612279565b604051908082528060200260200182016040528015610b78578160200160208202803683370190505b509350846001600160401b03811115610b9357610b93612279565b604051908082528060200260200182016040528015610bbc578160200160208202803683370190505b5092505f856001600160401b03811115610bd857610bd8612279565b604051908082528060200260200182016040528015610c01578160200160208202803683370190505b5090505f5b86811015610cf8575f888883818110610c2157610c21612265565b905060200201359050610c358a338361176e565b610c5557604051630e35d34560e11b8152600481018290526024016106e7565b5f610c608b8361173f565b5f818152600560205260409020549091506001600160a01b03168015610c9c5760405163391fac8f60e21b8152600481018490526024016106e7565b5f82815260056020526040902080546001600160a01b0319166001600160a01b038f1617905584518390869088908110610cd857610cd8612265565b602002602001018181525050856001019550505050806001019050610c06565b508115610ddc575f826001600160401b03811115610d1857610d18612279565b604051908082528060200260200182016040528015610d41578160200160208202803683370190505b5090505f5b83811015610d8d57828181518110610d6057610d60612265565b6020026020010151828281518110610d7a57610d7a612265565b6020908102919091010152600101610d46565b50888a6001600160a01b0316336001600160a01b03167f3fe8c5ff8038f409c0e155c58dd77a1d041dc9654f80d372adac435fb5837c3084604051610dd29190612139565b60405180910390a4505b50945094509450949050565b5f5b83811015610ec1575f868281518110610e0557610e05612265565b602002602001015190505f610e1b858584611890565b90505f198103610e495760405163e0a76e8560e01b81526001600160a01b03831660048201526024016106e7565b610eb782888581518110610e5f57610e5f612265565b6020026020010151610e70906122b9565b878785818110610e8257610e82612265565b9050602002810190610e9491906122d3565b610ea59060408101906020016122f1565b888886818110610aa457610aa4612265565b5050600101610dea565b505050505050565b8315611066575f5f851315610f0d576001600160581b03808516860190811115610f0657604051633643f37960e21b815260040160405180910390fd5b9050610f51565b5f610f17866122b9565b9050846001600160581b0316811115610f4357604051637b1304a960e11b815260040160405180910390fd5b6001600160581b0385160390505b5f610f5c878661181a565b90505f610f69888461181a565b90505f5160206124e15f395f51905f5282101580610f9457505f5160206124e15f395f51905f528110155b15610fb257604051633643f37960e21b815260040160405180910390fd5b6001600160581b038616158015610fd157505f836001600160581b0316115b15610fe757610fe16001826118f4565b50611014565b826001600160581b03165f0361100457610fe16001838787611ab3565b611012600183838888611aca565b505b604080516001600160581b038089168252851660208201526001600160a01b038a16917fee82339564ef9f72eccdbb67b46a62198422524ab9c7e3fcbdd194fa1b46461b910160405180910390a25050505b5050505050565b6002545f90815260036020908152604080832054808452600683529281902043908190558151908152905183927fac84e1f746682c16ccc7cac6060f24ba0d81b110e6dc4cfa95bbfae24a5fc07d928290030190a250565b6060805f80846001600160401b038111156110e2576110e2612279565b60405190808252806020026020018201604052801561110b578160200160208202803683370190505b509350846001600160401b0381111561112657611126612279565b60405190808252806020026020018201604052801561114f578160200160208202803683370190505b5092505f856001600160401b0381111561116b5761116b612279565b60405190808252806020026020018201604052801561119e57816020015b60608152602001906001900390816111895790505b5090505f866001600160401b038111156111ba576111ba612279565b6040519080825280602002602001820160405280156111e3578160200160208202803683370190505b5090505f5b8781101561125757876001600160401b0381111561120857611208612279565b604051908082528060200260200182016040528015611231578160200160208202803683370190505b5083828151811061124457611244612265565b60209081029190910101526001016111e8565b505f5b8781101561147a575f89898381811061127557611275612265565b9050602002013590506112898b338361176e565b6112a957604051630e35d34560e11b8152600481018290526024016106e7565b5f6112b48c8361173f565b5f818152600560205260409020549091506001600160a01b03908116908e1681036112e157505050611472565b6001600160a01b03811615611414575f6112fc8b8a84611839565b90505f19810361139c57818b8a8151811061131957611319612265565b60200260200101906001600160a01b031690816001600160a01b03168152505083878a8151811061134c5761134c612265565b60200260200101515f8151811061136557611365612265565b60200260200101818152505060018a8a8151811061138557611385612265565b602002602001018181525050886001019850611412565b838782815181106113af576113af612265565b60200260200101518b83815181106113c9576113c9612265565b6020026020010151815181106113e1576113e1612265565b6020026020010181815250508981815181106113ff576113ff612265565b6020026020010180516001019081815250505b505b8d60055f8481526020019081526020015f205f6101000a8154816001600160a01b0302191690836001600160a01b031602179055508285888151811061145c5761145c612265565b6020026020010181815250508660010196505050505b60010161125a565b505f5b848110156115cd575f86828151811061149857611498612265565b60200260200101516001600160401b038111156114b7576114b7612279565b6040519080825280602002602001820160405280156114e0578160200160208202803683370190505b5090505f5b8783815181106114f7576114f7612265565b602002602001015181101561155e5784838151811061151857611518612265565b6020026020010151818151811061153157611531612265565b602002602001015182828151811061154b5761154b612265565b60209081029190910101526001016114e5565b508a88838151811061157257611572612265565b60200260200101516001600160a01b0316336001600160a01b03167f56017da320cb00880eb511a7183d19ed30ca4f9bcf6bf1dffa02ccb76da33915846040516115bc9190612139565b60405180910390a45060010161147d565b5082156116b1575f836001600160401b038111156115ed576115ed612279565b604051908082528060200260200182016040528015611616578160200160208202803683370190505b5090505f5b848110156116625782818151811061163557611635612265565b602002602001015182828151811061164f5761164f612265565b602090810291909101015260010161161b565b50898b6001600160a01b0316336001600160a01b03167f3fe8c5ff8038f409c0e155c58dd77a1d041dc9654f80d372adac435fb5837c30846040516116a79190612139565b60405180910390a4505b5050945094509450949050565b5f5b83811015610ec1575f8682815181106116db576116db612265565b602002602001015190505f6116f1858584611890565b90505f19810361171f5760405163e0a76e8560e01b81526001600160a01b03831660048201526024016106e7565b61173582888581518110610e5f57610e5f612265565b50506001016116c0565b604080516020808201859052818301849052825180830384018152606090920190925280519101205b92915050565b5f5f5f858154811061178257611782612265565b5f9182526020918290206040805193840181529101546001600160a01b0390811680845291516331a9108f60e11b815260048101879052929350861691636352211e90602401602060405180830381865afa1580156117e3573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611807919061234f565b6001600160a01b03161495945050505050565b6001600160581b031660589190911b600160581b600160f81b03161790565b5f805b8381101561188557826001600160a01b031685828151811061186057611860612265565b60200260200101516001600160a01b03160361187d57905061045b565b60010161183c565b505f19949350505050565b5f805b8381101561188557826001600160a01b03168585838181106118b7576118b7612265565b90506020028101906118c991906122d3565b6118d790602081019061236a565b6001600160a01b0316036118ec57905061045b565b600101611893565b5f5f5160206124e15f395f51905f528210611922576040516361c0541760e11b815260040160405180910390fd5b815f03611942576040516314b48df160e11b815260040160405180910390fd5b5f82815260038401602052604090205415611970576040516312c50cad60e11b815260040160405180910390fd5b825460018085015490611984908390612385565b61198f82600261247b565b10156119a15761199e816122a1565b90505b60018501819055835f5b82811015611a79578084901c600116600103611a5e576040805180820182525f83815260028a0160209081529083902054825281018490529051632b0aac7f60e11b815273__$a2daaad8940c9006af3f1557205ebe532d$__9163561558fe91611a189190600401612486565b602060405180830381865af4158015611a33573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611a5791906124b6565b9150611a71565b5f81815260028801602052604090208290555b6001016119ab565b50611a83836122a1565b8087555f928352600287016020908152604080852084905596845260039097019096529390209390935550919050565b5f611ac185855f8686611aca565b95945050505050565b5f5f5160206124e15f395f51905f528410611af8576040516361c0541760e11b815260040160405180910390fd5b5f858152600387016020526040902054611b2557604051631c811d5b60e21b815260040160405180910390fd5b5f84815260038701602052604090205415611b53576040516312c50cad60e11b815260040160405180910390fd5b5f611b5e8787611f50565b8754909150859087905f90611b75906001906124cd565b60018b01549091505f90815b81811015611ecb578087901c600116600103611d2f575f5160206124e15f395f51905f528a8a85818110611bb757611bb7612265565b9050602002013510611bdc576040516361c0541760e11b815260040160405180910390fd5b73__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808d8d88818110611c1357611c13612265565b905060200201358152602001898152506040518263ffffffff1660e01b8152600401611c3f9190612486565b602060405180830381865af4158015611c5a573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611c7e91906124b6565b955073__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808d8d88818110611cb757611cb7612265565b905060200201358152602001888152506040518263ffffffff1660e01b8152600401611ce39190612486565b602060405180830381865af4158015611cfe573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611d2291906124b6565b9450826001019250611ec3565b86811c84821c14611eb0575f5160206124e15f395f51905f528a8a85818110611d5a57611d5a612265565b9050602002013510611d7f576040516361c0541760e11b815260040160405180910390fd5b5f81815260028e016020526040902054859003611da9575f81815260028e01602052604090208690555b73__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808981526020018d8d88818110611de657611de6612265565b905060200201358152506040518263ffffffff1660e01b8152600401611e0c9190612486565b602060405180830381865af4158015611e27573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611e4b91906124b6565b955073__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808881526020018d8d88818110611e8a57611e8a612265565b905060200201358152506040518263ffffffff1660e01b8152600401611ce39190612486565b5f81815260028e01602052604090208690555b600101611b81565b5060018c01545f90815260028d0160205260409020548414611f0057604051631fd4986360e11b815260040160405180910390fd5b5f81815260028d01602052604090208590558915611f30575f8b815260038d016020526040808220548c83529120555b5050505f88815260038a0160205260408120555091505095945050505050565b5f8181526003830160205260408120548103611f7f57604051631c811d5b60e21b815260040160405180910390fd5b5f82815260038401602052604090205461045b906001906124cd565b6001600160a01b0381168114610b2f575f5ffd5b5f5f83601f840112611fbf575f5ffd5b5081356001600160401b03811115611fd5575f5ffd5b6020830191508360208260051b8501011115611fef575f5ffd5b9250929050565b80356001600160581b038116811461200c575f5ffd5b919050565b5f5f5f5f5f5f5f5f5f60c08a8c031215612029575f5ffd5b893561203481611f9b565b985060208a0135975060408a01356001600160401b03811115612055575f5ffd5b6120618c828d01611faf565b9098509650612074905060608b01611ff6565b945060808a01356001600160401b0381111561208e575f5ffd5b61209a8c828d01611faf565b90955093505060a08a01356001600160401b038111156120b8575f5ffd5b6120c48c828d01611faf565b915080935050809150509295985092959850929598565b5f602082840312156120eb575f5ffd5b5035919050565b5f5f5f60408486031215612104575f5ffd5b8335925060208401356001600160401b03811115612120575f5ffd5b61212c86828701611faf565b9497909650939450505050565b602080825282518282018190525f918401906040840190835b81811015612170578351835260209384019390920191600101612152565b509095945050505050565b5f5f6040838503121561218c575f5ffd5b823561219781611f9b565b91506121a560208401611ff6565b90509250929050565b602080825282518282018190525f918401906040840190835b818110156121705783516001600160a01b03168352602093840193909201916001016121c7565b5f5f5f5f5f60608688031215612202575f5ffd5b8535945060208601356001600160401b0381111561221e575f5ffd5b61222a88828901611faf565b90955093505060408601356001600160401b03811115612248575f5ffd5b61225488828901611faf565b969995985093965092949392505050565b634e487b7160e01b5f52603260045260245ffd5b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b5f600182016122b2576122b261228d565b5060010190565b5f600160ff1b82016122cd576122cd61228d565b505f0390565b5f8235605e198336030181126122e7575f5ffd5b9190910192915050565b5f60208284031215612301575f5ffd5b61045b82611ff6565b5f5f8335601e1984360301811261231f575f5ffd5b8301803591506001600160401b03821115612338575f5ffd5b6020019150600581901b3603821315611fef575f5ffd5b5f6020828403121561235f575f5ffd5b815161045b81611f9b565b5f6020828403121561237a575f5ffd5b813561045b81611f9b565b808201808211156117685761176861228d565b6001815b60018411156123d3578085048111156123b7576123b761228d565b60018416156123c557908102905b60019390931c92800261239c565b935093915050565b5f826123e957506001611768565b816123f557505f611768565b816001811461240b576002811461241557612431565b6001915050611768565b60ff8411156124265761242661228d565b50506001821b611768565b5060208310610133831016604e8410600b8410161715612454575081810a611768565b6124605f198484612398565b805f19048211156124735761247361228d565b029392505050565b5f61045b83836123db565b6040810181835f5b60028110156124ad57815183526020928301929091019060010161248e565b50505092915050565b5f602082840312156124c6575f5ffd5b5051919050565b818103818111156117685761176861228d56fe30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001a2646970667358221220321bf2bd412a1acddce0642e7d7d7f9faa46cdb6d5fdf5eef57d339128cf097964736f6c634300081e0033","sourceMap":"847:20337:38:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6814:968;;;;;;:::i;:::-;;:::i;:::-;;2113:51;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;2546:25:42;;;2534:2;2519:18;2113:51:38;;;;;;;;4003:120;;;;;;:::i;:::-;4068:7;4094:22;;;:16;:22;;;;;;;4003:120;1873:48;;;;;;:::i;:::-;;;;;;;;;;;;-1:-1:-1;;;;;1873:48:38;;;;;;-1:-1:-1;;;;;2931:32:42;;;2913:51;;2901:2;2886:18;1873:48:38;2767:203:42;10968:893:38;;;;;;:::i;:::-;;:::i;5084:964::-;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;4279:150::-;;;;;;:::i;:::-;;:::i;3681:96::-;13688:10:36;;3729:7:38;13673:26:36;;;:14;:26;;;;;;3681:96:38;;4530:367;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;8080:2353::-;;;;;;:::i;:::-;;:::i;1423:31::-;;;;;;:::i;:::-;;:::i;6814:968::-;7047:21;7059:8;7047:11;:21::i;:::-;-1:-1:-1;;;;;7082:16:38;;7078:42;;7107:13;;-1:-1:-1;;;7107:13:38;;;;;;;;;;;7078:42;7197:35;7234:32;7268:23;7293:13;7318:38;7338:2;7342:8;7352:3;;7318:19;:38::i;:::-;7196:160;;;;;;;;7371:5;7380:1;7371:10;7367:41;;7390:18;;-1:-1:-1;;;7390:18:38;;;;;;;;;;;7367:41;7505:87;7527:18;7547:15;7564;7581:10;;7505:21;:87::i;:::-;7653:58;7665:2;7676:5;7684:17;7703:7;;7653:11;:58::i;:::-;7755:20;:18;:20::i;:::-;7037:745;;;;6814:968;;;;;;;;;:::o;10968:893::-;11209:21;11221:8;11209:11;:21::i;:::-;-1:-1:-1;;;;;11244:16:38;;11240:42;;11269:13;;-1:-1:-1;;;11269:13:38;;;;;;;;;;;11240:42;11356:26;11384:27;11413:14;11429:13;11458:44;11484:2;11488:8;11498:3;;11458:25;:44::i;:::-;11355:147;;;;;;;;11565:59;11582:9;11593:10;11605:6;11613:10;;11565:16;:59::i;:::-;11689:9;;11685:170;;11714:58;11726:2;11737:5;11745:17;11764:7;;11714:11;:58::i;5084:964::-;5177:16;5205:21;5217:8;5205:11;:21::i;:::-;5236:13;;5259:396;5279:23;;;5259:396;;;5323:10;5336:12;;5349:1;5336:15;;;;;;;:::i;:::-;;;;;;;5323:28;;5365:11;5379:23;5389:8;5399:2;5379:9;:23::i;:::-;5516:1;5486:18;;;:13;:18;;;;;;5365:37;;-1:-1:-1;;;;;;5486:18:38;:32;;;;:67;;;5522:31;5528:8;5538:10;5550:2;5522:5;:31::i;:::-;5482:163;;;5605:7;;;;;5482:163;-1:-1:-1;;5304:3:38;;5259:396;;;;5664:20;5701:5;-1:-1:-1;;;;;5687:20:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;5687:20:38;-1:-1:-1;5664:43:38;-1:-1:-1;5717:9:38;;5736:286;5756:23;;;5736:286;;;5800:10;5813:12;;5826:1;5813:15;;;;;;;:::i;:::-;;;;;;;5800:28;;5842:11;5856:23;5866:8;5876:2;5856:9;:23::i;:::-;5927:1;5897:18;;;:13;:18;;;;;;5842:37;;-1:-1:-1;;;;;;5897:18:38;:32;;;;:67;;;5933:31;5939:8;5949:10;5961:2;5933:5;:31::i;:::-;5893:119;;;5995:2;5984:3;5988;;;;:::i;:::-;;;5984:8;;;;;;;;:::i;:::-;;;;;;:13;;;;;5893:119;-1:-1:-1;;5781:3:38;;5736:286;;;-1:-1:-1;6038:3:38;;-1:-1:-1;;;5084:964:38;;;;;;:::o;4279:150::-;4365:12;4396:26;4406:7;4415:6;4396:9;:26::i;4530:367::-;4648:26;4690:21;4702:8;4690:11;:21::i;:::-;4747:3;-1:-1:-1;;;;;4733:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;4733:25:38;-1:-1:-1;4721:37:38;-1:-1:-1;4773:9:38;4768:123;4788:14;;;4768:123;;;4838:13;:42;4852:27;4862:8;4872:3;;4876:1;4872:6;;;;;;;:::i;:::-;;;;;;;4852:9;:27::i;:::-;4838:42;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;4838:42:38;4823:9;4833:1;4823:12;;;;;;;;:::i;:::-;-1:-1:-1;;;;;4823:57:38;;;:12;;;;;;;;;;;:57;4804:3;;4768:123;;;;4530:367;;;;;:::o;8080:2353::-;8191:21;8203:8;8191:11;:21::i;:::-;8320:25;8362:3;-1:-1:-1;;;;;8348:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;8348:25:38;-1:-1:-1;8320:53:38;-1:-1:-1;8383:23:38;8423:3;-1:-1:-1;;;;;8409:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;8409:25:38;-1:-1:-1;8383:51:38;-1:-1:-1;8444:37:38;8500:3;-1:-1:-1;;;;;8484:27:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;8444:67:38;-1:-1:-1;8521:14:38;;8612:115;8632:14;;;8612:115;;;8705:3;-1:-1:-1;;;;;8691:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;8691:25:38;;8667:18;8686:1;8667:21;;;;;;;;:::i;:::-;;;;;;;;;;:49;8648:3;;8612:115;;;-1:-1:-1;8742:9:38;8737:838;8757:14;;;8737:838;;;8792:10;8805:3;;8809:1;8805:6;;;;;;;:::i;:::-;;;;;;;8792:19;;8830:31;8836:8;8846:10;8858:2;8830:5;:31::i;:::-;8825:62;;8870:17;;-1:-1:-1;;;8870:17:38;;;;;2546:25:42;;;2519:18;;8870:17:38;;;;;;;;8825:62;8902:11;8916:23;8926:8;8936:2;8916:9;:23::i;:::-;8953:11;8967:18;;;:13;:18;;;;;;8902:37;;-1:-1:-1;;;;;;8967:18:38;;8999:46;;9029:16;;-1:-1:-1;;;9029:16:38;;;;;2546:25:42;;;2519:18;;9029:16:38;2400:177:42;8999:46:38;9089:1;9060:18;;;:13;:18;;;;;:31;;-1:-1:-1;;;;;;9060:31:38;;;9118;9127:8;9137:6;9145:3;9118:8;:31::i;:::-;9106:43;;-1:-1:-1;;9167:1:38;:22;9163:402;;9228:3;9209:8;9218:6;9209:16;;;;;;;;:::i;:::-;;;;;;:22;-1:-1:-1;;;;;9209:22:38;;;-1:-1:-1;;;;;9209:22:38;;;;;9281:2;9249:18;9268:6;9249:26;;;;;;;;:::i;:::-;;;;;;;9276:1;9249:29;;;;;;;;:::i;:::-;;;;;;:34;;;;;9318:1;9301:6;9308;9301:14;;;;;;;;:::i;:::-;;;;;;:18;;;;;9369:8;;;;;9163:402;;;9469:2;9434:18;9453:1;9434:21;;;;;;;;:::i;:::-;;;;;;;9456:6;9463:1;9456:9;;;;;;;;:::i;:::-;;;;;;;9434:32;;;;;;;;:::i;:::-;;;;;;:37;;;;;9523:6;9530:1;9523:9;;;;;;;;:::i;:::-;;;;;;9521:11;;;;;;;;;;9163:402;8778:797;;;;8773:3;;;;;8737:838;;;-1:-1:-1;9637:9:38;9632:404;9656:6;9652:1;:10;9632:404;;;9745:33;9795:6;9802:1;9795:9;;;;;;;;:::i;:::-;;;;;;;-1:-1:-1;;;;;9781:24:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;9781:24:38;-1:-1:-1;9745:60:38;-1:-1:-1;9824:9:38;9819:119;9843:6;9850:1;9843:9;;;;;;;;:::i;:::-;;;;;;;9839:1;:13;9819:119;;;9899:18;9918:1;9899:21;;;;;;;;:::i;:::-;;;;;;;9921:1;9899:24;;;;;;;;:::i;:::-;;;;;;;9877:16;9894:1;9877:19;;;;;;;;:::i;:::-;;;;;;;;;;:46;9854:3;;9819:119;;;;9998:8;9985;9994:1;9985:11;;;;;;;;:::i;:::-;;;;;;;-1:-1:-1;;;;;9956:69:38;9973:10;-1:-1:-1;;;;;9956:69:38;;10008:16;9956:69;;;;;;:::i;:::-;;;;;;;;-1:-1:-1;9664:3:38;;9632:404;;;-1:-1:-1;10051:9:38;10046:317;10070:6;10066:1;:10;10046:317;;;10097:12;10112:8;10121:1;10112:11;;;;;;;;:::i;:::-;;;;;;;10097:26;;10137:12;10152:27;10166:6;;10174:4;10152:13;:27::i;:::-;10137:42;;-1:-1:-1;;10197:4:38;:25;10193:57;;10231:19;;-1:-1:-1;;;10231:19:38;;-1:-1:-1;;;;;2931:32:42;;10231:19:38;;;2913:51:42;2886:18;;10231:19:38;2767:203:42;10193:57:38;10264:88;10276:4;10290:6;10297:1;10290:9;;;;;;;;:::i;:::-;;;;;;;10282:18;;;:::i;:::-;10302:6;;10309:4;10302:12;;;;;;;:::i;:::-;;;;;;;;;;;;:::i;:::-;:26;;;;;;;;;:::i;:::-;10330:6;;10337:4;10330:12;;;;;;;:::i;:::-;;;;;;;;;;;;:::i;:::-;:21;;;;;;;:::i;:::-;10264:11;:88::i;:::-;-1:-1:-1;;10078:3:38;;10046:317;;;;10406:20;:18;:20::i;:::-;8181:2252;;;;8080:2353;;;;;:::o;1423:31::-;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1423:31:38;;-1:-1:-1;1423:31:38;:::o;17363:132::-;17442:11;:18;17430:30;;17426:62;;17469:19;;-1:-1:-1;;;17469:19:38;;;;;;;;;;;17426:62;17363:132;:::o;18920:1600::-;19050:35;;19145:23;;19255:3;-1:-1:-1;;;;;19241:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;19241:25:38;-1:-1:-1;19220:46:38;-1:-1:-1;19308:3:38;-1:-1:-1;;;;;19294:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;19294:25:38;-1:-1:-1;19276:43:38;-1:-1:-1;19329:25:38;19371:3;-1:-1:-1;;;;;19357:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;19357:25:38;-1:-1:-1;19329:53:38;-1:-1:-1;19398:9:38;19393:739;19413:14;;;19393:739;;;19448:10;19461:3;;19465:1;19461:6;;;;;;;:::i;:::-;;;;;;;19448:19;;19486:31;19492:8;19502:10;19514:2;19486:5;:31::i;:::-;19481:62;;19526:17;;-1:-1:-1;;;19526:17:38;;;;;2546:25:42;;;2519:18;;19526:17:38;2400:177:42;19481:62:38;19558:11;19572:23;19582:8;19592:2;19572:9;:23::i;:::-;19609:24;19636:18;;;:13;:18;;;;;;19558:37;;-1:-1:-1;;;;;;19636:18:38;19756:30;;19752:235;;19952:20;;-1:-1:-1;;;19952:20:38;;;;;2546:25:42;;;2519:18;;19952:20:38;2400:177:42;19752:235:38;20001:18;;;;:13;:18;;;;;:23;;-1:-1:-1;;;;;;20001:23:38;-1:-1:-1;;;;;20001:23:38;;;;;20038:15;;20056:2;;20038:15;;20047:5;;20038:15;;;;;;:::i;:::-;;;;;;:20;;;;;20100:7;;;;;19434:698;;;19429:3;;;;;19393:739;;;-1:-1:-1;20199:9:38;;20195:319;;20267:29;20313:5;-1:-1:-1;;;;;20299:20:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;20299:20:38;-1:-1:-1;20267:52:38;-1:-1:-1;20338:9:38;20333:98;20357:5;20353:1;:9;20333:98;;;20405:8;20414:1;20405:11;;;;;;;;:::i;:::-;;;;;;;20387:12;20400:1;20387:15;;;;;;;;:::i;:::-;;;;;;;;;;:29;20364:3;;20333:98;;;;20480:8;20476:2;-1:-1:-1;;;;;20449:54:38;20464:10;-1:-1:-1;;;;;20449:54:38;;20490:12;20449:54;;;;;;:::i;:::-;;;;;;;;20210:304;20195:319;19210:1310;18920:1600;;;;;;;;;:::o;20601:581::-;20824:9;20819:357;20843:15;20839:1;:19;20819:357;;;20879:12;20894:18;20913:1;20894:21;;;;;;;;:::i;:::-;;;;;;;20879:36;;20929:12;20944:31;20958:10;;20970:4;20944:13;:31::i;:::-;20929:46;;-1:-1:-1;;20993:4:38;:25;20989:57;;21027:19;;-1:-1:-1;;;21027:19:38;;-1:-1:-1;;;;;2931:32:42;;21027:19:38;;;2913:51:42;2886:18;;21027:19:38;2767:203:42;20989:57:38;21060:105;21072:4;21086:15;21102:1;21086:18;;;;;;;;:::i;:::-;;;;;;;21078:27;;;:::i;:::-;21107:10;;21118:4;21107:16;;;;;;;:::i;:::-;;;;;;;;;;;;:::i;:::-;:30;;;;;;;;;:::i;:::-;21139:10;;21150:4;21139:16;;;;;;;:::i;21060:105::-;-1:-1:-1;;20860:3:38;;20819:357;;;;20601:581;;;;;:::o;12259:1616::-;12377:23;;12393:7;12377:23;12410:11;12444:1;12436:5;:9;12432:458;;;-1:-1:-1;;;;;12503:18:38;;;:43;;;12568:22;;12564:51;;;12599:16;;-1:-1:-1;;;12599:16:38;;;;;;;;;;;12564:51;12647:3;-1:-1:-1;12432:458:38;;;12696:11;12718:6;12719:5;12718:6;:::i;:::-;12696:29;;12749:9;-1:-1:-1;;;;;12743:15:38;:3;:15;12739:45;;;12767:17;;-1:-1:-1;;;12767:17:38;;;;;;;;;;;12739:45;-1:-1:-1;;;;;12840:18:38;;:24;;-1:-1:-1;12432:458:38;12900:15;12918:29;12928:7;12937:9;12918;:29::i;:::-;12900:47;;12957:15;12975:24;12985:7;12994:4;12975:9;:24::i;:::-;12957:42;;-1:-1:-1;;;;;;;;;;;13070:7:38;:29;;:62;;;;-1:-1:-1;;;;;;;;;;;13103:7:38;:29;;13070:62;13066:91;;;13141:16;;-1:-1:-1;;;13141:16:38;;;;;;;;;;;13066:91;-1:-1:-1;;;;;13172:14:38;;;:26;;;;;13197:1;13190:4;-1:-1:-1;;;;;13190:8:38;;13172:26;13168:550;;;13266:24;:7;13282;13266:15;:24::i;:::-;;13168:550;;;13330:4;-1:-1:-1;;;;;13330:9:38;13338:1;13330:9;13326:392;;13399:34;:7;13415;13424:8;;13399:15;:34::i;13326:392::-;13664:43;:7;13680;13689;13698:8;;13664:15;:43::i;:::-;;13326:392;13829:39;;;-1:-1:-1;;;;;9433:37:42;;;9415:56;;9507:37;;9502:2;9487:18;;9480:65;-1:-1:-1;;;;;13829:39:38;;;;;9388:18:42;13829:39:38;;;;;;;12367:1508;;;12259:1616;;;;;;:::o;13939:194::-;13688:10:36;;13988:15:38;13673:26:36;;;:14;:26;;;;;;;;;14031:25:38;;;:16;:25;;;;;;14059:12;14031:40;;;;14086;;2546:25:42;;;14086:40:38;;13673:26:36;;14086:40:38;;;;;;;;13978:155;13939:194::o;14251:2503::-;14374:26;;14431:14;;14502:3;-1:-1:-1;;;;;14488:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;14488:25:38;-1:-1:-1;14476:37:38;-1:-1:-1;14550:3:38;-1:-1:-1;;;;;14536:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;14536:25:38;-1:-1:-1;14523:38:38;-1:-1:-1;14571:43:38;14633:3;-1:-1:-1;;;;;14617:27:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;14571:73:38;-1:-1:-1;14654:29:38;14700:3;-1:-1:-1;;;;;14686:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;14686:25:38;-1:-1:-1;14654:57:38;-1:-1:-1;14795:9:38;14790:121;14810:14;;;14790:121;;;14889:3;-1:-1:-1;;;;;14875:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;14875:25:38;;14845:24;14870:1;14845:27;;;;;;;;:::i;:::-;;;;;;;;;;:55;14826:3;;14790:121;;;-1:-1:-1;14926:9:38;14921:1072;14941:14;;;14921:1072;;;14976:10;14989:3;;14993:1;14989:6;;;;;;;:::i;:::-;;;;;;;14976:19;;15014:31;15020:8;15030:10;15042:2;15014:5;:31::i;:::-;15009:62;;15054:17;;-1:-1:-1;;;15054:17:38;;;;;2546:25:42;;;2519:18;;15054:17:38;2400:177:42;15009:62:38;15086:11;15100:23;15110:8;15120:2;15100:9;:23::i;:::-;15137:12;15152:18;;;:13;:18;;;;;;15086:37;;-1:-1:-1;;;;;;15152:18:38;;;;15189:10;;;;15185:24;;15201:8;;;;;15185:24;-1:-1:-1;;;;;15253:18:38;;;15249:595;;15291:9;15303:33;15312:9;15323:6;15331:4;15303:8;:33::i;:::-;15291:45;;-1:-1:-1;;15358:1:38;:22;15354:476;;15424:4;15404:9;15414:6;15404:17;;;;;;;;:::i;:::-;;;;;;:24;-1:-1:-1;;;;;15404:24:38;;;-1:-1:-1;;;;;15404:24:38;;;;;15488:2;15450:24;15475:6;15450:32;;;;;;;;:::i;:::-;;;;;;;15483:1;15450:35;;;;;;;;:::i;:::-;;;;;;:40;;;;;15533:1;15512:10;15523:6;15512:18;;;;;;;;:::i;:::-;;;;;;:22;;;;;15592:8;;;;;15354:476;;;15714:2;15669:24;15694:1;15669:27;;;;;;;;:::i;:::-;;;;;;;15697:10;15708:1;15697:13;;;;;;;;:::i;:::-;;;;;;;15669:42;;;;;;;;:::i;:::-;;;;;;:47;;;;;15776:10;15787:1;15776:13;;;;;;;;:::i;:::-;;;;;;15774:15;;;;;;;;;;15354:476;15273:571;15249:595;15879:2;15858:13;:18;15872:3;15858:18;;;;;;;;;;;;:23;;;;;-1:-1:-1;;;;;15858:23:38;;;;;-1:-1:-1;;;;;15858:23:38;;;;;;15917:2;15895:12;15908:5;15895:19;;;;;;;;:::i;:::-;;;;;;:24;;;;;15961:7;;;;;14962:1031;;;14921:1072;14957:3;;14921:1072;;;-1:-1:-1;16055:9:38;16050:351;16074:6;16070:1;:10;16050:351;;;16101:31;16149:10;16160:1;16149:13;;;;;;;;:::i;:::-;;;;;;;-1:-1:-1;;;;;16135:28:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;16135:28:38;-1:-1:-1;16101:62:38;-1:-1:-1;16182:9:38;16177:127;16201:10;16212:1;16201:13;;;;;;;;:::i;:::-;;;;;;;16197:1;:17;16177:127;;;16259:24;16284:1;16259:27;;;;;;;;:::i;:::-;;;;;;;16287:1;16259:30;;;;;;;;:::i;:::-;;;;;;;16239:14;16254:1;16239:17;;;;;;;;:::i;:::-;;;;;;;;;;:50;16216:3;;16177:127;;;;16365:8;16351:9;16361:1;16351:12;;;;;;;;:::i;:::-;;;;;;;-1:-1:-1;;;;;16322:68:38;16339:10;-1:-1:-1;;;;;16322:68:38;;16375:14;16322:68;;;;;;:::i;:::-;;;;;;;;-1:-1:-1;16082:3:38;;16050:351;;;-1:-1:-1;16463:9:38;;16459:289;;16488:32;16537:5;-1:-1:-1;;;;;16523:20:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;16523:20:38;-1:-1:-1;16488:55:38;-1:-1:-1;16562:9:38;16557:105;16581:5;16577:1;:9;16557:105;;;16632:12;16645:1;16632:15;;;;;;;;:::i;:::-;;;;;;;16611;16627:1;16611:18;;;;;;;;:::i;:::-;;;;;;;;;;:36;16588:3;;16557:105;;;;16711:8;16707:2;-1:-1:-1;;;;;16680:57:38;16695:10;-1:-1:-1;;;;;16680:57:38;;16721:15;16680:57;;;;;;:::i;:::-;;;;;;;;16474:274;16459:289;14466:2288;;14251:2503;;;;;;;;;:::o;16827:530::-;17022:9;17017:334;17041:6;17037:1;:10;17017:334;;;17068:12;17083:9;17093:1;17083:12;;;;;;;;:::i;:::-;;;;;;;17068:27;;17109:12;17124:31;17138:10;;17150:4;17124:13;:31::i;:::-;17109:46;;-1:-1:-1;;17173:4:38;:25;17169:57;;17207:19;;-1:-1:-1;;;17207:19:38;;-1:-1:-1;;;;;2931:32:42;;17207:19:38;;;2913:51:42;2886:18;;17207:19:38;2767:203:42;17169:57:38;17240:100;17252:4;17266:10;17277:1;17266:13;;;;;;;;:::i;17240:100::-;-1:-1:-1;;17049:3:38;;17017:334;;17575:156;17688:35;;;;;;;9713:19:42;;;9748:12;;;9741:28;;;17688:35:38;;;;;;;;;9785:12:42;;;;17688:35:38;;;17678:46;;;;;17575:156;;;;;:::o;18049:213::-;18137:4;18153:19;18175:11;18187:8;18175:21;;;;;;;;:::i;:::-;;;;;;;;;;18153:43;;;;;;;;18175:21;;18153:43;-1:-1:-1;;;;;18153:43:38;;;;;;18213:33;;-1:-1:-1;;;18213:33:38;;;;;2546:25:42;;;18153:43:38;;-1:-1:-1;18213:42:38;;;:24;;2519:18:42;;18213:33:38;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;18213:42:38;;;18049:213;-1:-1:-1;;;;;18049:213:38:o;17844:158::-;-1:-1:-1;;;;;17980:15:38;17974:2;17945:31;;;;-1:-1:-1;;;;;;;17945:31:38;17944:51;;17844:158::o;18324:230::-;18411:7;;18430:84;18454:3;18450:1;:7;18430:84;;;18492:1;-1:-1:-1;;;;;18482:11:38;:3;18486:1;18482:6;;;;;;;;:::i;:::-;;;;;;;-1:-1:-1;;;;;18482:11:38;;18478:25;;18502:1;-1:-1:-1;18495:8:38;;18478:25;18459:3;;18430:84;;;-1:-1:-1;;;18530:17:38;18324:230;-1:-1:-1;;;;18324:230:38:o;18560:263::-;18653:7;;18672:111;18692:17;;;18672:111;;;18755:7;-1:-1:-1;;;;;18734:28:38;:6;;18741:1;18734:9;;;;;;;:::i;:::-;;;;;;;;;;;;:::i;:::-;:17;;;;;;;:::i;:::-;-1:-1:-1;;;;;18734:28:38;;18730:42;;18771:1;-1:-1:-1;18764:8:38;;18730:42;18711:3;;18672:111;;1985:1288:36;2060:7;-1:-1:-1;;;;;;;;;;;2083:4:36;:26;2079:247;;2132:33;;-1:-1:-1;;;2132:33:36;;;;;;;;;;;2079:247;2186:4;2194:1;2186:9;2182:144;;2218:18;;-1:-1:-1;;;2218:18:36;;;;;;;;;;;2182:144;12726:4;12749:17;;;:11;;;:17;;;;;;:22;2253:73;;2296:19;;-1:-1:-1;;;2296:19:36;;;;;;;;;;;2253:73;2352:9;;2436:10;;;;;;2700:9;;2352;;2700;:::i;:::-;2683:14;2688:9;2683:1;:14;:::i;:::-;:26;2679:68;;;2725:11;;;:::i;:::-;;;2679:68;2757:10;;;:22;;;2805:4;2790:12;2820:317;2852:9;2844:5;:17;2820:317;;;2893:5;2884;:14;;2902:1;2883:20;2907:1;2883:25;2879:184;;2935:46;;;;;;;;-1:-1:-1;2952:21:36;;;:14;;;:21;;;;;;;;;2935:46;;;;;;;;;-1:-1:-1;;;2935:46:36;;:10;;:15;;:46;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2928:53;;2879:184;;;3020:21;;;;:14;;;:21;;;;;:28;;;2879:184;3105:7;;2820:317;;;-1:-1:-1;3159:7:36;;;:::i;:::-;3147:19;;;:9;3177:25;;;:14;;;:25;;;;;;;;:32;;;3219:17;;;:11;;;;:17;;;;;;:25;;;;-1:-1:-1;3177:32:36;1985:1288;-1:-1:-1;1985:1288:36:o;12163:213::-;12304:7;12330:39;12338:4;12344:7;12353:1;12356:12;;12330:7;:39::i;:::-;12323:46;12163:213;-1:-1:-1;;;;;12163:213:36:o;9389:2241::-;9555:7;-1:-1:-1;;;;;;;;;;;9578:7:36;:29;9574:264;;9630:33;;-1:-1:-1;;;9630:33:36;;;;;;;;;;;9574:264;12726:4;12749:17;;;:11;;;:17;;;;;;9680:158;;9727:18;;-1:-1:-1;;;9727:18:36;;;;;;;;;;;9680:158;12726:4;12749:17;;;:11;;;:17;;;;;;:22;9762:76;;9808:19;;-1:-1:-1;;;9808:19:36;;;;;;;;;;;9762:76;9848:13;9864:23;9873:4;9879:7;9864:8;:23::i;:::-;9985:9;;9848:39;;-1:-1:-1;9912:7:36;;9947;;9897:12;;9985:13;;9997:1;;9985:13;:::i;:::-;10096:10;;;;9965:33;;-1:-1:-1;10008:9:36;;;10117:1222;10149:9;10141:5;:17;10117:1222;;;10190:5;10181;:14;;10199:1;10180:20;10204:1;10180:25;10176:1089;;-1:-1:-1;;;;;;;;;;;10229:12:36;;10242:1;10229:15;;;;;;;:::i;:::-;;;;;;;:37;10225:124;;10297:33;;-1:-1:-1;;;10297:33:36;;;;;;;;;;;10225:124;10374:10;:15;:40;;;;;;;;10391:12;;10404:1;10391:15;;;;;;;:::i;:::-;;;;;;;10374:40;;;;10408:4;10374:40;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;10367:47;;10442:10;:15;:43;;;;;;;;10459:12;;10472:1;10459:15;;;;;;;:::i;:::-;;;;;;;10442:43;;;;10476:7;10442:43;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;10432:53;;10536:3;;;;;10176:1089;;;10600:14;;;10618:18;;;10600:36;10596:655;;-1:-1:-1;;;;;;;;;;;10664:12:36;;10677:1;10664:15;;;;;;;:::i;:::-;;;;;;;:37;10660:132;;10736:33;;-1:-1:-1;;;10736:33:36;;;;;;;;;;;10660:132;10818:21;;;;:14;;;:21;;;;;;:32;;;10814:115;;10878:21;;;;:14;;;:21;;;;;:28;;;10814:115;10958:10;:15;:40;;;;;;;;10975:4;10958:40;;;;10981:12;;10994:1;10981:15;;;;;;;:::i;:::-;;;;;;;10958:40;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;10951:47;;11030:10;:15;:43;;;;;;;;11047:7;11030:43;;;;11056:12;;11069:1;11056:15;;;;;;;:::i;:::-;;;;;;;11030:43;;;;;;;;;;;;;;;;;;:::i;10596:655::-;11204:21;;;;:14;;;:21;;;;;:28;;;10596:655;11307:7;;10117:1222;;;-1:-1:-1;13688:10:36;;;;13647:7;13673:26;;;:14;;;:26;;;;;;11353:7;:22;11349:79;;11398:19;;-1:-1:-1;;;11398:19:36;;;;;;;;;;;11349:79;11438:25;;;;:14;;;:25;;;;;:32;;;11485:12;;11481:86;;11536:20;;;;:11;;;:20;;;;;;;11513;;;;;:43;11481:86;-1:-1:-1;;;11600:1:36;11577:20;;;:11;;;:20;;;;;:24;-1:-1:-1;11619:4:36;-1:-1:-1;;9389:2241:36;;;;;;;:::o;13130:223::-;13211:7;13234:17;;;:11;;;:17;;;;;;:22;;13230:78;;13279:18;;-1:-1:-1;;;13279:18:36;;;;;;;;;;;13230:78;13325:17;;;;:11;;;:17;;;;;;:21;;13345:1;;13325:21;:::i;14:131:42:-;-1:-1:-1;;;;;89:31:42;;79:42;;69:70;;135:1;132;125:12;150:367;213:8;223:6;277:3;270:4;262:6;258:17;254:27;244:55;;295:1;292;285:12;244:55;-1:-1:-1;318:20:42;;-1:-1:-1;;;;;350:30:42;;347:50;;;393:1;390;383:12;347:50;430:4;422:6;418:17;406:29;;490:3;483:4;473:6;470:1;466:14;458:6;454:27;450:38;447:47;444:67;;;507:1;504;497:12;444:67;150:367;;;;;:::o;522:177::-;589:20;;-1:-1:-1;;;;;638:36:42;;628:47;;618:75;;689:1;686;679:12;618:75;522:177;;;:::o;704:1460::-;919:6;927;935;943;951;959;967;975;983;1036:3;1024:9;1015:7;1011:23;1007:33;1004:53;;;1053:1;1050;1043:12;1004:53;1092:9;1079:23;1111:31;1136:5;1111:31;:::i;:::-;1161:5;-1:-1:-1;1239:2:42;1224:18;;1211:32;;-1:-1:-1;1320:2:42;1305:18;;1292:32;-1:-1:-1;;;;;1336:30:42;;1333:50;;;1379:1;1376;1369:12;1333:50;1418:70;1480:7;1471:6;1460:9;1456:22;1418:70;:::i;:::-;1507:8;;-1:-1:-1;1392:96:42;-1:-1:-1;1561:37:42;;-1:-1:-1;1594:2:42;1579:18;;1561:37;:::i;:::-;1551:47;;1651:3;1640:9;1636:19;1623:33;-1:-1:-1;;;;;1671:8:42;1668:32;1665:52;;;1713:1;1710;1703:12;1665:52;1752:72;1816:7;1805:8;1794:9;1790:24;1752:72;:::i;:::-;1843:8;;-1:-1:-1;1726:98:42;-1:-1:-1;;1931:3:42;1916:19;;1903:33;-1:-1:-1;;;;;1948:32:42;;1945:52;;;1993:1;1990;1983:12;1945:52;2032:72;2096:7;2085:8;2074:9;2070:24;2032:72;:::i;:::-;2006:98;;2123:8;2113:18;;;2150:8;2140:18;;;704:1460;;;;;;;;;;;:::o;2169:226::-;2228:6;2281:2;2269:9;2260:7;2256:23;2252:32;2249:52;;;2297:1;2294;2287:12;2249:52;-1:-1:-1;2342:23:42;;2169:226;-1:-1:-1;2169:226:42:o;4440:551::-;4535:6;4543;4551;4604:2;4592:9;4583:7;4579:23;4575:32;4572:52;;;4620:1;4617;4610:12;4572:52;4665:23;;;-1:-1:-1;4763:2:42;4748:18;;4735:32;-1:-1:-1;;;;;4779:30:42;;4776:50;;;4822:1;4819;4812:12;4776:50;4861:70;4923:7;4914:6;4903:9;4899:22;4861:70;:::i;:::-;4440:551;;4950:8;;-1:-1:-1;4835:96:42;;-1:-1:-1;;;;4440:551:42:o;4996:611::-;5186:2;5198:21;;;5268:13;;5171:18;;;5290:22;;;5138:4;;5369:15;;;5343:2;5328:18;;;5138:4;5412:169;5426:6;5423:1;5420:13;5412:169;;;5487:13;;5475:26;;5530:2;5556:15;;;;5521:12;;;;5448:1;5441:9;5412:169;;;-1:-1:-1;5598:3:42;;4996:611;-1:-1:-1;;;;;4996:611:42:o;5612:319::-;5679:6;5687;5740:2;5728:9;5719:7;5715:23;5711:32;5708:52;;;5756:1;5753;5746:12;5708:52;5795:9;5782:23;5814:31;5839:5;5814:31;:::i;:::-;5864:5;-1:-1:-1;5888:37:42;5921:2;5906:18;;5888:37;:::i;:::-;5878:47;;5612:319;;;;;:::o;5936:637::-;6126:2;6138:21;;;6208:13;;6111:18;;;6230:22;;;6078:4;;6309:15;;;6283:2;6268:18;;;6078:4;6352:195;6366:6;6363:1;6360:13;6352:195;;;6431:13;;-1:-1:-1;;;;;6427:39:42;6415:52;;6496:2;6522:15;;;;6487:12;;;;6463:1;6381:9;6352:195;;6578:913;6740:6;6748;6756;6764;6772;6825:2;6813:9;6804:7;6800:23;6796:32;6793:52;;;6841:1;6838;6831:12;6793:52;6886:23;;;-1:-1:-1;6984:2:42;6969:18;;6956:32;-1:-1:-1;;;;;7000:30:42;;6997:50;;;7043:1;7040;7033:12;6997:50;7082:70;7144:7;7135:6;7124:9;7120:22;7082:70;:::i;:::-;7171:8;;-1:-1:-1;7056:96:42;-1:-1:-1;;7259:2:42;7244:18;;7231:32;-1:-1:-1;;;;;7275:32:42;;7272:52;;;7320:1;7317;7310:12;7272:52;7359:72;7423:7;7412:8;7401:9;7397:24;7359:72;:::i;:::-;6578:913;;;;-1:-1:-1;6578:913:42;;-1:-1:-1;7450:8:42;;7333:98;6578:913;-1:-1:-1;;;6578:913:42:o;7496:127::-;7557:10;7552:3;7548:20;7545:1;7538:31;7588:4;7585:1;7578:15;7612:4;7609:1;7602:15;7628:127;7689:10;7684:3;7680:20;7677:1;7670:31;7720:4;7717:1;7710:15;7744:4;7741:1;7734:15;7760:127;7821:10;7816:3;7812:20;7809:1;7802:31;7852:4;7849:1;7842:15;7876:4;7873:1;7866:15;7892:135;7931:3;7952:17;;;7949:43;;7972:18;;:::i;:::-;-1:-1:-1;8019:1:42;8008:13;;7892:135::o;8032:136::-;8067:3;-1:-1:-1;;;8088:22:42;;8085:48;;8113:18;;:::i;:::-;-1:-1:-1;8153:1:42;8149:13;;8032:136::o;8173:328::-;8270:4;8328:11;8315:25;8422:2;8418:7;8407:8;8391:14;8387:29;8383:43;8363:18;8359:68;8349:96;;8441:1;8438;8431:12;8349:96;8462:33;;;;;8173:328;-1:-1:-1;;8173:328:42:o;8506:184::-;8564:6;8617:2;8605:9;8596:7;8592:23;8588:32;8585:52;;;8633:1;8630;8623:12;8585:52;8656:28;8674:9;8656:28;:::i;8695:545::-;8788:4;8794:6;8854:11;8841:25;8948:2;8944:7;8933:8;8917:14;8913:29;8909:43;8889:18;8885:68;8875:96;;8967:1;8964;8957:12;8875:96;8994:33;;9046:20;;;-1:-1:-1;;;;;;9078:30:42;;9075:50;;;9121:1;9118;9111:12;9075:50;9154:4;9142:17;;-1:-1:-1;9205:1:42;9201:14;;;9185;9181:35;9171:46;;9168:66;;;9230:1;9227;9220:12;9808:251;9878:6;9931:2;9919:9;9910:7;9906:23;9902:32;9899:52;;;9947:1;9944;9937:12;9899:52;9979:9;9973:16;9998:31;10023:5;9998:31;:::i;10064:247::-;10123:6;10176:2;10164:9;10155:7;10151:23;10147:32;10144:52;;;10192:1;10189;10182:12;10144:52;10231:9;10218:23;10250:31;10275:5;10250:31;:::i;10316:125::-;10381:9;;;10402:10;;;10399:36;;;10415:18;;:::i;10446:375::-;10534:1;10552:5;10566:249;10587:1;10577:8;10574:15;10566:249;;;10637:4;10632:3;10628:14;10622:4;10619:24;10616:50;;;10646:18;;:::i;:::-;10696:1;10686:8;10682:16;10679:49;;;10710:16;;;;10679:49;10793:1;10789:16;;;;;10749:15;;10566:249;;;10446:375;;;;;;:::o;10826:902::-;10875:5;10905:8;10895:80;;-1:-1:-1;10946:1:42;10960:5;;10895:80;10994:4;10984:76;;-1:-1:-1;11031:1:42;11045:5;;10984:76;11076:4;11094:1;11089:59;;;;11162:1;11157:174;;;;11069:262;;11089:59;11119:1;11110:10;;11133:5;;;11157:174;11194:3;11184:8;11181:17;11178:43;;;11201:18;;:::i;:::-;-1:-1:-1;;11257:1:42;11243:16;;11316:5;;11069:262;;11415:2;11405:8;11402:16;11396:3;11390:4;11387:13;11383:36;11377:2;11367:8;11364:16;11359:2;11353:4;11350:12;11346:35;11343:77;11340:203;;;-1:-1:-1;11452:19:42;;;11528:5;;11340:203;11575:42;-1:-1:-1;;11600:8:42;11594:4;11575:42;:::i;:::-;11653:6;11649:1;11645:6;11641:19;11632:7;11629:32;11626:58;;;11664:18;;:::i;:::-;11702:20;;10826:902;-1:-1:-1;;;10826:902:42:o;11733:131::-;11793:5;11822:36;11849:8;11843:4;11822:36;:::i;11869:479::-;12057:2;12042:18;;12046:9;12137:6;12015:4;12171:171;12185:4;12182:1;12179:11;12171:171;;;12244:13;;12232:26;;12287:4;12278:14;;;;12315:17;;;;12205:1;12198:9;12171:171;;;12175:3;;;11869:479;;;;:::o;12353:184::-;12423:6;12476:2;12464:9;12455:7;12451:23;12447:32;12444:52;;;12492:1;12489;12482:12;12444:52;-1:-1:-1;12515:16:42;;12353:184;-1:-1:-1;12353:184:42:o;12542:128::-;12609:9;;;12630:11;;;12627:37;;;12644:18;;:::i","linkReferences":{"lib/poseidon-solidity/contracts/PoseidonT3.sol":{"PoseidonT3":[{"start":6641,"length":20},{"start":7134,"length":20},{"start":7298,"length":20},{"start":7595,"length":20},{"start":7759,"length":20}]}}},"methodIdentifiers":{"collections(uint256)":"fdbda0ec","computeLeafWithWeight(address,uint88)":"89e8a255","delegate(address,uint256,uint256[],uint88,uint256[],(address,uint88,uint256[])[])":"340ae1cd","getCensusRoot()":"c1da8691","getNFTids(uint256,uint256[])":"8498be04","getRootBlockNumber(uint256)":"650e5fcf","getTokenDelegations(uint256,uint256[])":"c333b0f1","rootBlockNumbers(uint256)":"41a38282","tokenDelegate(bytes32)":"66e12bef","undelegate(uint256,uint256[],(address,uint88,uint256[])[])":"e2bc69f4","updateDelegation(address,uint256,uint256[],uint88,(address,uint88,uint256[])[],uint256[])":"70e3afa2"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"tokens\",\"type\":\"address[]\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"AlreadyDelegated\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidCollection\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"InvalidTokenId\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LeafAlreadyExists\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LeafCannotBeZero\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LeafDoesNotExist\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LeafGreaterThanSnarkScalarField\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoNewDelegations\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"NotDelegated\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"NotTokenOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"ProofRequired\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"WeightOverflow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"WeightUnderflow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"WrongSiblingNodes\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAddress\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"newRoot\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"blockNumber\",\"type\":\"uint256\"}],\"name\":\"CensusRootUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Delegated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256[]\",\"name\":\"tokenIds\",\"type\":\"uint256[]\"}],\"name\":\"DelegatedBatch\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Undelegated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256[]\",\"name\":\"tokenIds\",\"type\":\"uint256[]\"}],\"name\":\"UndelegatedBatch\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint88\",\"name\":\"previousWeight\",\"type\":\"uint88\"},{\"indexed\":false,\"internalType\":\"uint88\",\"name\":\"newWeight\",\"type\":\"uint88\"}],\"name\":\"WeightChanged\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"collections\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint88\",\"name\":\"weight\",\"type\":\"uint88\"}],\"name\":\"computeLeafWithWeight\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"leaf\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"ids\",\"type\":\"uint256[]\"},{\"internalType\":\"uint88\",\"name\":\"currentWeightOfTo\",\"type\":\"uint88\"},{\"internalType\":\"uint256[]\",\"name\":\"toProof\",\"type\":\"uint256[]\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint88\",\"name\":\"currentWeight\",\"type\":\"uint88\"},{\"internalType\":\"uint256[]\",\"name\":\"siblings\",\"type\":\"uint256[]\"}],\"internalType\":\"struct DavinciDao.ProofInput[]\",\"name\":\"fromProofs\",\"type\":\"tuple[]\"}],\"name\":\"delegate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCensusRoot\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"candidateIds\",\"type\":\"uint256[]\"}],\"name\":\"getNFTids\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"root\",\"type\":\"uint256\"}],\"name\":\"getRootBlockNumber\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"ids\",\"type\":\"uint256[]\"}],\"name\":\"getTokenDelegations\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"delegates\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"rootBlockNumbers\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"tokenDelegate\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"ids\",\"type\":\"uint256[]\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint88\",\"name\":\"currentWeight\",\"type\":\"uint88\"},{\"internalType\":\"uint256[]\",\"name\":\"siblings\",\"type\":\"uint256[]\"}],\"internalType\":\"struct DavinciDao.ProofInput[]\",\"name\":\"proofs\",\"type\":\"tuple[]\"}],\"name\":\"undelegate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"ids\",\"type\":\"uint256[]\"},{\"internalType\":\"uint88\",\"name\":\"currentWeightOfTo\",\"type\":\"uint88\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint88\",\"name\":\"currentWeight\",\"type\":\"uint88\"},{\"internalType\":\"uint256[]\",\"name\":\"siblings\",\"type\":\"uint256[]\"}],\"internalType\":\"struct DavinciDao.ProofInput[]\",\"name\":\"fromProofs\",\"type\":\"tuple[]\"},{\"internalType\":\"uint256[]\",\"name\":\"toProof\",\"type\":\"uint256[]\"}],\"name\":\"updateDelegation\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Features:      - On-chain Merkle tree construction using Lean-IMT (automatic root updates)      - Map-based root history (root => blockNumber) for unlimited storage      - Event emission for The Graph indexing      - Proof-based delegation for security and gas efficiency\",\"kind\":\"dev\",\"methods\":{\"computeLeafWithWeight(address,uint88)\":{\"details\":\"Weight must be obtained from subgraph or WeightChanged events\"},\"constructor\":{\"params\":{\"tokens\":\"Array of ERC-721 token contract addresses.\"}},\"delegate(address,uint256,uint256[],uint88,uint256[],(address,uint88,uint256[])[])\":{\"params\":{\"currentWeightOfTo\":\"Current weight of `to` (verified by proof, obtained from subgraph).\",\"fromProofs\":\"Proofs for clearing inherited delegations (if any tokens were previously delegated by another owner).\",\"ids\":\"Token IDs to delegate.\",\"nftIndex\":\"Index into `collections`.\",\"to\":\"Receiver address (voter).\",\"toProof\":\"Merkle path for `to`'s existing leaf (empty if `to` has zero weight).\"}},\"getNFTids(uint256,uint256[])\":{\"details\":\"Gas optimized: uses tokenDelegate mapping instead of _ownerDelegated\"},\"getRootBlockNumber(uint256)\":{\"params\":{\"root\":\"The census root to verify.\"},\"returns\":{\"_0\":\"blockNumber The block number when this root was set (0 if never set).\"}},\"undelegate(uint256,uint256[],(address,uint88,uint256[])[])\":{\"params\":{\"ids\":\"Token IDs to revoke delegation for.\",\"nftIndex\":\"Index into `collections`.\",\"proofs\":\"Proofs for each *affected* delegate address (unique and batched).\"}},\"updateDelegation(address,uint256,uint256[],uint88,(address,uint88,uint256[])[],uint256[])\":{\"params\":{\"currentWeightOfTo\":\"Current weight of `to` (verified by proof, obtained from subgraph).\",\"fromProofs\":\"Proofs for each *old* delegate reduced (unique and batched).\",\"ids\":\"Token IDs to move.\",\"nftIndex\":\"Index into `collections`.\",\"to\":\"New delegate.\",\"toProof\":\"Proof for `to` (empty if `to` had zero weight).\"}}},\"title\":\"DavinciDAO Census Contract\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"computeLeafWithWeight(address,uint88)\":{\"notice\":\"Compute packed leaf value for `account` with given weight.\"},\"delegate(address,uint256,uint256[],uint88,uint256[],(address,uint88,uint256[])[])\":{\"notice\":\"Delegate voting power from owned NFTs to `to`.\"},\"getCensusRoot()\":{\"notice\":\"Current census Merkle root (Lean-IMT).\"},\"getNFTids(uint256,uint256[])\":{\"notice\":\"Returns token IDs that are delegated and **still currently owned** by `msg.sender`\"},\"getRootBlockNumber(uint256)\":{\"notice\":\"Check if a root has been valid at some point and get its block number.\"},\"getTokenDelegations(uint256,uint256[])\":{\"notice\":\"Vectorized mapping lookup for (nftIndex, ids) => delegate address (0 if none).\"},\"undelegate(uint256,uint256[],(address,uint88,uint256[])[])\":{\"notice\":\"Undelegate voting power for given token IDs (caller must be current owner).\"},\"updateDelegation(address,uint256,uint256[],uint88,(address,uint88,uint256[])[],uint256[])\":{\"notice\":\"Move delegation of given IDs to a new address `to` (caller must own the NFTs).\"}},\"notice\":\"Maintains an on-chain Merkle tree for NFT-based voting power delegation.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/DavinciDao.sol\":\"DavinciDao\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":poseidon-solidity/=lib/poseidon-solidity/contracts/\",\":zk-kit.solidity/=lib/zk-kit.solidity/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol\":{\"keccak256\":\"0xf78f05f3b8c9f75570e85300d7b4600d7f6f6a198449273f31d44c1641adb46f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e28b872613b45e0e801d4995aa4380be2531147bfe2d85c1d6275f1de514fba3\",\"dweb:/ipfs/QmeeFcfShHYaS3BdgVj78nxR28ZaVUwbvr66ud8bT6kzw9\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x8891738ffe910f0cf2da09566928589bf5d63f4524dd734fd9cedbac3274dd5c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://971f954442df5c2ef5b5ebf1eb245d7105d9fbacc7386ee5c796df1d45b21617\",\"dweb:/ipfs/QmadRjHbkicwqwwh61raUEapaVEtaLMcYbQZWs9gUkgj3u\"]},\"lib/poseidon-solidity/contracts/PoseidonT3.sol\":{\"keccak256\":\"0x0102caa303bbc6690508f3615604f7730789ed990058c9513a87ccb30e4835be\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1fe7291d5f998eaf7dfe37961b8a8e72f60cf79a7a34459efa5683ca3a702971\",\"dweb:/ipfs/QmQExqgvNEPKLq15rNygqmthUnAPWgTm4m3Bb5BCExwHF1\"]},\"lib/zk-kit.solidity/packages/lean-imt/contracts/Constants.sol\":{\"keccak256\":\"0xb1944a1d9f63069b2f22260935adb2d11546f82fbb7d12d853a90134a92f4b5b\",\"license\":\"UNLICENSED\",\"urls\":[\"bzz-raw://6929c862576cb9dacaf21e514737c2f47cb6122cbee466b08c08aa62c028e68d\",\"dweb:/ipfs/QmZKaBc3gv9xVoAC8ETQYMdPdimuhn569nKUSTXqhSS4as\"]},\"lib/zk-kit.solidity/packages/lean-imt/contracts/InternalLeanIMT.sol\":{\"keccak256\":\"0x06fb193da33416296beebb6fe4059d088ea8fa21f1ba0f724c329465be4d1ea9\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://84a37f14d37893cec4d948f4d2a923bc1514a9ffa3dc4f790f652b4a0f0d2589\",\"dweb:/ipfs/QmcxM7Hx9n7P6th1S6wbJkYiixp157Via883jkpKZjA6vU\"]},\"src/DavinciDao.sol\":{\"keccak256\":\"0xc3a3bcd328aa8a00326de66656d6a284bb73d12a0e1f6f09ceb4373eda398f83\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9cc94a445e3d576d3f17e6d9386ede4f13de244373a2c4d235e21dc86a39c4c6\",\"dweb:/ipfs/QmWic2mUjWG14ge3L4hYr8U5ijXXkrjrZG4BtEJPX4Y4is\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"type":"error","name":"AlreadyDelegated"},{"inputs":[],"type":"error","name":"InvalidCollection"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"type":"error","name":"InvalidTokenId"},{"inputs":[],"type":"error","name":"LeafAlreadyExists"},{"inputs":[],"type":"error","name":"LeafCannotBeZero"},{"inputs":[],"type":"error","name":"LeafDoesNotExist"},{"inputs":[],"type":"error","name":"LeafGreaterThanSnarkScalarField"},{"inputs":[],"type":"error","name":"NoNewDelegations"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"type":"error","name":"NotDelegated"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"type":"error","name":"NotTokenOwner"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"type":"error","name":"ProofRequired"},{"inputs":[],"type":"error","name":"WeightOverflow"},{"inputs":[],"type":"error","name":"WeightUnderflow"},{"inputs":[],"type":"error","name":"WrongSiblingNodes"},{"inputs":[],"type":"error","name":"ZeroAddress"},{"inputs":[{"internalType":"uint256","name":"newRoot","type":"uint256","indexed":true},{"internalType":"uint256","name":"blockNumber","type":"uint256","indexed":false}],"type":"event","name":"CensusRootUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"address","name":"to","type":"address","indexed":true},{"internalType":"uint256","name":"nftIndex","type":"uint256","indexed":true},{"internalType":"uint256","name":"tokenId","type":"uint256","indexed":false}],"type":"event","name":"Delegated","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"address","name":"to","type":"address","indexed":true},{"internalType":"uint256","name":"nftIndex","type":"uint256","indexed":true},{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]","indexed":false}],"type":"event","name":"DelegatedBatch","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"address","name":"from","type":"address","indexed":true},{"internalType":"uint256","name":"nftIndex","type":"uint256","indexed":true},{"internalType":"uint256","name":"tokenId","type":"uint256","indexed":false}],"type":"event","name":"Undelegated","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"address","name":"from","type":"address","indexed":true},{"internalType":"uint256","name":"nftIndex","type":"uint256","indexed":true},{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]","indexed":false}],"type":"event","name":"UndelegatedBatch","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"uint88","name":"previousWeight","type":"uint88","indexed":false},{"internalType":"uint88","name":"newWeight","type":"uint88","indexed":false}],"type":"event","name":"WeightChanged","anonymous":false},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"collections","outputs":[{"internalType":"address","name":"token","type":"address"}]},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint88","name":"weight","type":"uint88"}],"stateMutability":"pure","type":"function","name":"computeLeafWithWeight","outputs":[{"internalType":"uint256","name":"leaf","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"nftIndex","type":"uint256"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint88","name":"currentWeightOfTo","type":"uint88"},{"internalType":"uint256[]","name":"toProof","type":"uint256[]"},{"internalType":"struct DavinciDao.ProofInput[]","name":"fromProofs","type":"tuple[]","components":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint88","name":"currentWeight","type":"uint88"},{"internalType":"uint256[]","name":"siblings","type":"uint256[]"}]}],"stateMutability":"nonpayable","type":"function","name":"delegate"},{"inputs":[],"stateMutability":"view","type":"function","name":"getCensusRoot","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"nftIndex","type":"uint256"},{"internalType":"uint256[]","name":"candidateIds","type":"uint256[]"}],"stateMutability":"view","type":"function","name":"getNFTids","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}]},{"inputs":[{"internalType":"uint256","name":"root","type":"uint256"}],"stateMutability":"view","type":"function","name":"getRootBlockNumber","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"nftIndex","type":"uint256"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"stateMutability":"view","type":"function","name":"getTokenDelegations","outputs":[{"internalType":"address[]","name":"delegates","type":"address[]"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"rootBlockNumbers","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"tokenDelegate","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"nftIndex","type":"uint256"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"struct DavinciDao.ProofInput[]","name":"proofs","type":"tuple[]","components":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint88","name":"currentWeight","type":"uint88"},{"internalType":"uint256[]","name":"siblings","type":"uint256[]"}]}],"stateMutability":"nonpayable","type":"function","name":"undelegate"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"nftIndex","type":"uint256"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint88","name":"currentWeightOfTo","type":"uint88"},{"internalType":"struct DavinciDao.ProofInput[]","name":"fromProofs","type":"tuple[]","components":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint88","name":"currentWeight","type":"uint88"},{"internalType":"uint256[]","name":"siblings","type":"uint256[]"}]},{"internalType":"uint256[]","name":"toProof","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function","name":"updateDelegation"}],"devdoc":{"kind":"dev","methods":{"computeLeafWithWeight(address,uint88)":{"details":"Weight must be obtained from subgraph or WeightChanged events"},"constructor":{"params":{"tokens":"Array of ERC-721 token contract addresses."}},"delegate(address,uint256,uint256[],uint88,uint256[],(address,uint88,uint256[])[])":{"params":{"currentWeightOfTo":"Current weight of `to` (verified by proof, obtained from subgraph).","fromProofs":"Proofs for clearing inherited delegations (if any tokens were previously delegated by another owner).","ids":"Token IDs to delegate.","nftIndex":"Index into `collections`.","to":"Receiver address (voter).","toProof":"Merkle path for `to`'s existing leaf (empty if `to` has zero weight)."}},"getNFTids(uint256,uint256[])":{"details":"Gas optimized: uses tokenDelegate mapping instead of _ownerDelegated"},"getRootBlockNumber(uint256)":{"params":{"root":"The census root to verify."},"returns":{"_0":"blockNumber The block number when this root was set (0 if never set)."}},"undelegate(uint256,uint256[],(address,uint88,uint256[])[])":{"params":{"ids":"Token IDs to revoke delegation for.","nftIndex":"Index into `collections`.","proofs":"Proofs for each *affected* delegate address (unique and batched)."}},"updateDelegation(address,uint256,uint256[],uint88,(address,uint88,uint256[])[],uint256[])":{"params":{"currentWeightOfTo":"Current weight of `to` (verified by proof, obtained from subgraph).","fromProofs":"Proofs for each *old* delegate reduced (unique and batched).","ids":"Token IDs to move.","nftIndex":"Index into `collections`.","to":"New delegate.","toProof":"Proof for `to` (empty if `to` had zero weight)."}}},"version":1},"userdoc":{"kind":"user","methods":{"computeLeafWithWeight(address,uint88)":{"notice":"Compute packed leaf value for `account` with given weight."},"delegate(address,uint256,uint256[],uint88,uint256[],(address,uint88,uint256[])[])":{"notice":"Delegate voting power from owned NFTs to `to`."},"getCensusRoot()":{"notice":"Current census Merkle root (Lean-IMT)."},"getNFTids(uint256,uint256[])":{"notice":"Returns token IDs that are delegated and **still currently owned** by `msg.sender`"},"getRootBlockNumber(uint256)":{"notice":"Check if a root has been valid at some point and get its block number."},"getTokenDelegations(uint256,uint256[])":{"notice":"Vectorized mapping lookup for (nftIndex, ids) => delegate address (0 if none)."},"undelegate(uint256,uint256[],(address,uint88,uint256[])[])":{"notice":"Undelegate voting power for given token IDs (caller must be current owner)."},"updateDelegation(address,uint256,uint256[],uint88,(address,uint88,uint256[])[],uint256[])":{"notice":"Move delegation of given IDs to a new address `to` (caller must own the NFTs)."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","poseidon-solidity/=lib/poseidon-solidity/contracts/","zk-kit.solidity/=lib/zk-kit.solidity/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/DavinciDao.sol":"DavinciDao"},"evmVersion":"prague","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol":{"keccak256":"0xf78f05f3b8c9f75570e85300d7b4600d7f6f6a198449273f31d44c1641adb46f","urls":["bzz-raw://e28b872613b45e0e801d4995aa4380be2531147bfe2d85c1d6275f1de514fba3","dweb:/ipfs/QmeeFcfShHYaS3BdgVj78nxR28ZaVUwbvr66ud8bT6kzw9"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x8891738ffe910f0cf2da09566928589bf5d63f4524dd734fd9cedbac3274dd5c","urls":["bzz-raw://971f954442df5c2ef5b5ebf1eb245d7105d9fbacc7386ee5c796df1d45b21617","dweb:/ipfs/QmadRjHbkicwqwwh61raUEapaVEtaLMcYbQZWs9gUkgj3u"],"license":"MIT"},"lib/poseidon-solidity/contracts/PoseidonT3.sol":{"keccak256":"0x0102caa303bbc6690508f3615604f7730789ed990058c9513a87ccb30e4835be","urls":["bzz-raw://1fe7291d5f998eaf7dfe37961b8a8e72f60cf79a7a34459efa5683ca3a702971","dweb:/ipfs/QmQExqgvNEPKLq15rNygqmthUnAPWgTm4m3Bb5BCExwHF1"],"license":"MIT"},"lib/zk-kit.solidity/packages/lean-imt/contracts/Constants.sol":{"keccak256":"0xb1944a1d9f63069b2f22260935adb2d11546f82fbb7d12d853a90134a92f4b5b","urls":["bzz-raw://6929c862576cb9dacaf21e514737c2f47cb6122cbee466b08c08aa62c028e68d","dweb:/ipfs/QmZKaBc3gv9xVoAC8ETQYMdPdimuhn569nKUSTXqhSS4as"],"license":"UNLICENSED"},"lib/zk-kit.solidity/packages/lean-imt/contracts/InternalLeanIMT.sol":{"keccak256":"0x06fb193da33416296beebb6fe4059d088ea8fa21f1ba0f724c329465be4d1ea9","urls":["bzz-raw://84a37f14d37893cec4d948f4d2a923bc1514a9ffa3dc4f790f652b4a0f0d2589","dweb:/ipfs/QmcxM7Hx9n7P6th1S6wbJkYiixp157Via883jkpKZjA6vU"],"license":"MIT"},"src/DavinciDao.sol":{"keccak256":"0xc3a3bcd328aa8a00326de66656d6a284bb73d12a0e1f6f09ceb4373eda398f83","urls":["bzz-raw://9cc94a445e3d576d3f17e6d9386ede4f13de244373a2c4d235e21dc86a39c4c6","dweb:/ipfs/QmWic2mUjWG14ge3L4hYr8U5ijXXkrjrZG4BtEJPX4Y4is"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/DavinciDao.sol","id":49137,"exportedSymbols":{"DavinciDao":[49136],"IERC721":[40909],"InternalLeanIMT":[46989],"LeanIMTData":[46138],"SNARK_SCALAR_FIELD":[46119]},"nodeType":"SourceUnit","src":"32:21153:38","nodes":[{"id":47268,"nodeType":"PragmaDirective","src":"32:24:38","nodes":[],"literals":["solidity","^","0.8",".24"]},{"id":47270,"nodeType":"ImportDirective","src":"92:82:38","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol","file":"openzeppelin-contracts/contracts/token/ERC721/IERC721.sol","nameLocation":"-1:-1:-1","scope":49137,"sourceUnit":40910,"symbolAliases":[{"foreign":{"id":47269,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40909,"src":"100:7:38","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":47273,"nodeType":"ImportDirective","src":"222:109:38","nodes":[],"absolutePath":"lib/zk-kit.solidity/packages/lean-imt/contracts/InternalLeanIMT.sol","file":"zk-kit.solidity/packages/lean-imt/contracts/InternalLeanIMT.sol","nameLocation":"-1:-1:-1","scope":49137,"sourceUnit":46990,"symbolAliases":[{"foreign":{"id":47271,"name":"InternalLeanIMT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46989,"src":"230:15:38","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":47272,"name":"LeanIMTData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46138,"src":"247:11:38","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":47275,"nodeType":"ImportDirective","src":"332:93:38","nodes":[],"absolutePath":"lib/zk-kit.solidity/packages/lean-imt/contracts/Constants.sol","file":"zk-kit.solidity/packages/lean-imt/contracts/Constants.sol","nameLocation":"-1:-1:-1","scope":49137,"sourceUnit":46120,"symbolAliases":[{"foreign":{"id":47274,"name":"SNARK_SCALAR_FIELD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46119,"src":"340:18:38","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":49136,"nodeType":"ContractDefinition","src":"847:20337:38","nodes":[{"id":47280,"nodeType":"UsingForDirective","src":"873:38:38","nodes":[],"global":false,"libraryName":{"id":47277,"name":"InternalLeanIMT","nameLocations":["879:15:38"],"nodeType":"IdentifierPath","referencedDeclaration":46989,"src":"879:15:38"},"typeName":{"id":47279,"nodeType":"UserDefinedTypeName","pathNode":{"id":47278,"name":"LeanIMTData","nameLocations":["899:11:38"],"nodeType":"IdentifierPath","referencedDeclaration":46138,"src":"899:11:38"},"referencedDeclaration":46138,"src":"899:11:38","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage_ptr","typeString":"struct LeanIMTData"}}},{"id":47283,"nodeType":"StructDefinition","src":"961:68:38","nodes":[],"canonicalName":"DavinciDao.Collection","members":[{"constant":false,"id":47282,"mutability":"mutable","name":"token","nameLocation":"997:5:38","nodeType":"VariableDeclaration","scope":47283,"src":"989:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47281,"name":"address","nodeType":"ElementaryTypeName","src":"989:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"name":"Collection","nameLocation":"968:10:38","scope":49136,"visibility":"public"},{"id":47292,"nodeType":"StructDefinition","src":"1206:163:38","nodes":[],"canonicalName":"DavinciDao.ProofInput","documentation":{"id":47284,"nodeType":"StructuredDocumentation","src":"1035:166:38","text":"@notice Proof for a specific account's leaf (required by _update/_remove).\n @dev Includes current weight to enable stateless verification via Merkle proofs"},"members":[{"constant":false,"id":47286,"mutability":"mutable","name":"account","nameLocation":"1242:7:38","nodeType":"VariableDeclaration","scope":47292,"src":"1234:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47285,"name":"address","nodeType":"ElementaryTypeName","src":"1234:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47288,"mutability":"mutable","name":"currentWeight","nameLocation":"1266:13:38","nodeType":"VariableDeclaration","scope":47292,"src":"1259:20:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":47287,"name":"uint88","nodeType":"ElementaryTypeName","src":"1259:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"},{"constant":false,"id":47291,"mutability":"mutable","name":"siblings","nameLocation":"1354:8:38","nodeType":"VariableDeclaration","scope":47292,"src":"1344:18:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47289,"name":"uint256","nodeType":"ElementaryTypeName","src":"1344:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47290,"nodeType":"ArrayTypeName","src":"1344:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"name":"ProofInput","nameLocation":"1213:10:38","scope":49136,"visibility":"public"},{"id":47296,"nodeType":"VariableDeclaration","src":"1423:31:38","nodes":[],"constant":false,"functionSelector":"fdbda0ec","mutability":"mutable","name":"collections","nameLocation":"1443:11:38","scope":49136,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Collection_$47283_storage_$dyn_storage","typeString":"struct DavinciDao.Collection[]"},"typeName":{"baseType":{"id":47294,"nodeType":"UserDefinedTypeName","pathNode":{"id":47293,"name":"Collection","nameLocations":["1423:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47283,"src":"1423:10:38"},"referencedDeclaration":47283,"src":"1423:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_Collection_$47283_storage_ptr","typeString":"struct DavinciDao.Collection"}},"id":47295,"nodeType":"ArrayTypeName","src":"1423:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Collection_$47283_storage_$dyn_storage_ptr","typeString":"struct DavinciDao.Collection[]"}},"visibility":"public"},{"id":47299,"nodeType":"VariableDeclaration","src":"1519:27:38","nodes":[],"constant":false,"mutability":"mutable","name":"_census","nameLocation":"1539:7:38","scope":49136,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage","typeString":"struct LeanIMTData"},"typeName":{"id":47298,"nodeType":"UserDefinedTypeName","pathNode":{"id":47297,"name":"LeanIMTData","nameLocations":["1519:11:38"],"nodeType":"IdentifierPath","referencedDeclaration":46138,"src":"1519:11:38"},"referencedDeclaration":46138,"src":"1519:11:38","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage_ptr","typeString":"struct LeanIMTData"}},"visibility":"private"},{"id":47303,"nodeType":"VariableDeclaration","src":"1873:48:38","nodes":[],"constant":false,"functionSelector":"66e12bef","mutability":"mutable","name":"tokenDelegate","nameLocation":"1908:13:38","scope":49136,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"},"typeName":{"id":47302,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":47300,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1881:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"1873:27:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":47301,"name":"address","nodeType":"ElementaryTypeName","src":"1892:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}},"visibility":"public"},{"id":47307,"nodeType":"VariableDeclaration","src":"2113:51:38","nodes":[],"constant":false,"functionSelector":"41a38282","mutability":"mutable","name":"rootBlockNumbers","nameLocation":"2148:16:38","scope":49136,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"typeName":{"id":47306,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":47304,"name":"uint256","nodeType":"ElementaryTypeName","src":"2121:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"2113:27:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":47305,"name":"uint256","nodeType":"ElementaryTypeName","src":"2132:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":47317,"nodeType":"EventDefinition","src":"2205:102:38","nodes":[],"anonymous":false,"eventSelector":"24d7bda8602b916d64417f0dbfe2e2e88ec9b1157bd9f596dfdb91ba26624e04","name":"Delegated","nameLocation":"2211:9:38","parameters":{"id":47316,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47309,"indexed":true,"mutability":"mutable","name":"owner","nameLocation":"2237:5:38","nodeType":"VariableDeclaration","scope":47317,"src":"2221:21:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47308,"name":"address","nodeType":"ElementaryTypeName","src":"2221:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47311,"indexed":true,"mutability":"mutable","name":"to","nameLocation":"2260:2:38","nodeType":"VariableDeclaration","scope":47317,"src":"2244:18:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47310,"name":"address","nodeType":"ElementaryTypeName","src":"2244:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47313,"indexed":true,"mutability":"mutable","name":"nftIndex","nameLocation":"2280:8:38","nodeType":"VariableDeclaration","scope":47317,"src":"2264:24:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47312,"name":"uint256","nodeType":"ElementaryTypeName","src":"2264:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47315,"indexed":false,"mutability":"mutable","name":"tokenId","nameLocation":"2298:7:38","nodeType":"VariableDeclaration","scope":47317,"src":"2290:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47314,"name":"uint256","nodeType":"ElementaryTypeName","src":"2290:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2220:86:38"}},{"id":47327,"nodeType":"EventDefinition","src":"2312:106:38","nodes":[],"anonymous":false,"eventSelector":"3aace7340547de7b9156593a7652dc07ee900cea3fd8f82cb6c9d38b40829802","name":"Undelegated","nameLocation":"2318:11:38","parameters":{"id":47326,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47319,"indexed":true,"mutability":"mutable","name":"owner","nameLocation":"2346:5:38","nodeType":"VariableDeclaration","scope":47327,"src":"2330:21:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47318,"name":"address","nodeType":"ElementaryTypeName","src":"2330:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47321,"indexed":true,"mutability":"mutable","name":"from","nameLocation":"2369:4:38","nodeType":"VariableDeclaration","scope":47327,"src":"2353:20:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47320,"name":"address","nodeType":"ElementaryTypeName","src":"2353:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47323,"indexed":true,"mutability":"mutable","name":"nftIndex","nameLocation":"2391:8:38","nodeType":"VariableDeclaration","scope":47327,"src":"2375:24:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47322,"name":"uint256","nodeType":"ElementaryTypeName","src":"2375:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47325,"indexed":false,"mutability":"mutable","name":"tokenId","nameLocation":"2409:7:38","nodeType":"VariableDeclaration","scope":47327,"src":"2401:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47324,"name":"uint256","nodeType":"ElementaryTypeName","src":"2401:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2329:88:38"}},{"id":47338,"nodeType":"EventDefinition","src":"2423:110:38","nodes":[],"anonymous":false,"eventSelector":"3fe8c5ff8038f409c0e155c58dd77a1d041dc9654f80d372adac435fb5837c30","name":"DelegatedBatch","nameLocation":"2429:14:38","parameters":{"id":47337,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47329,"indexed":true,"mutability":"mutable","name":"owner","nameLocation":"2460:5:38","nodeType":"VariableDeclaration","scope":47338,"src":"2444:21:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47328,"name":"address","nodeType":"ElementaryTypeName","src":"2444:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47331,"indexed":true,"mutability":"mutable","name":"to","nameLocation":"2483:2:38","nodeType":"VariableDeclaration","scope":47338,"src":"2467:18:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47330,"name":"address","nodeType":"ElementaryTypeName","src":"2467:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47333,"indexed":true,"mutability":"mutable","name":"nftIndex","nameLocation":"2503:8:38","nodeType":"VariableDeclaration","scope":47338,"src":"2487:24:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47332,"name":"uint256","nodeType":"ElementaryTypeName","src":"2487:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47336,"indexed":false,"mutability":"mutable","name":"tokenIds","nameLocation":"2523:8:38","nodeType":"VariableDeclaration","scope":47338,"src":"2513:18:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47334,"name":"uint256","nodeType":"ElementaryTypeName","src":"2513:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47335,"nodeType":"ArrayTypeName","src":"2513:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"2443:89:38"}},{"id":47349,"nodeType":"EventDefinition","src":"2538:114:38","nodes":[],"anonymous":false,"eventSelector":"56017da320cb00880eb511a7183d19ed30ca4f9bcf6bf1dffa02ccb76da33915","name":"UndelegatedBatch","nameLocation":"2544:16:38","parameters":{"id":47348,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47340,"indexed":true,"mutability":"mutable","name":"owner","nameLocation":"2577:5:38","nodeType":"VariableDeclaration","scope":47349,"src":"2561:21:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47339,"name":"address","nodeType":"ElementaryTypeName","src":"2561:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47342,"indexed":true,"mutability":"mutable","name":"from","nameLocation":"2600:4:38","nodeType":"VariableDeclaration","scope":47349,"src":"2584:20:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47341,"name":"address","nodeType":"ElementaryTypeName","src":"2584:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47344,"indexed":true,"mutability":"mutable","name":"nftIndex","nameLocation":"2622:8:38","nodeType":"VariableDeclaration","scope":47349,"src":"2606:24:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47343,"name":"uint256","nodeType":"ElementaryTypeName","src":"2606:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47347,"indexed":false,"mutability":"mutable","name":"tokenIds","nameLocation":"2642:8:38","nodeType":"VariableDeclaration","scope":47349,"src":"2632:18:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47345,"name":"uint256","nodeType":"ElementaryTypeName","src":"2632:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47346,"nodeType":"ArrayTypeName","src":"2632:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"2560:91:38"}},{"id":47357,"nodeType":"EventDefinition","src":"2657:86:38","nodes":[],"anonymous":false,"eventSelector":"ee82339564ef9f72eccdbb67b46a62198422524ab9c7e3fcbdd194fa1b46461b","name":"WeightChanged","nameLocation":"2663:13:38","parameters":{"id":47356,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47351,"indexed":true,"mutability":"mutable","name":"account","nameLocation":"2693:7:38","nodeType":"VariableDeclaration","scope":47357,"src":"2677:23:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47350,"name":"address","nodeType":"ElementaryTypeName","src":"2677:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47353,"indexed":false,"mutability":"mutable","name":"previousWeight","nameLocation":"2709:14:38","nodeType":"VariableDeclaration","scope":47357,"src":"2702:21:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":47352,"name":"uint88","nodeType":"ElementaryTypeName","src":"2702:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"},{"constant":false,"id":47355,"indexed":false,"mutability":"mutable","name":"newWeight","nameLocation":"2732:9:38","nodeType":"VariableDeclaration","scope":47357,"src":"2725:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":47354,"name":"uint88","nodeType":"ElementaryTypeName","src":"2725:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"}],"src":"2676:66:38"}},{"id":47363,"nodeType":"EventDefinition","src":"2748:70:38","nodes":[],"anonymous":false,"eventSelector":"ac84e1f746682c16ccc7cac6060f24ba0d81b110e6dc4cfa95bbfae24a5fc07d","name":"CensusRootUpdated","nameLocation":"2754:17:38","parameters":{"id":47362,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47359,"indexed":true,"mutability":"mutable","name":"newRoot","nameLocation":"2788:7:38","nodeType":"VariableDeclaration","scope":47363,"src":"2772:23:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47358,"name":"uint256","nodeType":"ElementaryTypeName","src":"2772:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47361,"indexed":false,"mutability":"mutable","name":"blockNumber","nameLocation":"2805:11:38","nodeType":"VariableDeclaration","scope":47363,"src":"2797:19:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47360,"name":"uint256","nodeType":"ElementaryTypeName","src":"2797:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2771:46:38"}},{"id":47365,"nodeType":"ErrorDefinition","src":"2865:26:38","nodes":[],"errorSelector":"a2e2e542","name":"InvalidCollection","nameLocation":"2871:17:38","parameters":{"id":47364,"nodeType":"ParameterList","parameters":[],"src":"2888:2:38"}},{"id":47369,"nodeType":"ErrorDefinition","src":"2896:38:38","nodes":[],"errorSelector":"ed15e6cf","name":"InvalidTokenId","nameLocation":"2902:14:38","parameters":{"id":47368,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47367,"mutability":"mutable","name":"tokenId","nameLocation":"2925:7:38","nodeType":"VariableDeclaration","scope":47369,"src":"2917:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47366,"name":"uint256","nodeType":"ElementaryTypeName","src":"2917:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2916:17:38"}},{"id":47371,"nodeType":"ErrorDefinition","src":"2939:20:38","nodes":[],"errorSelector":"d92e233d","name":"ZeroAddress","nameLocation":"2945:11:38","parameters":{"id":47370,"nodeType":"ParameterList","parameters":[],"src":"2956:2:38"}},{"id":47373,"nodeType":"ErrorDefinition","src":"2964:25:38","nodes":[],"errorSelector":"fcea6b35","name":"NoNewDelegations","nameLocation":"2970:16:38","parameters":{"id":47372,"nodeType":"ParameterList","parameters":[],"src":"2986:2:38"}},{"id":47377,"nodeType":"ErrorDefinition","src":"2994:37:38","nodes":[],"errorSelector":"1c6ba68a","name":"NotTokenOwner","nameLocation":"3000:13:38","parameters":{"id":47376,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47375,"mutability":"mutable","name":"tokenId","nameLocation":"3022:7:38","nodeType":"VariableDeclaration","scope":47377,"src":"3014:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47374,"name":"uint256","nodeType":"ElementaryTypeName","src":"3014:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3013:17:38"}},{"id":47381,"nodeType":"ErrorDefinition","src":"3036:40:38","nodes":[],"errorSelector":"e47eb23c","name":"AlreadyDelegated","nameLocation":"3042:16:38","parameters":{"id":47380,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47379,"mutability":"mutable","name":"tokenId","nameLocation":"3067:7:38","nodeType":"VariableDeclaration","scope":47381,"src":"3059:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47378,"name":"uint256","nodeType":"ElementaryTypeName","src":"3059:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3058:17:38"}},{"id":47385,"nodeType":"ErrorDefinition","src":"3081:36:38","nodes":[],"errorSelector":"93404ce6","name":"NotDelegated","nameLocation":"3087:12:38","parameters":{"id":47384,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47383,"mutability":"mutable","name":"tokenId","nameLocation":"3108:7:38","nodeType":"VariableDeclaration","scope":47385,"src":"3100:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47382,"name":"uint256","nodeType":"ElementaryTypeName","src":"3100:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3099:17:38"}},{"id":47389,"nodeType":"ErrorDefinition","src":"3122:37:38","nodes":[],"errorSelector":"e0a76e85","name":"ProofRequired","nameLocation":"3128:13:38","parameters":{"id":47388,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47387,"mutability":"mutable","name":"account","nameLocation":"3150:7:38","nodeType":"VariableDeclaration","scope":47389,"src":"3142:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47386,"name":"address","nodeType":"ElementaryTypeName","src":"3142:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3141:17:38"}},{"id":47391,"nodeType":"ErrorDefinition","src":"3164:24:38","nodes":[],"errorSelector":"f6260952","name":"WeightUnderflow","nameLocation":"3170:15:38","parameters":{"id":47390,"nodeType":"ParameterList","parameters":[],"src":"3185:2:38"}},{"id":47393,"nodeType":"ErrorDefinition","src":"3193:23:38","nodes":[],"errorSelector":"d90fcde4","name":"WeightOverflow","nameLocation":"3199:14:38","parameters":{"id":47392,"nodeType":"ParameterList","parameters":[],"src":"3213:2:38"}},{"id":47439,"nodeType":"FunctionDefinition","src":"3327:247:38","nodes":[],"body":{"id":47438,"nodeType":"Block","src":"3364:210:38","nodes":[],"statements":[{"assignments":[47401],"declarations":[{"constant":false,"id":47401,"mutability":"mutable","name":"n","nameLocation":"3382:1:38","nodeType":"VariableDeclaration","scope":47438,"src":"3374:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47400,"name":"uint256","nodeType":"ElementaryTypeName","src":"3374:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47404,"initialValue":{"expression":{"id":47402,"name":"tokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47397,"src":"3386:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":47403,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3393:6:38","memberName":"length","nodeType":"MemberAccess","src":"3386:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3374:25:38"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47408,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47406,"name":"n","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47401,"src":"3417:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":47407,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3421:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3417:5:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"62616420636f6e666967","id":47409,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3424:12:38","typeDescriptions":{"typeIdentifier":"t_stringliteral_9f3c57966d32735b4777c18a6ff6b648d70a176901d2e78a9175631e922db383","typeString":"literal_string \"bad config\""},"value":"bad config"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_9f3c57966d32735b4777c18a6ff6b648d70a176901d2e78a9175631e922db383","typeString":"literal_string \"bad config\""}],"id":47405,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"3409:7:38","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":47410,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3409:28:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47411,"nodeType":"ExpressionStatement","src":"3409:28:38"},{"body":{"id":47436,"nodeType":"Block","src":"3479:89:38","statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":47422,"name":"collections","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47296,"src":"3493:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Collection_$47283_storage_$dyn_storage","typeString":"struct DavinciDao.Collection storage ref[] storage ref"}},"id":47424,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3505:4:38","memberName":"push","nodeType":"MemberAccess","src":"3493:16:38","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_struct$_Collection_$47283_storage_$dyn_storage_ptr_$returns$_t_struct$_Collection_$47283_storage_$attached_to$_t_array$_t_struct$_Collection_$47283_storage_$dyn_storage_ptr_$","typeString":"function (struct DavinciDao.Collection storage ref[] storage pointer) returns (struct DavinciDao.Collection storage ref)"}},"id":47425,"isConstant":false,"isLValue":true,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3493:18:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Collection_$47283_storage","typeString":"struct DavinciDao.Collection storage ref"}},"id":47426,"nodeType":"ExpressionStatement","src":"3493:18:38"},{"expression":{"id":47434,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":47427,"name":"collections","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47296,"src":"3525:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Collection_$47283_storage_$dyn_storage","typeString":"struct DavinciDao.Collection storage ref[] storage ref"}},"id":47429,"indexExpression":{"id":47428,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47413,"src":"3537:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3525:14:38","typeDescriptions":{"typeIdentifier":"t_struct$_Collection_$47283_storage","typeString":"struct DavinciDao.Collection storage ref"}},"id":47430,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3540:5:38","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":47282,"src":"3525:20:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":47431,"name":"tokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47397,"src":"3548:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":47433,"indexExpression":{"id":47432,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47413,"src":"3555:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3548:9:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3525:32:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47435,"nodeType":"ExpressionStatement","src":"3525:32:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47418,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47416,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47413,"src":"3467:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":47417,"name":"n","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47401,"src":"3471:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3467:5:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47437,"initializationExpression":{"assignments":[47413],"declarations":[{"constant":false,"id":47413,"mutability":"mutable","name":"i","nameLocation":"3460:1:38","nodeType":"VariableDeclaration","scope":47437,"src":"3452:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47412,"name":"uint256","nodeType":"ElementaryTypeName","src":"3452:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47415,"initialValue":{"hexValue":"30","id":47414,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3464:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"3452:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47420,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"3474:3:38","subExpression":{"id":47419,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47413,"src":"3476:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47421,"nodeType":"ExpressionStatement","src":"3474:3:38"},"nodeType":"ForStatement","src":"3447:121:38"}]},"documentation":{"id":47394,"nodeType":"StructuredDocumentation","src":"3262:60:38","text":"@param tokens Array of ERC-721 token contract addresses."},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":47398,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47397,"mutability":"mutable","name":"tokens","nameLocation":"3356:6:38","nodeType":"VariableDeclaration","scope":47439,"src":"3339:23:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":47395,"name":"address","nodeType":"ElementaryTypeName","src":"3339:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47396,"nodeType":"ArrayTypeName","src":"3339:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"src":"3338:25:38"},"returnParameters":{"id":47399,"nodeType":"ParameterList","parameters":[],"src":"3364:0:38"},"scope":49136,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":47450,"nodeType":"FunctionDefinition","src":"3681:96:38","nodes":[],"body":{"id":47449,"nodeType":"Block","src":"3738:39:38","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":47445,"name":"_census","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47299,"src":"3755:7:38","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage","typeString":"struct LeanIMTData storage ref"}},"id":47446,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3763:5:38","memberName":"_root","nodeType":"MemberAccess","referencedDeclaration":46988,"src":"3755:13:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_LeanIMTData_$46138_storage_ptr_$returns$_t_uint256_$attached_to$_t_struct$_LeanIMTData_$46138_storage_ptr_$","typeString":"function (struct LeanIMTData storage pointer) view returns (uint256)"}},"id":47447,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3755:15:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":47444,"id":47448,"nodeType":"Return","src":"3748:22:38"}]},"documentation":{"id":47440,"nodeType":"StructuredDocumentation","src":"3626:50:38","text":"@notice Current census Merkle root (Lean-IMT)."},"functionSelector":"c1da8691","implemented":true,"kind":"function","modifiers":[],"name":"getCensusRoot","nameLocation":"3690:13:38","parameters":{"id":47441,"nodeType":"ParameterList","parameters":[],"src":"3703:2:38"},"returnParameters":{"id":47444,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47443,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47450,"src":"3729:7:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47442,"name":"uint256","nodeType":"ElementaryTypeName","src":"3729:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3728:9:38"},"scope":49136,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47463,"nodeType":"FunctionDefinition","src":"4003:120:38","nodes":[],"body":{"id":47462,"nodeType":"Block","src":"4077:46:38","nodes":[],"statements":[{"expression":{"baseExpression":{"id":47458,"name":"rootBlockNumbers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47307,"src":"4094:16:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":47460,"indexExpression":{"id":47459,"name":"root","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47453,"src":"4111:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4094:22:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":47457,"id":47461,"nodeType":"Return","src":"4087:29:38"}]},"documentation":{"id":47451,"nodeType":"StructuredDocumentation","src":"3783:215:38","text":"@notice Check if a root has been valid at some point and get its block number.\n @param root The census root to verify.\n @return blockNumber The block number when this root was set (0 if never set)."},"functionSelector":"650e5fcf","implemented":true,"kind":"function","modifiers":[],"name":"getRootBlockNumber","nameLocation":"4012:18:38","parameters":{"id":47454,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47453,"mutability":"mutable","name":"root","nameLocation":"4039:4:38","nodeType":"VariableDeclaration","scope":47463,"src":"4031:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47452,"name":"uint256","nodeType":"ElementaryTypeName","src":"4031:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4030:14:38"},"returnParameters":{"id":47457,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47456,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47463,"src":"4068:7:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47455,"name":"uint256","nodeType":"ElementaryTypeName","src":"4068:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4067:9:38"},"scope":49136,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47481,"nodeType":"FunctionDefinition","src":"4279:150:38","nodes":[],"body":{"id":47480,"nodeType":"Block","src":"4379:50:38","nodes":[],"statements":[{"expression":{"id":47478,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":47473,"name":"leaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47471,"src":"4389:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":47475,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47466,"src":"4406:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47476,"name":"weight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47468,"src":"4415:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":47474,"name":"_packLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48784,"src":"4396:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_uint88_$returns$_t_uint256_$","typeString":"function (address,uint88) pure returns (uint256)"}},"id":47477,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4396:26:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4389:33:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47479,"nodeType":"ExpressionStatement","src":"4389:33:38"}]},"documentation":{"id":47464,"nodeType":"StructuredDocumentation","src":"4129:145:38","text":"@notice Compute packed leaf value for `account` with given weight.\n @dev Weight must be obtained from subgraph or WeightChanged events"},"functionSelector":"89e8a255","implemented":true,"kind":"function","modifiers":[],"name":"computeLeafWithWeight","nameLocation":"4288:21:38","parameters":{"id":47469,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47466,"mutability":"mutable","name":"account","nameLocation":"4318:7:38","nodeType":"VariableDeclaration","scope":47481,"src":"4310:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47465,"name":"address","nodeType":"ElementaryTypeName","src":"4310:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47468,"mutability":"mutable","name":"weight","nameLocation":"4334:6:38","nodeType":"VariableDeclaration","scope":47481,"src":"4327:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":47467,"name":"uint88","nodeType":"ElementaryTypeName","src":"4327:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"}],"src":"4309:32:38"},"returnParameters":{"id":47472,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47471,"mutability":"mutable","name":"leaf","nameLocation":"4373:4:38","nodeType":"VariableDeclaration","scope":47481,"src":"4365:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47470,"name":"uint256","nodeType":"ElementaryTypeName","src":"4365:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4364:14:38"},"scope":49136,"stateMutability":"pure","virtual":false,"visibility":"external"},{"id":47533,"nodeType":"FunctionDefinition","src":"4530:367:38","nodes":[],"body":{"id":47532,"nodeType":"Block","src":"4680:217:38","nodes":[],"statements":[{"expression":{"arguments":[{"id":47494,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47484,"src":"4702:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47493,"name":"_checkIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48739,"src":"4690:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$__$","typeString":"function (uint256) view"}},"id":47495,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4690:21:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47496,"nodeType":"ExpressionStatement","src":"4690:21:38"},{"expression":{"id":47504,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":47497,"name":"delegates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47491,"src":"4721:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":47501,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47487,"src":"4747:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47502,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4751:6:38","memberName":"length","nodeType":"MemberAccess","src":"4747:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47500,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"4733:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_address_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (address[] memory)"},"typeName":{"baseType":{"id":47498,"name":"address","nodeType":"ElementaryTypeName","src":"4737:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47499,"nodeType":"ArrayTypeName","src":"4737:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}}},"id":47503,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4733:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"src":"4721:37:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":47505,"nodeType":"ExpressionStatement","src":"4721:37:38"},{"body":{"id":47530,"nodeType":"Block","src":"4809:82:38","statements":[{"expression":{"id":47528,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47517,"name":"delegates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47491,"src":"4823:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":47519,"indexExpression":{"id":47518,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47507,"src":"4833:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4823:12:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":47520,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47303,"src":"4838:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":47527,"indexExpression":{"arguments":[{"id":47522,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47484,"src":"4862:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"baseExpression":{"id":47523,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47487,"src":"4872:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47525,"indexExpression":{"id":47524,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47507,"src":"4876:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4872:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47521,"name":"_tokenKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48757,"src":"4852:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_bytes32_$","typeString":"function (uint256,uint256) pure returns (bytes32)"}},"id":47526,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4852:27:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4838:42:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4823:57:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47529,"nodeType":"ExpressionStatement","src":"4823:57:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47513,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47510,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47507,"src":"4788:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":47511,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47487,"src":"4792:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47512,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4796:6:38","memberName":"length","nodeType":"MemberAccess","src":"4792:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4788:14:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47531,"initializationExpression":{"assignments":[47507],"declarations":[{"constant":false,"id":47507,"mutability":"mutable","name":"i","nameLocation":"4781:1:38","nodeType":"VariableDeclaration","scope":47531,"src":"4773:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47506,"name":"uint256","nodeType":"ElementaryTypeName","src":"4773:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47509,"initialValue":{"hexValue":"30","id":47508,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4785:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4773:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47515,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"4804:3:38","subExpression":{"id":47514,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47507,"src":"4806:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47516,"nodeType":"ExpressionStatement","src":"4804:3:38"},"nodeType":"ForStatement","src":"4768:123:38"}]},"documentation":{"id":47482,"nodeType":"StructuredDocumentation","src":"4435:90:38","text":"@notice Vectorized mapping lookup for (nftIndex, ids) => delegate address (0 if none)."},"functionSelector":"c333b0f1","implemented":true,"kind":"function","modifiers":[],"name":"getTokenDelegations","nameLocation":"4539:19:38","parameters":{"id":47488,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47484,"mutability":"mutable","name":"nftIndex","nameLocation":"4567:8:38","nodeType":"VariableDeclaration","scope":47533,"src":"4559:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47483,"name":"uint256","nodeType":"ElementaryTypeName","src":"4559:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47487,"mutability":"mutable","name":"ids","nameLocation":"4596:3:38","nodeType":"VariableDeclaration","scope":47533,"src":"4577:22:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47485,"name":"uint256","nodeType":"ElementaryTypeName","src":"4577:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47486,"nodeType":"ArrayTypeName","src":"4577:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"4558:42:38"},"returnParameters":{"id":47492,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47491,"mutability":"mutable","name":"delegates","nameLocation":"4665:9:38","nodeType":"VariableDeclaration","scope":47533,"src":"4648:26:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":47489,"name":"address","nodeType":"ElementaryTypeName","src":"4648:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47490,"nodeType":"ArrayTypeName","src":"4648:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"src":"4647:28:38"},"scope":49136,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47666,"nodeType":"FunctionDefinition","src":"5084:964:38","nodes":[],"body":{"id":47665,"nodeType":"Block","src":"5195:853:38","nodes":[],"statements":[{"expression":{"arguments":[{"id":47546,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47536,"src":"5217:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47545,"name":"_checkIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48739,"src":"5205:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$__$","typeString":"function (uint256) view"}},"id":47547,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5205:21:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47548,"nodeType":"ExpressionStatement","src":"5205:21:38"},{"assignments":[47550],"declarations":[{"constant":false,"id":47550,"mutability":"mutable","name":"count","nameLocation":"5244:5:38","nodeType":"VariableDeclaration","scope":47665,"src":"5236:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47549,"name":"uint256","nodeType":"ElementaryTypeName","src":"5236:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47551,"nodeType":"VariableDeclarationStatement","src":"5236:13:38"},{"body":{"id":47597,"nodeType":"Block","src":"5309:346:38","statements":[{"assignments":[47564],"declarations":[{"constant":false,"id":47564,"mutability":"mutable","name":"id","nameLocation":"5331:2:38","nodeType":"VariableDeclaration","scope":47597,"src":"5323:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47563,"name":"uint256","nodeType":"ElementaryTypeName","src":"5323:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47568,"initialValue":{"baseExpression":{"id":47565,"name":"candidateIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47539,"src":"5336:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47567,"indexExpression":{"id":47566,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47553,"src":"5349:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5336:15:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5323:28:38"},{"assignments":[47570],"declarations":[{"constant":false,"id":47570,"mutability":"mutable","name":"key","nameLocation":"5373:3:38","nodeType":"VariableDeclaration","scope":47597,"src":"5365:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47569,"name":"bytes32","nodeType":"ElementaryTypeName","src":"5365:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":47575,"initialValue":{"arguments":[{"id":47572,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47536,"src":"5389:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47573,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47564,"src":"5399:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47571,"name":"_tokenKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48757,"src":"5379:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_bytes32_$","typeString":"function (uint256,uint256) pure returns (bytes32)"}},"id":47574,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5379:23:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"5365:37:38"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":47590,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":47583,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"id":47576,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47303,"src":"5486:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":47578,"indexExpression":{"id":47577,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47570,"src":"5500:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5486:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":47581,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5516:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":47580,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5508:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47579,"name":"address","nodeType":"ElementaryTypeName","src":"5508:7:38","typeDescriptions":{}}},"id":47582,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5508:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5486:32:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"arguments":[{"id":47585,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47536,"src":"5528:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":47586,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5538:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47587,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5542:6:38","memberName":"sender","nodeType":"MemberAccess","src":"5538:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47588,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47564,"src":"5550:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47584,"name":"_owns","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48814,"src":"5522:5:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256,address,uint256) view returns (bool)"}},"id":47589,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5522:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5486:67:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47596,"nodeType":"IfStatement","src":"5482:163:38","trueBody":{"id":47595,"nodeType":"Block","src":"5555:90:38","statements":[{"id":47594,"nodeType":"UncheckedBlock","src":"5573:58:38","statements":[{"expression":{"id":47592,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"5605:7:38","subExpression":{"id":47591,"name":"count","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47550,"src":"5607:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47593,"nodeType":"ExpressionStatement","src":"5605:7:38"}]}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47559,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47556,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47553,"src":"5279:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":47557,"name":"candidateIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47539,"src":"5283:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47558,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5296:6:38","memberName":"length","nodeType":"MemberAccess","src":"5283:19:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5279:23:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47598,"initializationExpression":{"assignments":[47553],"declarations":[{"constant":false,"id":47553,"mutability":"mutable","name":"i","nameLocation":"5272:1:38","nodeType":"VariableDeclaration","scope":47598,"src":"5264:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47552,"name":"uint256","nodeType":"ElementaryTypeName","src":"5264:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47555,"initialValue":{"hexValue":"30","id":47554,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5276:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"5264:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47561,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"5304:3:38","subExpression":{"id":47560,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47553,"src":"5306:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47562,"nodeType":"ExpressionStatement","src":"5304:3:38"},"nodeType":"ForStatement","src":"5259:396:38"},{"assignments":[47603],"declarations":[{"constant":false,"id":47603,"mutability":"mutable","name":"out","nameLocation":"5681:3:38","nodeType":"VariableDeclaration","scope":47665,"src":"5664:20:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47601,"name":"uint256","nodeType":"ElementaryTypeName","src":"5664:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47602,"nodeType":"ArrayTypeName","src":"5664:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":47609,"initialValue":{"arguments":[{"id":47607,"name":"count","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47550,"src":"5701:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47606,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"5687:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":47604,"name":"uint256","nodeType":"ElementaryTypeName","src":"5691:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47605,"nodeType":"ArrayTypeName","src":"5691:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":47608,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5687:20:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"5664:43:38"},{"assignments":[47611],"declarations":[{"constant":false,"id":47611,"mutability":"mutable","name":"k","nameLocation":"5725:1:38","nodeType":"VariableDeclaration","scope":47665,"src":"5717:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47610,"name":"uint256","nodeType":"ElementaryTypeName","src":"5717:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47612,"nodeType":"VariableDeclarationStatement","src":"5717:9:38"},{"body":{"id":47661,"nodeType":"Block","src":"5786:236:38","statements":[{"assignments":[47625],"declarations":[{"constant":false,"id":47625,"mutability":"mutable","name":"id","nameLocation":"5808:2:38","nodeType":"VariableDeclaration","scope":47661,"src":"5800:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47624,"name":"uint256","nodeType":"ElementaryTypeName","src":"5800:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47629,"initialValue":{"baseExpression":{"id":47626,"name":"candidateIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47539,"src":"5813:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47628,"indexExpression":{"id":47627,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47614,"src":"5826:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5813:15:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5800:28:38"},{"assignments":[47631],"declarations":[{"constant":false,"id":47631,"mutability":"mutable","name":"key","nameLocation":"5850:3:38","nodeType":"VariableDeclaration","scope":47661,"src":"5842:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47630,"name":"bytes32","nodeType":"ElementaryTypeName","src":"5842:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":47636,"initialValue":{"arguments":[{"id":47633,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47536,"src":"5866:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47634,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47625,"src":"5876:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47632,"name":"_tokenKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48757,"src":"5856:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_bytes32_$","typeString":"function (uint256,uint256) pure returns (bytes32)"}},"id":47635,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5856:23:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"5842:37:38"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":47651,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":47644,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"id":47637,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47303,"src":"5897:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":47639,"indexExpression":{"id":47638,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47631,"src":"5911:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5897:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":47642,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5927:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":47641,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5919:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47640,"name":"address","nodeType":"ElementaryTypeName","src":"5919:7:38","typeDescriptions":{}}},"id":47643,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5919:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5897:32:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"arguments":[{"id":47646,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47536,"src":"5939:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":47647,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5949:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47648,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5953:6:38","memberName":"sender","nodeType":"MemberAccess","src":"5949:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47649,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47625,"src":"5961:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47645,"name":"_owns","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48814,"src":"5933:5:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256,address,uint256) view returns (bool)"}},"id":47650,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5933:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5897:67:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47660,"nodeType":"IfStatement","src":"5893:119:38","trueBody":{"id":47659,"nodeType":"Block","src":"5966:46:38","statements":[{"expression":{"id":47657,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47652,"name":"out","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47603,"src":"5984:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47655,"indexExpression":{"id":47654,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"5988:3:38","subExpression":{"id":47653,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47611,"src":"5988:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5984:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":47656,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47625,"src":"5995:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5984:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47658,"nodeType":"ExpressionStatement","src":"5984:13:38"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47617,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47614,"src":"5756:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":47618,"name":"candidateIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47539,"src":"5760:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47619,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5773:6:38","memberName":"length","nodeType":"MemberAccess","src":"5760:19:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5756:23:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47662,"initializationExpression":{"assignments":[47614],"declarations":[{"constant":false,"id":47614,"mutability":"mutable","name":"i","nameLocation":"5749:1:38","nodeType":"VariableDeclaration","scope":47662,"src":"5741:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47613,"name":"uint256","nodeType":"ElementaryTypeName","src":"5741:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47616,"initialValue":{"hexValue":"30","id":47615,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5753:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"5741:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47622,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"5781:3:38","subExpression":{"id":47621,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47614,"src":"5783:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47623,"nodeType":"ExpressionStatement","src":"5781:3:38"},"nodeType":"ForStatement","src":"5736:286:38"},{"expression":{"id":47663,"name":"out","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47603,"src":"6038:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"functionReturnParameters":47544,"id":47664,"nodeType":"Return","src":"6031:10:38"}]},"documentation":{"id":47534,"nodeType":"StructuredDocumentation","src":"4903:176:38","text":"@notice Returns token IDs that are delegated and **still currently owned** by `msg.sender`\n @dev Gas optimized: uses tokenDelegate mapping instead of _ownerDelegated"},"functionSelector":"8498be04","implemented":true,"kind":"function","modifiers":[],"name":"getNFTids","nameLocation":"5093:9:38","parameters":{"id":47540,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47536,"mutability":"mutable","name":"nftIndex","nameLocation":"5111:8:38","nodeType":"VariableDeclaration","scope":47666,"src":"5103:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47535,"name":"uint256","nodeType":"ElementaryTypeName","src":"5103:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47539,"mutability":"mutable","name":"candidateIds","nameLocation":"5140:12:38","nodeType":"VariableDeclaration","scope":47666,"src":"5121:31:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47537,"name":"uint256","nodeType":"ElementaryTypeName","src":"5121:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47538,"nodeType":"ArrayTypeName","src":"5121:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"5102:51:38"},"returnParameters":{"id":47544,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47543,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47666,"src":"5177:16:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47541,"name":"uint256","nodeType":"ElementaryTypeName","src":"5177:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47542,"nodeType":"ArrayTypeName","src":"5177:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"5176:18:38"},"scope":49136,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47746,"nodeType":"FunctionDefinition","src":"6814:968:38","nodes":[],"body":{"id":47745,"nodeType":"Block","src":"7037:745:38","nodes":[],"statements":[{"expression":{"arguments":[{"id":47687,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47671,"src":"7059:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47686,"name":"_checkIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48739,"src":"7047:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$__$","typeString":"function (uint256) view"}},"id":47688,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7047:21:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47689,"nodeType":"ExpressionStatement","src":"7047:21:38"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":47695,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47690,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47669,"src":"7082:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":47693,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7096:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":47692,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7088:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47691,"name":"address","nodeType":"ElementaryTypeName","src":"7088:7:38","typeDescriptions":{}}},"id":47694,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7088:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"7082:16:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47699,"nodeType":"IfStatement","src":"7078:42:38","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":47696,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47371,"src":"7107:11:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":47697,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7107:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":47698,"nodeType":"RevertStatement","src":"7100:20:38"}},{"assignments":[47704,47707,47709,47711],"declarations":[{"constant":false,"id":47704,"mutability":"mutable","name":"inheritedDelegates","nameLocation":"7214:18:38","nodeType":"VariableDeclaration","scope":47745,"src":"7197:35:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":47702,"name":"address","nodeType":"ElementaryTypeName","src":"7197:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47703,"nodeType":"ArrayTypeName","src":"7197:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":47707,"mutability":"mutable","name":"inheritedCounts","nameLocation":"7251:15:38","nodeType":"VariableDeclaration","scope":47745,"src":"7234:32:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47705,"name":"uint256","nodeType":"ElementaryTypeName","src":"7234:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47706,"nodeType":"ArrayTypeName","src":"7234:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":47709,"mutability":"mutable","name":"uniqueInherited","nameLocation":"7276:15:38","nodeType":"VariableDeclaration","scope":47745,"src":"7268:23:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47708,"name":"uint256","nodeType":"ElementaryTypeName","src":"7268:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47711,"mutability":"mutable","name":"added","nameLocation":"7301:5:38","nodeType":"VariableDeclaration","scope":47745,"src":"7293:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47710,"name":"uint256","nodeType":"ElementaryTypeName","src":"7293:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47717,"initialValue":{"arguments":[{"id":47713,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47669,"src":"7338:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47714,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47671,"src":"7342:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47715,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47674,"src":"7352:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"id":47712,"name":"_processDelegations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49062,"src":"7318:19:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$_t_uint256_$","typeString":"function (address,uint256,uint256[] calldata) returns (address[] memory,uint256[] memory,uint256,uint256)"}},"id":47716,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7318:38:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$_t_uint256_$","typeString":"tuple(address[] memory,uint256[] memory,uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"7196:160:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47720,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47718,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47711,"src":"7371:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":47719,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7380:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7371:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47724,"nodeType":"IfStatement","src":"7367:41:38","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":47721,"name":"NoNewDelegations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47373,"src":"7390:16:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":47722,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7390:18:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":47723,"nodeType":"RevertStatement","src":"7383:25:38"}},{"expression":{"arguments":[{"id":47726,"name":"inheritedDelegates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47704,"src":"7527:18:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"id":47727,"name":"inheritedCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47707,"src":"7547:15:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"id":47728,"name":"uniqueInherited","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47709,"src":"7564:15:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47729,"name":"fromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47683,"src":"7581:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}],"id":47725,"name":"_applyInheritedProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49135,"src":"7505:21:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$_t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr_$returns$__$","typeString":"function (address[] memory,uint256[] memory,uint256,struct DavinciDao.ProofInput calldata[] calldata)"}},"id":47730,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7505:87:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47731,"nodeType":"ExpressionStatement","src":"7505:87:38"},{"expression":{"arguments":[{"id":47733,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47669,"src":"7665:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":47736,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47711,"src":"7676:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47735,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7669:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":47734,"name":"int256","nodeType":"ElementaryTypeName","src":"7669:6:38","typeDescriptions":{}}},"id":47737,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7669:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":47738,"name":"currentWeightOfTo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47676,"src":"7684:17:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},{"id":47739,"name":"toProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47679,"src":"7703:7:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint88","typeString":"uint88"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"id":47732,"name":"_applyDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48304,"src":"7653:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_int256_$_t_uint88_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$__$","typeString":"function (address,int256,uint88,uint256[] calldata)"}},"id":47740,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7653:58:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47741,"nodeType":"ExpressionStatement","src":"7653:58:38"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":47742,"name":"_updateRootHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48328,"src":"7755:18:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":47743,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7755:20:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47744,"nodeType":"ExpressionStatement","src":"7755:20:38"}]},"documentation":{"id":47667,"nodeType":"StructuredDocumentation","src":"6238:571:38","text":"@notice Delegate voting power from owned NFTs to `to`.\n @param to                Receiver address (voter).\n @param nftIndex          Index into `collections`.\n @param ids               Token IDs to delegate.\n @param currentWeightOfTo Current weight of `to` (verified by proof, obtained from subgraph).\n @param toProof           Merkle path for `to`'s existing leaf (empty if `to` has zero weight).\n @param fromProofs        Proofs for clearing inherited delegations (if any tokens were previously delegated by another owner)."},"functionSelector":"340ae1cd","implemented":true,"kind":"function","modifiers":[],"name":"delegate","nameLocation":"6823:8:38","parameters":{"id":47684,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47669,"mutability":"mutable","name":"to","nameLocation":"6849:2:38","nodeType":"VariableDeclaration","scope":47746,"src":"6841:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47668,"name":"address","nodeType":"ElementaryTypeName","src":"6841:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47671,"mutability":"mutable","name":"nftIndex","nameLocation":"6869:8:38","nodeType":"VariableDeclaration","scope":47746,"src":"6861:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47670,"name":"uint256","nodeType":"ElementaryTypeName","src":"6861:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47674,"mutability":"mutable","name":"ids","nameLocation":"6906:3:38","nodeType":"VariableDeclaration","scope":47746,"src":"6887:22:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47672,"name":"uint256","nodeType":"ElementaryTypeName","src":"6887:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47673,"nodeType":"ArrayTypeName","src":"6887:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":47676,"mutability":"mutable","name":"currentWeightOfTo","nameLocation":"6926:17:38","nodeType":"VariableDeclaration","scope":47746,"src":"6919:24:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":47675,"name":"uint88","nodeType":"ElementaryTypeName","src":"6919:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"},{"constant":false,"id":47679,"mutability":"mutable","name":"toProof","nameLocation":"6972:7:38","nodeType":"VariableDeclaration","scope":47746,"src":"6953:26:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47677,"name":"uint256","nodeType":"ElementaryTypeName","src":"6953:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47678,"nodeType":"ArrayTypeName","src":"6953:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":47683,"mutability":"mutable","name":"fromProofs","nameLocation":"7011:10:38","nodeType":"VariableDeclaration","scope":47746,"src":"6989:32:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput[]"},"typeName":{"baseType":{"id":47681,"nodeType":"UserDefinedTypeName","pathNode":{"id":47680,"name":"ProofInput","nameLocations":["6989:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47292,"src":"6989:10:38"},"referencedDeclaration":47292,"src":"6989:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47292_storage_ptr","typeString":"struct DavinciDao.ProofInput"}},"id":47682,"nodeType":"ArrayTypeName","src":"6989:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_storage_$dyn_storage_ptr","typeString":"struct DavinciDao.ProofInput[]"}},"visibility":"internal"}],"src":"6831:196:38"},"returnParameters":{"id":47685,"nodeType":"ParameterList","parameters":[],"src":"7037:0:38"},"scope":49136,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":48069,"nodeType":"FunctionDefinition","src":"8080:2353:38","nodes":[],"body":{"id":48068,"nodeType":"Block","src":"8181:2252:38","nodes":[],"statements":[{"expression":{"arguments":[{"id":47760,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47749,"src":"8203:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47759,"name":"_checkIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48739,"src":"8191:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$__$","typeString":"function (uint256) view"}},"id":47761,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8191:21:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47762,"nodeType":"ExpressionStatement","src":"8191:21:38"},{"assignments":[47767],"declarations":[{"constant":false,"id":47767,"mutability":"mutable","name":"delAddrs","nameLocation":"8337:8:38","nodeType":"VariableDeclaration","scope":48068,"src":"8320:25:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":47765,"name":"address","nodeType":"ElementaryTypeName","src":"8320:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47766,"nodeType":"ArrayTypeName","src":"8320:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"id":47774,"initialValue":{"arguments":[{"expression":{"id":47771,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47752,"src":"8362:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47772,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8366:6:38","memberName":"length","nodeType":"MemberAccess","src":"8362:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47770,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"8348:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_address_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (address[] memory)"},"typeName":{"baseType":{"id":47768,"name":"address","nodeType":"ElementaryTypeName","src":"8352:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47769,"nodeType":"ArrayTypeName","src":"8352:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}}},"id":47773,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8348:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"nodeType":"VariableDeclarationStatement","src":"8320:53:38"},{"assignments":[47779],"declarations":[{"constant":false,"id":47779,"mutability":"mutable","name":"counts","nameLocation":"8400:6:38","nodeType":"VariableDeclaration","scope":48068,"src":"8383:23:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47777,"name":"uint256","nodeType":"ElementaryTypeName","src":"8383:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47778,"nodeType":"ArrayTypeName","src":"8383:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":47786,"initialValue":{"arguments":[{"expression":{"id":47783,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47752,"src":"8423:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47784,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8427:6:38","memberName":"length","nodeType":"MemberAccess","src":"8423:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47782,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"8409:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":47780,"name":"uint256","nodeType":"ElementaryTypeName","src":"8413:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47781,"nodeType":"ArrayTypeName","src":"8413:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":47785,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8409:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"8383:51:38"},{"assignments":[47792],"declarations":[{"constant":false,"id":47792,"mutability":"mutable","name":"tokenIdsByDelegate","nameLocation":"8463:18:38","nodeType":"VariableDeclaration","scope":48068,"src":"8444:37:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[][]"},"typeName":{"baseType":{"baseType":{"id":47789,"name":"uint256","nodeType":"ElementaryTypeName","src":"8444:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47790,"nodeType":"ArrayTypeName","src":"8444:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":47791,"nodeType":"ArrayTypeName","src":"8444:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}},"visibility":"internal"}],"id":47800,"initialValue":{"arguments":[{"expression":{"id":47797,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47752,"src":"8500:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47798,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8504:6:38","memberName":"length","nodeType":"MemberAccess","src":"8500:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47796,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"8484:15:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory[] memory)"},"typeName":{"baseType":{"baseType":{"id":47793,"name":"uint256","nodeType":"ElementaryTypeName","src":"8488:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47794,"nodeType":"ArrayTypeName","src":"8488:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":47795,"nodeType":"ArrayTypeName","src":"8488:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}}},"id":47799,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8484:27:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"nodeType":"VariableDeclarationStatement","src":"8444:67:38"},{"assignments":[47802],"declarations":[{"constant":false,"id":47802,"mutability":"mutable","name":"unique","nameLocation":"8529:6:38","nodeType":"VariableDeclaration","scope":48068,"src":"8521:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47801,"name":"uint256","nodeType":"ElementaryTypeName","src":"8521:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47803,"nodeType":"VariableDeclarationStatement","src":"8521:14:38"},{"body":{"id":47826,"nodeType":"Block","src":"8653:74:38","statements":[{"expression":{"id":47824,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47815,"name":"tokenIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47792,"src":"8667:18:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":47817,"indexExpression":{"id":47816,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47805,"src":"8686:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8667:21:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":47821,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47752,"src":"8705:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47822,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8709:6:38","memberName":"length","nodeType":"MemberAccess","src":"8705:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47820,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"8691:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":47818,"name":"uint256","nodeType":"ElementaryTypeName","src":"8695:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47819,"nodeType":"ArrayTypeName","src":"8695:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":47823,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8691:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"src":"8667:49:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47825,"nodeType":"ExpressionStatement","src":"8667:49:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47811,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47808,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47805,"src":"8632:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":47809,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47752,"src":"8636:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47810,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8640:6:38","memberName":"length","nodeType":"MemberAccess","src":"8636:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8632:14:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47827,"initializationExpression":{"assignments":[47805],"declarations":[{"constant":false,"id":47805,"mutability":"mutable","name":"i","nameLocation":"8625:1:38","nodeType":"VariableDeclaration","scope":47827,"src":"8617:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47804,"name":"uint256","nodeType":"ElementaryTypeName","src":"8617:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47807,"initialValue":{"hexValue":"30","id":47806,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8629:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"8617:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47813,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"8648:3:38","subExpression":{"id":47812,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47805,"src":"8650:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47814,"nodeType":"ExpressionStatement","src":"8648:3:38"},"nodeType":"ForStatement","src":"8612:115:38"},{"body":{"id":47948,"nodeType":"Block","src":"8778:797:38","statements":[{"assignments":[47840],"declarations":[{"constant":false,"id":47840,"mutability":"mutable","name":"id","nameLocation":"8800:2:38","nodeType":"VariableDeclaration","scope":47948,"src":"8792:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47839,"name":"uint256","nodeType":"ElementaryTypeName","src":"8792:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47844,"initialValue":{"baseExpression":{"id":47841,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47752,"src":"8805:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47843,"indexExpression":{"id":47842,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47829,"src":"8809:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8805:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8792:19:38"},{"condition":{"id":47851,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"8829:32:38","subExpression":{"arguments":[{"id":47846,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47749,"src":"8836:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":47847,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"8846:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47848,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8850:6:38","memberName":"sender","nodeType":"MemberAccess","src":"8846:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47849,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47840,"src":"8858:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47845,"name":"_owns","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48814,"src":"8830:5:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256,address,uint256) view returns (bool)"}},"id":47850,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8830:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47856,"nodeType":"IfStatement","src":"8825:62:38","trueBody":{"errorCall":{"arguments":[{"id":47853,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47840,"src":"8884:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47852,"name":"NotTokenOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47377,"src":"8870:13:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$_t_error_$","typeString":"function (uint256) pure returns (error)"}},"id":47854,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8870:17:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":47855,"nodeType":"RevertStatement","src":"8863:24:38"}},{"assignments":[47858],"declarations":[{"constant":false,"id":47858,"mutability":"mutable","name":"key","nameLocation":"8910:3:38","nodeType":"VariableDeclaration","scope":47948,"src":"8902:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47857,"name":"bytes32","nodeType":"ElementaryTypeName","src":"8902:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":47863,"initialValue":{"arguments":[{"id":47860,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47749,"src":"8926:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47861,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47840,"src":"8936:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47859,"name":"_tokenKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48757,"src":"8916:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_bytes32_$","typeString":"function (uint256,uint256) pure returns (bytes32)"}},"id":47862,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8916:23:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"8902:37:38"},{"assignments":[47865],"declarations":[{"constant":false,"id":47865,"mutability":"mutable","name":"del","nameLocation":"8961:3:38","nodeType":"VariableDeclaration","scope":47948,"src":"8953:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47864,"name":"address","nodeType":"ElementaryTypeName","src":"8953:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":47869,"initialValue":{"baseExpression":{"id":47866,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47303,"src":"8967:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":47868,"indexExpression":{"id":47867,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47858,"src":"8981:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8967:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"8953:32:38"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":47875,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47870,"name":"del","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47865,"src":"9003:3:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":47873,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9018:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":47872,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9010:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47871,"name":"address","nodeType":"ElementaryTypeName","src":"9010:7:38","typeDescriptions":{}}},"id":47874,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9010:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9003:17:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47880,"nodeType":"IfStatement","src":"8999:46:38","trueBody":{"errorCall":{"arguments":[{"id":47877,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47840,"src":"9042:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47876,"name":"NotDelegated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47385,"src":"9029:12:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$_t_error_$","typeString":"function (uint256) pure returns (error)"}},"id":47878,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9029:16:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":47879,"nodeType":"RevertStatement","src":"9022:23:38"}},{"expression":{"id":47888,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47881,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47303,"src":"9060:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":47883,"indexExpression":{"id":47882,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47858,"src":"9074:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9060:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"30","id":47886,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9089:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":47885,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9081:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47884,"name":"address","nodeType":"ElementaryTypeName","src":"9081:7:38","typeDescriptions":{}}},"id":47887,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9081:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9060:31:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47889,"nodeType":"ExpressionStatement","src":"9060:31:38"},{"assignments":[47891],"declarations":[{"constant":false,"id":47891,"mutability":"mutable","name":"j","nameLocation":"9114:1:38","nodeType":"VariableDeclaration","scope":47948,"src":"9106:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47890,"name":"uint256","nodeType":"ElementaryTypeName","src":"9106:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47897,"initialValue":{"arguments":[{"id":47893,"name":"delAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47767,"src":"9127:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"id":47894,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47802,"src":"9137:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47895,"name":"del","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47865,"src":"9145:3:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"id":47892,"name":"_indexOf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48854,"src":"9118:8:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_array$_t_address_$dyn_memory_ptr_$_t_uint256_$_t_address_$returns$_t_uint256_$","typeString":"function (address[] memory,uint256,address) pure returns (uint256)"}},"id":47896,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9118:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9106:43:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47904,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47898,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47891,"src":"9167:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"arguments":[{"id":47901,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9177:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":47900,"name":"uint256","nodeType":"ElementaryTypeName","src":"9177:7:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":47899,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"9172:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":47902,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9172:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":47903,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"9186:3:38","memberName":"max","nodeType":"MemberAccess","src":"9172:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9167:22:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":47946,"nodeType":"Block","src":"9416:149:38","statements":[{"expression":{"id":47938,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":47930,"name":"tokenIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47792,"src":"9434:18:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":47935,"indexExpression":{"id":47931,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47891,"src":"9453:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9434:21:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47936,"indexExpression":{"baseExpression":{"id":47932,"name":"counts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47779,"src":"9456:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47934,"indexExpression":{"id":47933,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47891,"src":"9463:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9456:9:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9434:32:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":47937,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47840,"src":"9469:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9434:37:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47939,"nodeType":"ExpressionStatement","src":"9434:37:38"},{"id":47945,"nodeType":"UncheckedBlock","src":"9489:62:38","statements":[{"expression":{"id":47943,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"9521:11:38","subExpression":{"baseExpression":{"id":47940,"name":"counts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47779,"src":"9523:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47942,"indexExpression":{"id":47941,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47891,"src":"9530:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9523:9:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47944,"nodeType":"ExpressionStatement","src":"9521:11:38"}]}]},"id":47947,"nodeType":"IfStatement","src":"9163:402:38","trueBody":{"id":47929,"nodeType":"Block","src":"9191:219:38","statements":[{"expression":{"id":47909,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47905,"name":"delAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47767,"src":"9209:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":47907,"indexExpression":{"id":47906,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47802,"src":"9218:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9209:16:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":47908,"name":"del","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47865,"src":"9228:3:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9209:22:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47910,"nodeType":"ExpressionStatement","src":"9209:22:38"},{"expression":{"id":47917,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":47911,"name":"tokenIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47792,"src":"9249:18:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":47914,"indexExpression":{"id":47912,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47802,"src":"9268:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9249:26:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47915,"indexExpression":{"hexValue":"30","id":47913,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9276:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9249:29:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":47916,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47840,"src":"9281:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9249:34:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47918,"nodeType":"ExpressionStatement","src":"9249:34:38"},{"expression":{"id":47923,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47919,"name":"counts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47779,"src":"9301:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47921,"indexExpression":{"id":47920,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47802,"src":"9308:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9301:14:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"31","id":47922,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9318:1:38","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"9301:18:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47924,"nodeType":"ExpressionStatement","src":"9301:18:38"},{"id":47928,"nodeType":"UncheckedBlock","src":"9337:59:38","statements":[{"expression":{"id":47926,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"9369:8:38","subExpression":{"id":47925,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47802,"src":"9371:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47927,"nodeType":"ExpressionStatement","src":"9369:8:38"}]}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47835,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47832,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47829,"src":"8757:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":47833,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47752,"src":"8761:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47834,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8765:6:38","memberName":"length","nodeType":"MemberAccess","src":"8761:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8757:14:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47949,"initializationExpression":{"assignments":[47829],"declarations":[{"constant":false,"id":47829,"mutability":"mutable","name":"i","nameLocation":"8750:1:38","nodeType":"VariableDeclaration","scope":47949,"src":"8742:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47828,"name":"uint256","nodeType":"ElementaryTypeName","src":"8742:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47831,"initialValue":{"hexValue":"30","id":47830,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8754:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"8742:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47837,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"8773:3:38","subExpression":{"id":47836,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47829,"src":"8775:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47838,"nodeType":"ExpressionStatement","src":"8773:3:38"},"nodeType":"ForStatement","src":"8737:838:38"},{"body":{"id":48007,"nodeType":"Block","src":"9669:367:38","statements":[{"assignments":[47964],"declarations":[{"constant":false,"id":47964,"mutability":"mutable","name":"delegateTokenIds","nameLocation":"9762:16:38","nodeType":"VariableDeclaration","scope":48007,"src":"9745:33:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47962,"name":"uint256","nodeType":"ElementaryTypeName","src":"9745:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47963,"nodeType":"ArrayTypeName","src":"9745:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":47972,"initialValue":{"arguments":[{"baseExpression":{"id":47968,"name":"counts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47779,"src":"9795:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47970,"indexExpression":{"id":47969,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47951,"src":"9802:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9795:9:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47967,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"9781:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":47965,"name":"uint256","nodeType":"ElementaryTypeName","src":"9785:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47966,"nodeType":"ArrayTypeName","src":"9785:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":47971,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9781:24:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"9745:60:38"},{"body":{"id":47995,"nodeType":"Block","src":"9859:79:38","statements":[{"expression":{"id":47993,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47985,"name":"delegateTokenIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47964,"src":"9877:16:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47987,"indexExpression":{"id":47986,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47974,"src":"9894:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9877:19:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"baseExpression":{"id":47988,"name":"tokenIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47792,"src":"9899:18:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":47990,"indexExpression":{"id":47989,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47951,"src":"9918:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9899:21:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47992,"indexExpression":{"id":47991,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47974,"src":"9921:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9899:24:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9877:46:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47994,"nodeType":"ExpressionStatement","src":"9877:46:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47981,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47977,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47974,"src":"9839:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"baseExpression":{"id":47978,"name":"counts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47779,"src":"9843:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47980,"indexExpression":{"id":47979,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47951,"src":"9850:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9843:9:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9839:13:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47996,"initializationExpression":{"assignments":[47974],"declarations":[{"constant":false,"id":47974,"mutability":"mutable","name":"m","nameLocation":"9832:1:38","nodeType":"VariableDeclaration","scope":47996,"src":"9824:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47973,"name":"uint256","nodeType":"ElementaryTypeName","src":"9824:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47976,"initialValue":{"hexValue":"30","id":47975,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9836:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"9824:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47983,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"9854:3:38","subExpression":{"id":47982,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47974,"src":"9856:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47984,"nodeType":"ExpressionStatement","src":"9854:3:38"},"nodeType":"ForStatement","src":"9819:119:38"},{"eventCall":{"arguments":[{"expression":{"id":47998,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"9973:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47999,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9977:6:38","memberName":"sender","nodeType":"MemberAccess","src":"9973:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"baseExpression":{"id":48000,"name":"delAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47767,"src":"9985:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48002,"indexExpression":{"id":48001,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47951,"src":"9994:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9985:11:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48003,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47749,"src":"9998:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48004,"name":"delegateTokenIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47964,"src":"10008:16:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}],"id":47997,"name":"UndelegatedBatch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47349,"src":"9956:16:38","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256[] memory)"}},"id":48005,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9956:69:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48006,"nodeType":"EmitStatement","src":"9951:74:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47956,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47954,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47951,"src":"9652:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":47955,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47802,"src":"9656:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9652:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48008,"initializationExpression":{"assignments":[47951],"declarations":[{"constant":false,"id":47951,"mutability":"mutable","name":"k","nameLocation":"9645:1:38","nodeType":"VariableDeclaration","scope":48008,"src":"9637:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47950,"name":"uint256","nodeType":"ElementaryTypeName","src":"9637:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47953,"initialValue":{"hexValue":"30","id":47952,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9649:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"9637:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47958,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"9664:3:38","subExpression":{"id":47957,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47951,"src":"9666:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47959,"nodeType":"ExpressionStatement","src":"9664:3:38"},"nodeType":"ForStatement","src":"9632:404:38"},{"body":{"id":48063,"nodeType":"Block","src":"10083:280:38","statements":[{"assignments":[48020],"declarations":[{"constant":false,"id":48020,"mutability":"mutable","name":"acct","nameLocation":"10105:4:38","nodeType":"VariableDeclaration","scope":48063,"src":"10097:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48019,"name":"address","nodeType":"ElementaryTypeName","src":"10097:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":48024,"initialValue":{"baseExpression":{"id":48021,"name":"delAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47767,"src":"10112:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48023,"indexExpression":{"id":48022,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48010,"src":"10121:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10112:11:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"10097:26:38"},{"assignments":[48026],"declarations":[{"constant":false,"id":48026,"mutability":"mutable","name":"pIdx","nameLocation":"10145:4:38","nodeType":"VariableDeclaration","scope":48063,"src":"10137:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48025,"name":"uint256","nodeType":"ElementaryTypeName","src":"10137:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48031,"initialValue":{"arguments":[{"id":48028,"name":"proofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47756,"src":"10166:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},{"id":48029,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48020,"src":"10174:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"},{"typeIdentifier":"t_address","typeString":"address"}],"id":48027,"name":"_indexOfProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48894,"src":"10152:13:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr_$_t_address_$returns$_t_uint256_$","typeString":"function (struct DavinciDao.ProofInput calldata[] calldata,address) pure returns (uint256)"}},"id":48030,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10152:27:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10137:42:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48038,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48032,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48026,"src":"10197:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"arguments":[{"id":48035,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10210:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48034,"name":"uint256","nodeType":"ElementaryTypeName","src":"10210:7:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":48033,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"10205:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":48036,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10205:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":48037,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"10219:3:38","memberName":"max","nodeType":"MemberAccess","src":"10205:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10197:25:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48043,"nodeType":"IfStatement","src":"10193:57:38","trueBody":{"errorCall":{"arguments":[{"id":48040,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48020,"src":"10245:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":48039,"name":"ProofRequired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47389,"src":"10231:13:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$_t_error_$","typeString":"function (address) pure returns (error)"}},"id":48041,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10231:19:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48042,"nodeType":"RevertStatement","src":"10224:26:38"}},{"expression":{"arguments":[{"id":48045,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48020,"src":"10276:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48052,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"10282:18:38","subExpression":{"arguments":[{"baseExpression":{"id":48048,"name":"counts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47779,"src":"10290:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48050,"indexExpression":{"id":48049,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48010,"src":"10297:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10290:9:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48047,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10283:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":48046,"name":"int256","nodeType":"ElementaryTypeName","src":"10283:6:38","typeDescriptions":{}}},"id":48051,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10283:17:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"baseExpression":{"id":48053,"name":"proofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47756,"src":"10302:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},"id":48055,"indexExpression":{"id":48054,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48026,"src":"10309:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10302:12:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47292_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata"}},"id":48056,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10315:13:38","memberName":"currentWeight","nodeType":"MemberAccess","referencedDeclaration":47288,"src":"10302:26:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},{"expression":{"baseExpression":{"id":48057,"name":"proofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47756,"src":"10330:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},"id":48059,"indexExpression":{"id":48058,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48026,"src":"10337:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10330:12:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47292_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata"}},"id":48060,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10343:8:38","memberName":"siblings","nodeType":"MemberAccess","referencedDeclaration":47291,"src":"10330:21:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint88","typeString":"uint88"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"id":48044,"name":"_applyDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48304,"src":"10264:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_int256_$_t_uint88_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$__$","typeString":"function (address,int256,uint88,uint256[] calldata)"}},"id":48061,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10264:88:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48062,"nodeType":"ExpressionStatement","src":"10264:88:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48015,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48013,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48010,"src":"10066:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":48014,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47802,"src":"10070:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10066:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48064,"initializationExpression":{"assignments":[48010],"declarations":[{"constant":false,"id":48010,"mutability":"mutable","name":"k","nameLocation":"10059:1:38","nodeType":"VariableDeclaration","scope":48064,"src":"10051:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48009,"name":"uint256","nodeType":"ElementaryTypeName","src":"10051:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48012,"initialValue":{"hexValue":"30","id":48011,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10063:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10051:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48017,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"10078:3:38","subExpression":{"id":48016,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48010,"src":"10080:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48018,"nodeType":"ExpressionStatement","src":"10078:3:38"},"nodeType":"ForStatement","src":"10046:317:38"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":48065,"name":"_updateRootHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48328,"src":"10406:18:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":48066,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10406:20:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48067,"nodeType":"ExpressionStatement","src":"10406:20:38"}]},"documentation":{"id":47747,"nodeType":"StructuredDocumentation","src":"7788:287:38","text":"@notice Undelegate voting power for given token IDs (caller must be current owner).\n @param nftIndex Index into `collections`.\n @param ids      Token IDs to revoke delegation for.\n @param proofs   Proofs for each *affected* delegate address (unique and batched)."},"functionSelector":"e2bc69f4","implemented":true,"kind":"function","modifiers":[],"name":"undelegate","nameLocation":"8089:10:38","parameters":{"id":47757,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47749,"mutability":"mutable","name":"nftIndex","nameLocation":"8108:8:38","nodeType":"VariableDeclaration","scope":48069,"src":"8100:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47748,"name":"uint256","nodeType":"ElementaryTypeName","src":"8100:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47752,"mutability":"mutable","name":"ids","nameLocation":"8137:3:38","nodeType":"VariableDeclaration","scope":48069,"src":"8118:22:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47750,"name":"uint256","nodeType":"ElementaryTypeName","src":"8118:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47751,"nodeType":"ArrayTypeName","src":"8118:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":47756,"mutability":"mutable","name":"proofs","nameLocation":"8164:6:38","nodeType":"VariableDeclaration","scope":48069,"src":"8142:28:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput[]"},"typeName":{"baseType":{"id":47754,"nodeType":"UserDefinedTypeName","pathNode":{"id":47753,"name":"ProofInput","nameLocations":["8142:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47292,"src":"8142:10:38"},"referencedDeclaration":47292,"src":"8142:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47292_storage_ptr","typeString":"struct DavinciDao.ProofInput"}},"id":47755,"nodeType":"ArrayTypeName","src":"8142:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_storage_$dyn_storage_ptr","typeString":"struct DavinciDao.ProofInput[]"}},"visibility":"internal"}],"src":"8099:72:38"},"returnParameters":{"id":47758,"nodeType":"ParameterList","parameters":[],"src":"8181:0:38"},"scope":49136,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":48147,"nodeType":"FunctionDefinition","src":"10968:893:38","nodes":[],"body":{"id":48146,"nodeType":"Block","src":"11199:662:38","nodes":[],"statements":[{"expression":{"arguments":[{"id":48090,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48074,"src":"11221:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48089,"name":"_checkIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48739,"src":"11209:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$__$","typeString":"function (uint256) view"}},"id":48091,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11209:21:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48092,"nodeType":"ExpressionStatement","src":"11209:21:38"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":48098,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48093,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48072,"src":"11244:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":48096,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11258:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":48095,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11250:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":48094,"name":"address","nodeType":"ElementaryTypeName","src":"11250:7:38","typeDescriptions":{}}},"id":48097,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11250:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"11244:16:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48102,"nodeType":"IfStatement","src":"11240:42:38","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":48099,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47371,"src":"11269:11:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":48100,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11269:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48101,"nodeType":"RevertStatement","src":"11262:20:38"}},{"assignments":[48107,48110,48112,48114],"declarations":[{"constant":false,"id":48107,"mutability":"mutable","name":"fromAddrs","nameLocation":"11373:9:38","nodeType":"VariableDeclaration","scope":48146,"src":"11356:26:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":48105,"name":"address","nodeType":"ElementaryTypeName","src":"11356:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48106,"nodeType":"ArrayTypeName","src":"11356:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":48110,"mutability":"mutable","name":"fromCounts","nameLocation":"11401:10:38","nodeType":"VariableDeclaration","scope":48146,"src":"11384:27:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48108,"name":"uint256","nodeType":"ElementaryTypeName","src":"11384:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48109,"nodeType":"ArrayTypeName","src":"11384:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":48112,"mutability":"mutable","name":"unique","nameLocation":"11421:6:38","nodeType":"VariableDeclaration","scope":48146,"src":"11413:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48111,"name":"uint256","nodeType":"ElementaryTypeName","src":"11413:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48114,"mutability":"mutable","name":"added","nameLocation":"11437:5:38","nodeType":"VariableDeclaration","scope":48146,"src":"11429:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48113,"name":"uint256","nodeType":"ElementaryTypeName","src":"11429:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48120,"initialValue":{"arguments":[{"id":48116,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48072,"src":"11484:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48117,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48074,"src":"11488:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48118,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48077,"src":"11498:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"id":48115,"name":"_processDelegationUpdates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48652,"src":"11458:25:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$_t_uint256_$","typeString":"function (address,uint256,uint256[] calldata) returns (address[] memory,uint256[] memory,uint256,uint256)"}},"id":48119,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11458:44:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$_t_uint256_$","typeString":"tuple(address[] memory,uint256[] memory,uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"11355:147:38"},{"expression":{"arguments":[{"id":48122,"name":"fromAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48107,"src":"11582:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"id":48123,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48110,"src":"11593:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"id":48124,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48112,"src":"11605:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48125,"name":"fromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48083,"src":"11613:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}],"id":48121,"name":"_applyFromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48725,"src":"11565:16:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$_t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr_$returns$__$","typeString":"function (address[] memory,uint256[] memory,uint256,struct DavinciDao.ProofInput calldata[] calldata)"}},"id":48126,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11565:59:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48127,"nodeType":"ExpressionStatement","src":"11565:59:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48130,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48128,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48114,"src":"11689:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":48129,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11697:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11689:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48145,"nodeType":"IfStatement","src":"11685:170:38","trueBody":{"id":48144,"nodeType":"Block","src":"11700:155:38","statements":[{"expression":{"arguments":[{"id":48132,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48072,"src":"11726:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":48135,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48114,"src":"11737:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48134,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11730:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":48133,"name":"int256","nodeType":"ElementaryTypeName","src":"11730:6:38","typeDescriptions":{}}},"id":48136,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11730:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":48137,"name":"currentWeightOfTo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48079,"src":"11745:17:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},{"id":48138,"name":"toProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48086,"src":"11764:7:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint88","typeString":"uint88"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"id":48131,"name":"_applyDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48304,"src":"11714:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_int256_$_t_uint88_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$__$","typeString":"function (address,int256,uint88,uint256[] calldata)"}},"id":48139,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11714:58:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48140,"nodeType":"ExpressionStatement","src":"11714:58:38"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":48141,"name":"_updateRootHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48328,"src":"11824:18:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":48142,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11824:20:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48143,"nodeType":"ExpressionStatement","src":"11824:20:38"}]}}]},"documentation":{"id":48070,"nodeType":"StructuredDocumentation","src":"10439:524:38","text":"@notice Move delegation of given IDs to a new address `to` (caller must own the NFTs).\n @param to                New delegate.\n @param nftIndex          Index into `collections`.\n @param ids               Token IDs to move.\n @param currentWeightOfTo Current weight of `to` (verified by proof, obtained from subgraph).\n @param fromProofs        Proofs for each *old* delegate reduced (unique and batched).\n @param toProof           Proof for `to` (empty if `to` had zero weight)."},"functionSelector":"70e3afa2","implemented":true,"kind":"function","modifiers":[],"name":"updateDelegation","nameLocation":"10977:16:38","parameters":{"id":48087,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48072,"mutability":"mutable","name":"to","nameLocation":"11011:2:38","nodeType":"VariableDeclaration","scope":48147,"src":"11003:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48071,"name":"address","nodeType":"ElementaryTypeName","src":"11003:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48074,"mutability":"mutable","name":"nftIndex","nameLocation":"11031:8:38","nodeType":"VariableDeclaration","scope":48147,"src":"11023:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48073,"name":"uint256","nodeType":"ElementaryTypeName","src":"11023:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48077,"mutability":"mutable","name":"ids","nameLocation":"11068:3:38","nodeType":"VariableDeclaration","scope":48147,"src":"11049:22:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48075,"name":"uint256","nodeType":"ElementaryTypeName","src":"11049:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48076,"nodeType":"ArrayTypeName","src":"11049:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":48079,"mutability":"mutable","name":"currentWeightOfTo","nameLocation":"11088:17:38","nodeType":"VariableDeclaration","scope":48147,"src":"11081:24:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":48078,"name":"uint88","nodeType":"ElementaryTypeName","src":"11081:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"},{"constant":false,"id":48083,"mutability":"mutable","name":"fromProofs","nameLocation":"11137:10:38","nodeType":"VariableDeclaration","scope":48147,"src":"11115:32:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput[]"},"typeName":{"baseType":{"id":48081,"nodeType":"UserDefinedTypeName","pathNode":{"id":48080,"name":"ProofInput","nameLocations":["11115:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47292,"src":"11115:10:38"},"referencedDeclaration":47292,"src":"11115:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47292_storage_ptr","typeString":"struct DavinciDao.ProofInput"}},"id":48082,"nodeType":"ArrayTypeName","src":"11115:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_storage_$dyn_storage_ptr","typeString":"struct DavinciDao.ProofInput[]"}},"visibility":"internal"},{"constant":false,"id":48086,"mutability":"mutable","name":"toProof","nameLocation":"11176:7:38","nodeType":"VariableDeclaration","scope":48147,"src":"11157:26:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48084,"name":"uint256","nodeType":"ElementaryTypeName","src":"11157:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48085,"nodeType":"ArrayTypeName","src":"11157:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"10993:196:38"},"returnParameters":{"id":48088,"nodeType":"ParameterList","parameters":[],"src":"11199:0:38"},"scope":49136,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":48304,"nodeType":"FunctionDefinition","src":"12259:1616:38","nodes":[],"body":{"id":48303,"nodeType":"Block","src":"12367:1508:38","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":48162,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48160,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48152,"src":"12381:5:38","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":48161,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12390:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12381:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48164,"nodeType":"IfStatement","src":"12377:23:38","trueBody":{"functionReturnParameters":48159,"id":48163,"nodeType":"Return","src":"12393:7:38"}},{"assignments":[48166],"declarations":[{"constant":false,"id":48166,"mutability":"mutable","name":"newW","nameLocation":"12417:4:38","nodeType":"VariableDeclaration","scope":48303,"src":"12410:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":48165,"name":"uint88","nodeType":"ElementaryTypeName","src":"12410:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"}],"id":48167,"nodeType":"VariableDeclarationStatement","src":"12410:11:38"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":48170,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48168,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48152,"src":"12436:5:38","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":48169,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12444:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12436:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":48234,"nodeType":"Block","src":"12682:208:38","statements":[{"assignments":[48207],"declarations":[{"constant":false,"id":48207,"mutability":"mutable","name":"dec","nameLocation":"12704:3:38","nodeType":"VariableDeclaration","scope":48234,"src":"12696:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48206,"name":"uint256","nodeType":"ElementaryTypeName","src":"12696:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48213,"initialValue":{"arguments":[{"id":48211,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"12718:6:38","subExpression":{"id":48210,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48152,"src":"12719:5:38","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":48209,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12710:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48208,"name":"uint256","nodeType":"ElementaryTypeName","src":"12710:7:38","typeDescriptions":{}}},"id":48212,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12710:15:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12696:29:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48216,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48214,"name":"dec","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48207,"src":"12743:3:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":48215,"name":"oldWeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48154,"src":"12749:9:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"src":"12743:15:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48220,"nodeType":"IfStatement","src":"12739:45:38","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":48217,"name":"WeightUnderflow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47391,"src":"12767:15:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":48218,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12767:17:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48219,"nodeType":"RevertStatement","src":"12760:24:38"}},{"id":48233,"nodeType":"UncheckedBlock","src":"12798:82:38","statements":[{"expression":{"id":48231,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48221,"name":"newW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48166,"src":"12826:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48229,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":48226,"name":"oldWeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48154,"src":"12848:9:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":48225,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12840:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48224,"name":"uint256","nodeType":"ElementaryTypeName","src":"12840:7:38","typeDescriptions":{}}},"id":48227,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12840:18:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":48228,"name":"dec","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48207,"src":"12861:3:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12840:24:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48223,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12833:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint88_$","typeString":"type(uint88)"},"typeName":{"id":48222,"name":"uint88","nodeType":"ElementaryTypeName","src":"12833:6:38","typeDescriptions":{}}},"id":48230,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12833:32:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"src":"12826:39:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"id":48232,"nodeType":"ExpressionStatement","src":"12826:39:38"}]}]},"id":48235,"nodeType":"IfStatement","src":"12432:458:38","trueBody":{"id":48205,"nodeType":"Block","src":"12447:229:38","statements":[{"id":48204,"nodeType":"UncheckedBlock","src":"12461:205:38","statements":[{"assignments":[48172],"declarations":[{"constant":false,"id":48172,"mutability":"mutable","name":"tmp","nameLocation":"12497:3:38","nodeType":"VariableDeclaration","scope":48204,"src":"12489:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48171,"name":"uint256","nodeType":"ElementaryTypeName","src":"12489:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48185,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48184,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":48175,"name":"oldWeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48154,"src":"12511:9:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":48174,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12503:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48173,"name":"uint256","nodeType":"ElementaryTypeName","src":"12503:7:38","typeDescriptions":{}}},"id":48176,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12503:18:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"arguments":[{"id":48181,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48152,"src":"12539:5:38","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":48180,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12532:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":48179,"name":"int256","nodeType":"ElementaryTypeName","src":"12532:6:38","typeDescriptions":{}}},"id":48182,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12532:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":48178,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12524:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48177,"name":"uint256","nodeType":"ElementaryTypeName","src":"12524:7:38","typeDescriptions":{}}},"id":48183,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12524:22:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12503:43:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12489:57:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48192,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48186,"name":"tmp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48172,"src":"12568:3:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"expression":{"arguments":[{"id":48189,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12579:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint88_$","typeString":"type(uint88)"},"typeName":{"id":48188,"name":"uint88","nodeType":"ElementaryTypeName","src":"12579:6:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint88_$","typeString":"type(uint88)"}],"id":48187,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"12574:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":48190,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12574:12:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint88","typeString":"type(uint88)"}},"id":48191,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"12587:3:38","memberName":"max","nodeType":"MemberAccess","src":"12574:16:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"src":"12568:22:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48196,"nodeType":"IfStatement","src":"12564:51:38","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":48193,"name":"WeightOverflow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47393,"src":"12599:14:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":48194,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12599:16:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48195,"nodeType":"RevertStatement","src":"12592:23:38"}},{"expression":{"id":48202,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48197,"name":"newW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48166,"src":"12633:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":48200,"name":"tmp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48172,"src":"12647:3:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48199,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12640:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint88_$","typeString":"type(uint88)"},"typeName":{"id":48198,"name":"uint88","nodeType":"ElementaryTypeName","src":"12640:6:38","typeDescriptions":{}}},"id":48201,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12640:11:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"src":"12633:18:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"id":48203,"nodeType":"ExpressionStatement","src":"12633:18:38"}]}]}},{"assignments":[48237],"declarations":[{"constant":false,"id":48237,"mutability":"mutable","name":"oldLeaf","nameLocation":"12908:7:38","nodeType":"VariableDeclaration","scope":48303,"src":"12900:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48236,"name":"uint256","nodeType":"ElementaryTypeName","src":"12900:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48242,"initialValue":{"arguments":[{"id":48239,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48150,"src":"12928:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48240,"name":"oldWeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48154,"src":"12937:9:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":48238,"name":"_packLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48784,"src":"12918:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_uint88_$returns$_t_uint256_$","typeString":"function (address,uint88) pure returns (uint256)"}},"id":48241,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12918:29:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12900:47:38"},{"assignments":[48244],"declarations":[{"constant":false,"id":48244,"mutability":"mutable","name":"newLeaf","nameLocation":"12965:7:38","nodeType":"VariableDeclaration","scope":48303,"src":"12957:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48243,"name":"uint256","nodeType":"ElementaryTypeName","src":"12957:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48249,"initialValue":{"arguments":[{"id":48246,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48150,"src":"12985:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48247,"name":"newW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48166,"src":"12994:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":48245,"name":"_packLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48784,"src":"12975:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_uint88_$returns$_t_uint256_$","typeString":"function (address,uint88) pure returns (uint256)"}},"id":48248,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12975:24:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12957:42:38"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":48256,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48252,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48250,"name":"oldLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48237,"src":"13070:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":48251,"name":"SNARK_SCALAR_FIELD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46119,"src":"13081:18:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13070:29:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48255,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48253,"name":"newLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48244,"src":"13103:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":48254,"name":"SNARK_SCALAR_FIELD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46119,"src":"13114:18:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13103:29:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"13070:62:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48260,"nodeType":"IfStatement","src":"13066:91:38","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":48257,"name":"WeightOverflow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47393,"src":"13141:14:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":48258,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13141:16:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48259,"nodeType":"RevertStatement","src":"13134:23:38"}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":48267,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint88","typeString":"uint88"},"id":48263,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48261,"name":"oldWeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48154,"src":"13172:9:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":48262,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13185:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"13172:14:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint88","typeString":"uint88"},"id":48266,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48264,"name":"newW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48166,"src":"13190:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":48265,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13197:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"13190:8:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"13172:26:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint88","typeString":"uint88"},"id":48277,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48275,"name":"newW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48166,"src":"13330:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":48276,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13338:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"13330:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":48294,"nodeType":"Block","src":"13450:268:38","statements":[{"expression":{"arguments":[{"id":48289,"name":"oldLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48237,"src":"13680:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48290,"name":"newLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48244,"src":"13689:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48291,"name":"siblings","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48157,"src":"13698:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"expression":{"id":48286,"name":"_census","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47299,"src":"13664:7:38","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage","typeString":"struct LeanIMTData storage ref"}},"id":48288,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13672:7:38","memberName":"_update","nodeType":"MemberAccess","referencedDeclaration":46901,"src":"13664:15:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_LeanIMTData_$46138_storage_ptr_$_t_uint256_$_t_uint256_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$_t_uint256_$attached_to$_t_struct$_LeanIMTData_$46138_storage_ptr_$","typeString":"function (struct LeanIMTData storage pointer,uint256,uint256,uint256[] calldata) returns (uint256)"}},"id":48292,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13664:43:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48293,"nodeType":"ExpressionStatement","src":"13664:43:38"}]},"id":48295,"nodeType":"IfStatement","src":"13326:392:38","trueBody":{"id":48285,"nodeType":"Block","src":"13341:103:38","statements":[{"expression":{"arguments":[{"id":48281,"name":"oldLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48237,"src":"13415:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48282,"name":"siblings","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48157,"src":"13424:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"expression":{"id":48278,"name":"_census","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47299,"src":"13399:7:38","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage","typeString":"struct LeanIMTData storage ref"}},"id":48280,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13407:7:38","memberName":"_remove","nodeType":"MemberAccess","referencedDeclaration":46923,"src":"13399:15:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_LeanIMTData_$46138_storage_ptr_$_t_uint256_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$_t_uint256_$attached_to$_t_struct$_LeanIMTData_$46138_storage_ptr_$","typeString":"function (struct LeanIMTData storage pointer,uint256,uint256[] calldata) returns (uint256)"}},"id":48283,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13399:34:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48284,"nodeType":"ExpressionStatement","src":"13399:34:38"}]}},"id":48296,"nodeType":"IfStatement","src":"13168:550:38","trueBody":{"id":48274,"nodeType":"Block","src":"13200:120:38","statements":[{"expression":{"arguments":[{"id":48271,"name":"newLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48244,"src":"13282:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":48268,"name":"_census","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47299,"src":"13266:7:38","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage","typeString":"struct LeanIMTData storage ref"}},"id":48270,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13274:7:38","memberName":"_insert","nodeType":"MemberAccess","referencedDeclaration":46287,"src":"13266:15:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_LeanIMTData_$46138_storage_ptr_$_t_uint256_$returns$_t_uint256_$attached_to$_t_struct$_LeanIMTData_$46138_storage_ptr_$","typeString":"function (struct LeanIMTData storage pointer,uint256) returns (uint256)"}},"id":48272,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13266:24:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48273,"nodeType":"ExpressionStatement","src":"13266:24:38"}]}},{"eventCall":{"arguments":[{"id":48298,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48150,"src":"13843:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48299,"name":"oldWeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48154,"src":"13852:9:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},{"id":48300,"name":"newW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48166,"src":"13863:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint88","typeString":"uint88"},{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":48297,"name":"WeightChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47357,"src":"13829:13:38","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint88_$_t_uint88_$returns$__$","typeString":"function (address,uint88,uint88)"}},"id":48301,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13829:39:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48302,"nodeType":"EmitStatement","src":"13824:44:38"}]},"documentation":{"id":48148,"nodeType":"StructuredDocumentation","src":"11922:332:38","text":"@dev Apply weight delta to account's leaf in the Merkle tree\n @param account Account address to update\n @param delta Weight change (positive = increase, negative = decrease)\n @param oldWeight Current weight of account (verified by Merkle proof)\n @param siblings Merkle proof siblings for verification"},"implemented":true,"kind":"function","modifiers":[],"name":"_applyDelta","nameLocation":"12268:11:38","parameters":{"id":48158,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48150,"mutability":"mutable","name":"account","nameLocation":"12288:7:38","nodeType":"VariableDeclaration","scope":48304,"src":"12280:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48149,"name":"address","nodeType":"ElementaryTypeName","src":"12280:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48152,"mutability":"mutable","name":"delta","nameLocation":"12304:5:38","nodeType":"VariableDeclaration","scope":48304,"src":"12297:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":48151,"name":"int256","nodeType":"ElementaryTypeName","src":"12297:6:38","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":48154,"mutability":"mutable","name":"oldWeight","nameLocation":"12318:9:38","nodeType":"VariableDeclaration","scope":48304,"src":"12311:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":48153,"name":"uint88","nodeType":"ElementaryTypeName","src":"12311:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"},{"constant":false,"id":48157,"mutability":"mutable","name":"siblings","nameLocation":"12348:8:38","nodeType":"VariableDeclaration","scope":48304,"src":"12329:27:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48155,"name":"uint256","nodeType":"ElementaryTypeName","src":"12329:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48156,"nodeType":"ArrayTypeName","src":"12329:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"12279:78:38"},"returnParameters":{"id":48159,"nodeType":"ParameterList","parameters":[],"src":"12367:0:38"},"scope":49136,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":48328,"nodeType":"FunctionDefinition","src":"13939:194:38","nodes":[],"body":{"id":48327,"nodeType":"Block","src":"13978:155:38","nodes":[],"statements":[{"assignments":[48309],"declarations":[{"constant":false,"id":48309,"mutability":"mutable","name":"newRoot","nameLocation":"13996:7:38","nodeType":"VariableDeclaration","scope":48327,"src":"13988:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48308,"name":"uint256","nodeType":"ElementaryTypeName","src":"13988:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48313,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":48310,"name":"_census","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47299,"src":"14006:7:38","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage","typeString":"struct LeanIMTData storage ref"}},"id":48311,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"14014:5:38","memberName":"_root","nodeType":"MemberAccess","referencedDeclaration":46988,"src":"14006:13:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_LeanIMTData_$46138_storage_ptr_$returns$_t_uint256_$attached_to$_t_struct$_LeanIMTData_$46138_storage_ptr_$","typeString":"function (struct LeanIMTData storage pointer) view returns (uint256)"}},"id":48312,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14006:15:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"13988:33:38"},{"expression":{"id":48319,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48314,"name":"rootBlockNumbers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47307,"src":"14031:16:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":48316,"indexExpression":{"id":48315,"name":"newRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48309,"src":"14048:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"14031:25:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":48317,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"14059:5:38","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":48318,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14065:6:38","memberName":"number","nodeType":"MemberAccess","src":"14059:12:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14031:40:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48320,"nodeType":"ExpressionStatement","src":"14031:40:38"},{"eventCall":{"arguments":[{"id":48322,"name":"newRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48309,"src":"14104:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":48323,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"14113:5:38","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":48324,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14119:6:38","memberName":"number","nodeType":"MemberAccess","src":"14113:12:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48321,"name":"CensusRootUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47363,"src":"14086:17:38","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256)"}},"id":48325,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14086:40:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48326,"nodeType":"EmitStatement","src":"14081:45:38"}]},"documentation":{"id":48305,"nodeType":"StructuredDocumentation","src":"13881:53:38","text":"@dev Update root history after tree modifications"},"implemented":true,"kind":"function","modifiers":[],"name":"_updateRootHistory","nameLocation":"13948:18:38","parameters":{"id":48306,"nodeType":"ParameterList","parameters":[],"src":"13966:2:38"},"returnParameters":{"id":48307,"nodeType":"ParameterList","parameters":[],"src":"13978:0:38"},"scope":49136,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":48652,"nodeType":"FunctionDefinition","src":"14251:2503:38","nodes":[],"body":{"id":48651,"nodeType":"Block","src":"14466:2288:38","nodes":[],"statements":[{"expression":{"id":48356,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48349,"name":"fromAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48340,"src":"14476:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":48353,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48336,"src":"14502:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48354,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14506:6:38","memberName":"length","nodeType":"MemberAccess","src":"14502:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48352,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"14488:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_address_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (address[] memory)"},"typeName":{"baseType":{"id":48350,"name":"address","nodeType":"ElementaryTypeName","src":"14492:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48351,"nodeType":"ArrayTypeName","src":"14492:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}}},"id":48355,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14488:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"src":"14476:37:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48357,"nodeType":"ExpressionStatement","src":"14476:37:38"},{"expression":{"id":48365,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48358,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48343,"src":"14523:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":48362,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48336,"src":"14550:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48363,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14554:6:38","memberName":"length","nodeType":"MemberAccess","src":"14550:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48361,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"14536:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":48359,"name":"uint256","nodeType":"ElementaryTypeName","src":"14540:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48360,"nodeType":"ArrayTypeName","src":"14540:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":48364,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14536:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"src":"14523:38:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48366,"nodeType":"ExpressionStatement","src":"14523:38:38"},{"assignments":[48372],"declarations":[{"constant":false,"id":48372,"mutability":"mutable","name":"undelegatedIdsByDelegate","nameLocation":"14590:24:38","nodeType":"VariableDeclaration","scope":48651,"src":"14571:43:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[][]"},"typeName":{"baseType":{"baseType":{"id":48369,"name":"uint256","nodeType":"ElementaryTypeName","src":"14571:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48370,"nodeType":"ArrayTypeName","src":"14571:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":48371,"nodeType":"ArrayTypeName","src":"14571:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}},"visibility":"internal"}],"id":48380,"initialValue":{"arguments":[{"expression":{"id":48377,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48336,"src":"14633:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48378,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14637:6:38","memberName":"length","nodeType":"MemberAccess","src":"14633:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48376,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"14617:15:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory[] memory)"},"typeName":{"baseType":{"baseType":{"id":48373,"name":"uint256","nodeType":"ElementaryTypeName","src":"14621:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48374,"nodeType":"ArrayTypeName","src":"14621:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":48375,"nodeType":"ArrayTypeName","src":"14621:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}}},"id":48379,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14617:27:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"nodeType":"VariableDeclarationStatement","src":"14571:73:38"},{"assignments":[48385],"declarations":[{"constant":false,"id":48385,"mutability":"mutable","name":"delegatedIds","nameLocation":"14671:12:38","nodeType":"VariableDeclaration","scope":48651,"src":"14654:29:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48383,"name":"uint256","nodeType":"ElementaryTypeName","src":"14654:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48384,"nodeType":"ArrayTypeName","src":"14654:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":48392,"initialValue":{"arguments":[{"expression":{"id":48389,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48336,"src":"14700:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48390,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14704:6:38","memberName":"length","nodeType":"MemberAccess","src":"14700:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48388,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"14686:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":48386,"name":"uint256","nodeType":"ElementaryTypeName","src":"14690:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48387,"nodeType":"ArrayTypeName","src":"14690:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":48391,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14686:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"14654:57:38"},{"body":{"id":48415,"nodeType":"Block","src":"14831:80:38","statements":[{"expression":{"id":48413,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48404,"name":"undelegatedIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48372,"src":"14845:24:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":48406,"indexExpression":{"id":48405,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48394,"src":"14870:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"14845:27:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":48410,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48336,"src":"14889:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48411,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14893:6:38","memberName":"length","nodeType":"MemberAccess","src":"14889:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48409,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"14875:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":48407,"name":"uint256","nodeType":"ElementaryTypeName","src":"14879:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48408,"nodeType":"ArrayTypeName","src":"14879:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":48412,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14875:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"src":"14845:55:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48414,"nodeType":"ExpressionStatement","src":"14845:55:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48400,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48397,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48394,"src":"14810:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":48398,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48336,"src":"14814:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48399,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14818:6:38","memberName":"length","nodeType":"MemberAccess","src":"14814:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14810:14:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48416,"initializationExpression":{"assignments":[48394],"declarations":[{"constant":false,"id":48394,"mutability":"mutable","name":"i","nameLocation":"14803:1:38","nodeType":"VariableDeclaration","scope":48416,"src":"14795:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48393,"name":"uint256","nodeType":"ElementaryTypeName","src":"14795:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48396,"initialValue":{"hexValue":"30","id":48395,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14807:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"14795:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48402,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"14826:3:38","subExpression":{"id":48401,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48394,"src":"14828:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48403,"nodeType":"ExpressionStatement","src":"14826:3:38"},"nodeType":"ForStatement","src":"14790:121:38"},{"body":{"id":48546,"nodeType":"Block","src":"14962:1031:38","statements":[{"assignments":[48429],"declarations":[{"constant":false,"id":48429,"mutability":"mutable","name":"id","nameLocation":"14984:2:38","nodeType":"VariableDeclaration","scope":48546,"src":"14976:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48428,"name":"uint256","nodeType":"ElementaryTypeName","src":"14976:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48433,"initialValue":{"baseExpression":{"id":48430,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48336,"src":"14989:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48432,"indexExpression":{"id":48431,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48418,"src":"14993:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"14989:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14976:19:38"},{"condition":{"id":48440,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"15013:32:38","subExpression":{"arguments":[{"id":48435,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48333,"src":"15020:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":48436,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"15030:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":48437,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15034:6:38","memberName":"sender","nodeType":"MemberAccess","src":"15030:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48438,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48429,"src":"15042:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48434,"name":"_owns","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48814,"src":"15014:5:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256,address,uint256) view returns (bool)"}},"id":48439,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15014:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48445,"nodeType":"IfStatement","src":"15009:62:38","trueBody":{"errorCall":{"arguments":[{"id":48442,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48429,"src":"15068:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48441,"name":"NotTokenOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47377,"src":"15054:13:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$_t_error_$","typeString":"function (uint256) pure returns (error)"}},"id":48443,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15054:17:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48444,"nodeType":"RevertStatement","src":"15047:24:38"}},{"assignments":[48447],"declarations":[{"constant":false,"id":48447,"mutability":"mutable","name":"key","nameLocation":"15094:3:38","nodeType":"VariableDeclaration","scope":48546,"src":"15086:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":48446,"name":"bytes32","nodeType":"ElementaryTypeName","src":"15086:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":48452,"initialValue":{"arguments":[{"id":48449,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48333,"src":"15110:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48450,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48429,"src":"15120:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48448,"name":"_tokenKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48757,"src":"15100:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_bytes32_$","typeString":"function (uint256,uint256) pure returns (bytes32)"}},"id":48451,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15100:23:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"15086:37:38"},{"assignments":[48454],"declarations":[{"constant":false,"id":48454,"mutability":"mutable","name":"prev","nameLocation":"15145:4:38","nodeType":"VariableDeclaration","scope":48546,"src":"15137:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48453,"name":"address","nodeType":"ElementaryTypeName","src":"15137:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":48458,"initialValue":{"baseExpression":{"id":48455,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47303,"src":"15152:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":48457,"indexExpression":{"id":48456,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48447,"src":"15166:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"15152:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"15137:33:38"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":48461,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48459,"name":"prev","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48454,"src":"15189:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":48460,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48331,"src":"15197:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"15189:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48463,"nodeType":"IfStatement","src":"15185:24:38","trueBody":{"id":48462,"nodeType":"Continue","src":"15201:8:38"}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":48469,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48464,"name":"prev","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48454,"src":"15253:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":48467,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15269:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":48466,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"15261:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":48465,"name":"address","nodeType":"ElementaryTypeName","src":"15261:7:38","typeDescriptions":{}}},"id":48468,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15261:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"15253:18:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48529,"nodeType":"IfStatement","src":"15249:595:38","trueBody":{"id":48528,"nodeType":"Block","src":"15273:571:38","statements":[{"assignments":[48471],"declarations":[{"constant":false,"id":48471,"mutability":"mutable","name":"j","nameLocation":"15299:1:38","nodeType":"VariableDeclaration","scope":48528,"src":"15291:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48470,"name":"uint256","nodeType":"ElementaryTypeName","src":"15291:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48477,"initialValue":{"arguments":[{"id":48473,"name":"fromAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48340,"src":"15312:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"id":48474,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48345,"src":"15323:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48475,"name":"prev","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48454,"src":"15331:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"id":48472,"name":"_indexOf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48854,"src":"15303:8:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_array$_t_address_$dyn_memory_ptr_$_t_uint256_$_t_address_$returns$_t_uint256_$","typeString":"function (address[] memory,uint256,address) pure returns (uint256)"}},"id":48476,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15303:33:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"15291:45:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48484,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48478,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48471,"src":"15358:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"arguments":[{"id":48481,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"15368:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48480,"name":"uint256","nodeType":"ElementaryTypeName","src":"15368:7:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":48479,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"15363:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":48482,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15363:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":48483,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"15377:3:38","memberName":"max","nodeType":"MemberAccess","src":"15363:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15358:22:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":48526,"nodeType":"Block","src":"15647:183:38","statements":[{"expression":{"id":48518,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":48510,"name":"undelegatedIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48372,"src":"15669:24:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":48515,"indexExpression":{"id":48511,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48471,"src":"15694:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"15669:27:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48516,"indexExpression":{"baseExpression":{"id":48512,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48343,"src":"15697:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48514,"indexExpression":{"id":48513,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48471,"src":"15708:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"15697:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"15669:42:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48517,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48429,"src":"15714:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15669:47:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48519,"nodeType":"ExpressionStatement","src":"15669:47:38"},{"id":48525,"nodeType":"UncheckedBlock","src":"15738:74:38","statements":[{"expression":{"id":48523,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"15774:15:38","subExpression":{"baseExpression":{"id":48520,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48343,"src":"15776:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48522,"indexExpression":{"id":48521,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48471,"src":"15787:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"15776:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48524,"nodeType":"ExpressionStatement","src":"15774:15:38"}]}]},"id":48527,"nodeType":"IfStatement","src":"15354:476:38","trueBody":{"id":48509,"nodeType":"Block","src":"15382:259:38","statements":[{"expression":{"id":48489,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48485,"name":"fromAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48340,"src":"15404:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48487,"indexExpression":{"id":48486,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48345,"src":"15414:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"15404:17:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48488,"name":"prev","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48454,"src":"15424:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"15404:24:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48490,"nodeType":"ExpressionStatement","src":"15404:24:38"},{"expression":{"id":48497,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":48491,"name":"undelegatedIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48372,"src":"15450:24:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":48494,"indexExpression":{"id":48492,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48345,"src":"15475:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"15450:32:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48495,"indexExpression":{"hexValue":"30","id":48493,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15483:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"15450:35:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48496,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48429,"src":"15488:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15450:40:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48498,"nodeType":"ExpressionStatement","src":"15450:40:38"},{"expression":{"id":48503,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48499,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48343,"src":"15512:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48501,"indexExpression":{"id":48500,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48345,"src":"15523:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"15512:18:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"31","id":48502,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15533:1:38","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"15512:22:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48504,"nodeType":"ExpressionStatement","src":"15512:22:38"},{"id":48508,"nodeType":"UncheckedBlock","src":"15556:67:38","statements":[{"expression":{"id":48506,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"15592:8:38","subExpression":{"id":48505,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48345,"src":"15594:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48507,"nodeType":"ExpressionStatement","src":"15592:8:38"}]}]}}]}},{"expression":{"id":48534,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48530,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47303,"src":"15858:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":48532,"indexExpression":{"id":48531,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48447,"src":"15872:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"15858:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48533,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48331,"src":"15879:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"15858:23:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48535,"nodeType":"ExpressionStatement","src":"15858:23:38"},{"expression":{"id":48540,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48536,"name":"delegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48385,"src":"15895:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48538,"indexExpression":{"id":48537,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48347,"src":"15908:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"15895:19:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48539,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48429,"src":"15917:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15895:24:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48541,"nodeType":"ExpressionStatement","src":"15895:24:38"},{"id":48545,"nodeType":"UncheckedBlock","src":"15933:50:38","statements":[{"expression":{"id":48543,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"15961:7:38","subExpression":{"id":48542,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48347,"src":"15963:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48544,"nodeType":"ExpressionStatement","src":"15961:7:38"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48424,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48421,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48418,"src":"14941:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":48422,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48336,"src":"14945:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14949:6:38","memberName":"length","nodeType":"MemberAccess","src":"14945:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14941:14:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48547,"initializationExpression":{"assignments":[48418],"declarations":[{"constant":false,"id":48418,"mutability":"mutable","name":"i","nameLocation":"14934:1:38","nodeType":"VariableDeclaration","scope":48547,"src":"14926:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48417,"name":"uint256","nodeType":"ElementaryTypeName","src":"14926:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48420,"initialValue":{"hexValue":"30","id":48419,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14938:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"14926:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48426,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"14957:3:38","subExpression":{"id":48425,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48418,"src":"14959:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48427,"nodeType":"ExpressionStatement","src":"14957:3:38"},"nodeType":"ForStatement","src":"14921:1072:38"},{"body":{"id":48605,"nodeType":"Block","src":"16087:314:38","statements":[{"assignments":[48562],"declarations":[{"constant":false,"id":48562,"mutability":"mutable","name":"undelegatedIds","nameLocation":"16118:14:38","nodeType":"VariableDeclaration","scope":48605,"src":"16101:31:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48560,"name":"uint256","nodeType":"ElementaryTypeName","src":"16101:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48561,"nodeType":"ArrayTypeName","src":"16101:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":48570,"initialValue":{"arguments":[{"baseExpression":{"id":48566,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48343,"src":"16149:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48568,"indexExpression":{"id":48567,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48549,"src":"16160:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16149:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48565,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"16135:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":48563,"name":"uint256","nodeType":"ElementaryTypeName","src":"16139:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48564,"nodeType":"ArrayTypeName","src":"16139:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":48569,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16135:28:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"16101:62:38"},{"body":{"id":48593,"nodeType":"Block","src":"16221:83:38","statements":[{"expression":{"id":48591,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48583,"name":"undelegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48562,"src":"16239:14:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48585,"indexExpression":{"id":48584,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48572,"src":"16254:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"16239:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"baseExpression":{"id":48586,"name":"undelegatedIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48372,"src":"16259:24:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":48588,"indexExpression":{"id":48587,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48549,"src":"16284:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16259:27:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48590,"indexExpression":{"id":48589,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48572,"src":"16287:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16259:30:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16239:50:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48592,"nodeType":"ExpressionStatement","src":"16239:50:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48579,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48575,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48572,"src":"16197:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"baseExpression":{"id":48576,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48343,"src":"16201:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48578,"indexExpression":{"id":48577,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48549,"src":"16212:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16201:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16197:17:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48594,"initializationExpression":{"assignments":[48572],"declarations":[{"constant":false,"id":48572,"mutability":"mutable","name":"m","nameLocation":"16190:1:38","nodeType":"VariableDeclaration","scope":48594,"src":"16182:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48571,"name":"uint256","nodeType":"ElementaryTypeName","src":"16182:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48574,"initialValue":{"hexValue":"30","id":48573,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"16194:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"16182:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48581,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"16216:3:38","subExpression":{"id":48580,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48572,"src":"16218:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48582,"nodeType":"ExpressionStatement","src":"16216:3:38"},"nodeType":"ForStatement","src":"16177:127:38"},{"eventCall":{"arguments":[{"expression":{"id":48596,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"16339:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":48597,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16343:6:38","memberName":"sender","nodeType":"MemberAccess","src":"16339:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"baseExpression":{"id":48598,"name":"fromAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48340,"src":"16351:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48600,"indexExpression":{"id":48599,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48549,"src":"16361:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16351:12:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48601,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48333,"src":"16365:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48602,"name":"undelegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48562,"src":"16375:14:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}],"id":48595,"name":"UndelegatedBatch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47349,"src":"16322:16:38","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256[] memory)"}},"id":48603,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16322:68:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48604,"nodeType":"EmitStatement","src":"16317:73:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48554,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48552,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48549,"src":"16070:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":48553,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48345,"src":"16074:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16070:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48606,"initializationExpression":{"assignments":[48549],"declarations":[{"constant":false,"id":48549,"mutability":"mutable","name":"k","nameLocation":"16063:1:38","nodeType":"VariableDeclaration","scope":48606,"src":"16055:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48548,"name":"uint256","nodeType":"ElementaryTypeName","src":"16055:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48551,"initialValue":{"hexValue":"30","id":48550,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"16067:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"16055:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48556,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"16082:3:38","subExpression":{"id":48555,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48549,"src":"16084:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48557,"nodeType":"ExpressionStatement","src":"16082:3:38"},"nodeType":"ForStatement","src":"16050:351:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48609,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48607,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48347,"src":"16463:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":48608,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"16471:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"16463:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48650,"nodeType":"IfStatement","src":"16459:289:38","trueBody":{"id":48649,"nodeType":"Block","src":"16474:274:38","statements":[{"assignments":[48614],"declarations":[{"constant":false,"id":48614,"mutability":"mutable","name":"newDelegatedIds","nameLocation":"16505:15:38","nodeType":"VariableDeclaration","scope":48649,"src":"16488:32:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48612,"name":"uint256","nodeType":"ElementaryTypeName","src":"16488:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48613,"nodeType":"ArrayTypeName","src":"16488:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":48620,"initialValue":{"arguments":[{"id":48618,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48347,"src":"16537:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48617,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"16523:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":48615,"name":"uint256","nodeType":"ElementaryTypeName","src":"16527:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48616,"nodeType":"ArrayTypeName","src":"16527:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":48619,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16523:20:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"16488:55:38"},{"body":{"id":48639,"nodeType":"Block","src":"16593:69:38","statements":[{"expression":{"id":48637,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48631,"name":"newDelegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48614,"src":"16611:15:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48633,"indexExpression":{"id":48632,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48622,"src":"16627:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"16611:18:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":48634,"name":"delegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48385,"src":"16632:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48636,"indexExpression":{"id":48635,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48622,"src":"16645:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16632:15:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16611:36:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48638,"nodeType":"ExpressionStatement","src":"16611:36:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48627,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48625,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48622,"src":"16577:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":48626,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48347,"src":"16581:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16577:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48640,"initializationExpression":{"assignments":[48622],"declarations":[{"constant":false,"id":48622,"mutability":"mutable","name":"i","nameLocation":"16570:1:38","nodeType":"VariableDeclaration","scope":48640,"src":"16562:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48621,"name":"uint256","nodeType":"ElementaryTypeName","src":"16562:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48624,"initialValue":{"hexValue":"30","id":48623,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"16574:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"16562:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48629,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"16588:3:38","subExpression":{"id":48628,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48622,"src":"16590:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48630,"nodeType":"ExpressionStatement","src":"16588:3:38"},"nodeType":"ForStatement","src":"16557:105:38"},{"eventCall":{"arguments":[{"expression":{"id":48642,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"16695:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":48643,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16699:6:38","memberName":"sender","nodeType":"MemberAccess","src":"16695:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48644,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48331,"src":"16707:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48645,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48333,"src":"16711:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48646,"name":"newDelegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48614,"src":"16721:15:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}],"id":48641,"name":"DelegatedBatch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47338,"src":"16680:14:38","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256[] memory)"}},"id":48647,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16680:57:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48648,"nodeType":"EmitStatement","src":"16675:62:38"}]}}]},"documentation":{"id":48329,"nodeType":"StructuredDocumentation","src":"14184:62:38","text":"@dev Process delegation updates and return aggregated data"},"implemented":true,"kind":"function","modifiers":[],"name":"_processDelegationUpdates","nameLocation":"14260:25:38","parameters":{"id":48337,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48331,"mutability":"mutable","name":"to","nameLocation":"14294:2:38","nodeType":"VariableDeclaration","scope":48652,"src":"14286:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48330,"name":"address","nodeType":"ElementaryTypeName","src":"14286:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48333,"mutability":"mutable","name":"nftIndex","nameLocation":"14306:8:38","nodeType":"VariableDeclaration","scope":48652,"src":"14298:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48332,"name":"uint256","nodeType":"ElementaryTypeName","src":"14298:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48336,"mutability":"mutable","name":"ids","nameLocation":"14335:3:38","nodeType":"VariableDeclaration","scope":48652,"src":"14316:22:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48334,"name":"uint256","nodeType":"ElementaryTypeName","src":"14316:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48335,"nodeType":"ArrayTypeName","src":"14316:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"14285:54:38"},"returnParameters":{"id":48348,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48340,"mutability":"mutable","name":"fromAddrs","nameLocation":"14391:9:38","nodeType":"VariableDeclaration","scope":48652,"src":"14374:26:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":48338,"name":"address","nodeType":"ElementaryTypeName","src":"14374:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48339,"nodeType":"ArrayTypeName","src":"14374:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":48343,"mutability":"mutable","name":"fromCounts","nameLocation":"14419:10:38","nodeType":"VariableDeclaration","scope":48652,"src":"14402:27:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48341,"name":"uint256","nodeType":"ElementaryTypeName","src":"14402:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48342,"nodeType":"ArrayTypeName","src":"14402:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":48345,"mutability":"mutable","name":"unique","nameLocation":"14439:6:38","nodeType":"VariableDeclaration","scope":48652,"src":"14431:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48344,"name":"uint256","nodeType":"ElementaryTypeName","src":"14431:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48347,"mutability":"mutable","name":"added","nameLocation":"14455:5:38","nodeType":"VariableDeclaration","scope":48652,"src":"14447:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48346,"name":"uint256","nodeType":"ElementaryTypeName","src":"14447:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"14373:88:38"},"scope":49136,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":48725,"nodeType":"FunctionDefinition","src":"16827:530:38","nodes":[],"body":{"id":48724,"nodeType":"Block","src":"17007:350:38","nodes":[],"statements":[{"body":{"id":48722,"nodeType":"Block","src":"17054:297:38","statements":[{"assignments":[48679],"declarations":[{"constant":false,"id":48679,"mutability":"mutable","name":"acct","nameLocation":"17076:4:38","nodeType":"VariableDeclaration","scope":48722,"src":"17068:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48678,"name":"address","nodeType":"ElementaryTypeName","src":"17068:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":48683,"initialValue":{"baseExpression":{"id":48680,"name":"fromAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48656,"src":"17083:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48682,"indexExpression":{"id":48681,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48669,"src":"17093:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"17083:12:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"17068:27:38"},{"assignments":[48685],"declarations":[{"constant":false,"id":48685,"mutability":"mutable","name":"pIdx","nameLocation":"17117:4:38","nodeType":"VariableDeclaration","scope":48722,"src":"17109:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48684,"name":"uint256","nodeType":"ElementaryTypeName","src":"17109:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48690,"initialValue":{"arguments":[{"id":48687,"name":"fromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48665,"src":"17138:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},{"id":48688,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48679,"src":"17150:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"},{"typeIdentifier":"t_address","typeString":"address"}],"id":48686,"name":"_indexOfProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48894,"src":"17124:13:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr_$_t_address_$returns$_t_uint256_$","typeString":"function (struct DavinciDao.ProofInput calldata[] calldata,address) pure returns (uint256)"}},"id":48689,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17124:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"17109:46:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48697,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48691,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48685,"src":"17173:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"arguments":[{"id":48694,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"17186:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48693,"name":"uint256","nodeType":"ElementaryTypeName","src":"17186:7:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":48692,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"17181:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":48695,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17181:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":48696,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"17195:3:38","memberName":"max","nodeType":"MemberAccess","src":"17181:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17173:25:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48702,"nodeType":"IfStatement","src":"17169:57:38","trueBody":{"errorCall":{"arguments":[{"id":48699,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48679,"src":"17221:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":48698,"name":"ProofRequired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47389,"src":"17207:13:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$_t_error_$","typeString":"function (address) pure returns (error)"}},"id":48700,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17207:19:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48701,"nodeType":"RevertStatement","src":"17200:26:38"}},{"expression":{"arguments":[{"id":48704,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48679,"src":"17252:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48711,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"17258:22:38","subExpression":{"arguments":[{"baseExpression":{"id":48707,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48659,"src":"17266:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48709,"indexExpression":{"id":48708,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48669,"src":"17277:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"17266:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48706,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"17259:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":48705,"name":"int256","nodeType":"ElementaryTypeName","src":"17259:6:38","typeDescriptions":{}}},"id":48710,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17259:21:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"baseExpression":{"id":48712,"name":"fromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48665,"src":"17282:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},"id":48714,"indexExpression":{"id":48713,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48685,"src":"17293:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"17282:16:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47292_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata"}},"id":48715,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17299:13:38","memberName":"currentWeight","nodeType":"MemberAccess","referencedDeclaration":47288,"src":"17282:30:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},{"expression":{"baseExpression":{"id":48716,"name":"fromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48665,"src":"17314:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},"id":48718,"indexExpression":{"id":48717,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48685,"src":"17325:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"17314:16:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47292_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata"}},"id":48719,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17331:8:38","memberName":"siblings","nodeType":"MemberAccess","referencedDeclaration":47291,"src":"17314:25:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint88","typeString":"uint88"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"id":48703,"name":"_applyDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48304,"src":"17240:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_int256_$_t_uint88_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$__$","typeString":"function (address,int256,uint88,uint256[] calldata)"}},"id":48720,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17240:100:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48721,"nodeType":"ExpressionStatement","src":"17240:100:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48674,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48672,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48669,"src":"17037:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":48673,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48661,"src":"17041:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17037:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48723,"initializationExpression":{"assignments":[48669],"declarations":[{"constant":false,"id":48669,"mutability":"mutable","name":"k","nameLocation":"17030:1:38","nodeType":"VariableDeclaration","scope":48723,"src":"17022:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48668,"name":"uint256","nodeType":"ElementaryTypeName","src":"17022:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48671,"initialValue":{"hexValue":"30","id":48670,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"17034:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"17022:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48676,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"17049:3:38","subExpression":{"id":48675,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48669,"src":"17051:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48677,"nodeType":"ExpressionStatement","src":"17049:3:38"},"nodeType":"ForStatement","src":"17017:334:38"}]},"documentation":{"id":48653,"nodeType":"StructuredDocumentation","src":"16760:62:38","text":"@dev Apply weight decreases for old delegates using proofs"},"implemented":true,"kind":"function","modifiers":[],"name":"_applyFromProofs","nameLocation":"16836:16:38","parameters":{"id":48666,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48656,"mutability":"mutable","name":"fromAddrs","nameLocation":"16879:9:38","nodeType":"VariableDeclaration","scope":48725,"src":"16862:26:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":48654,"name":"address","nodeType":"ElementaryTypeName","src":"16862:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48655,"nodeType":"ArrayTypeName","src":"16862:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":48659,"mutability":"mutable","name":"fromCounts","nameLocation":"16915:10:38","nodeType":"VariableDeclaration","scope":48725,"src":"16898:27:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48657,"name":"uint256","nodeType":"ElementaryTypeName","src":"16898:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48658,"nodeType":"ArrayTypeName","src":"16898:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":48661,"mutability":"mutable","name":"unique","nameLocation":"16943:6:38","nodeType":"VariableDeclaration","scope":48725,"src":"16935:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48660,"name":"uint256","nodeType":"ElementaryTypeName","src":"16935:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48665,"mutability":"mutable","name":"fromProofs","nameLocation":"16981:10:38","nodeType":"VariableDeclaration","scope":48725,"src":"16959:32:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput[]"},"typeName":{"baseType":{"id":48663,"nodeType":"UserDefinedTypeName","pathNode":{"id":48662,"name":"ProofInput","nameLocations":["16959:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47292,"src":"16959:10:38"},"referencedDeclaration":47292,"src":"16959:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47292_storage_ptr","typeString":"struct DavinciDao.ProofInput"}},"id":48664,"nodeType":"ArrayTypeName","src":"16959:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_storage_$dyn_storage_ptr","typeString":"struct DavinciDao.ProofInput[]"}},"visibility":"internal"}],"src":"16852:145:38"},"returnParameters":{"id":48667,"nodeType":"ParameterList","parameters":[],"src":"17007:0:38"},"scope":49136,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":48739,"nodeType":"FunctionDefinition","src":"17363:132:38","nodes":[],"body":{"id":48738,"nodeType":"Block","src":"17416:79:38","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48733,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48730,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48727,"src":"17430:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"expression":{"id":48731,"name":"collections","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47296,"src":"17442:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Collection_$47283_storage_$dyn_storage","typeString":"struct DavinciDao.Collection storage ref[] storage ref"}},"id":48732,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17454:6:38","memberName":"length","nodeType":"MemberAccess","src":"17442:18:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17430:30:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48737,"nodeType":"IfStatement","src":"17426:62:38","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":48734,"name":"InvalidCollection","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47365,"src":"17469:17:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":48735,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17469:19:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48736,"nodeType":"RevertStatement","src":"17462:26:38"}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_checkIndex","nameLocation":"17372:11:38","parameters":{"id":48728,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48727,"mutability":"mutable","name":"nftIndex","nameLocation":"17392:8:38","nodeType":"VariableDeclaration","scope":48739,"src":"17384:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48726,"name":"uint256","nodeType":"ElementaryTypeName","src":"17384:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"17383:18:38"},"returnParameters":{"id":48729,"nodeType":"ParameterList","parameters":[],"src":"17416:0:38"},"scope":49136,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":48757,"nodeType":"FunctionDefinition","src":"17575:156:38","nodes":[],"body":{"id":48756,"nodeType":"Block","src":"17661:70:38","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"id":48751,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48741,"src":"17705:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48752,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48743,"src":"17715:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":48749,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"17688:3:38","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":48750,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"17692:12:38","memberName":"encodePacked","nodeType":"MemberAccess","src":"17688:16:38","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":48753,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17688:35:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":48748,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"17678:9:38","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":48754,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17678:46:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":48747,"id":48755,"nodeType":"Return","src":"17671:53:38"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_tokenKey","nameLocation":"17584:9:38","parameters":{"id":48744,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48741,"mutability":"mutable","name":"nftIndex","nameLocation":"17602:8:38","nodeType":"VariableDeclaration","scope":48757,"src":"17594:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48740,"name":"uint256","nodeType":"ElementaryTypeName","src":"17594:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48743,"mutability":"mutable","name":"tokenId","nameLocation":"17620:7:38","nodeType":"VariableDeclaration","scope":48757,"src":"17612:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48742,"name":"uint256","nodeType":"ElementaryTypeName","src":"17612:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"17593:35:38"},"returnParameters":{"id":48747,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48746,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48757,"src":"17652:7:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":48745,"name":"bytes32","nodeType":"ElementaryTypeName","src":"17652:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"17651:9:38"},"scope":49136,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48784,"nodeType":"FunctionDefinition","src":"17844:158:38","nodes":[],"body":{"id":48783,"nodeType":"Block","src":"17927:75:38","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48781,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48775,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":48771,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48760,"src":"17961:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":48770,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"17953:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":48769,"name":"uint160","nodeType":"ElementaryTypeName","src":"17953:7:38","typeDescriptions":{}}},"id":48772,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17953:16:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"}],"id":48768,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"17945:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48767,"name":"uint256","nodeType":"ElementaryTypeName","src":"17945:7:38","typeDescriptions":{}}},"id":48773,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17945:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"3838","id":48774,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"17974:2:38","typeDescriptions":{"typeIdentifier":"t_rational_88_by_1","typeString":"int_const 88"},"value":"88"},"src":"17945:31:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48776,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"17944:33:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"arguments":[{"id":48779,"name":"weight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48762,"src":"17988:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":48778,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"17980:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48777,"name":"uint256","nodeType":"ElementaryTypeName","src":"17980:7:38","typeDescriptions":{}}},"id":48780,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17980:15:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17944:51:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48766,"id":48782,"nodeType":"Return","src":"17937:58:38"}]},"documentation":{"id":48758,"nodeType":"StructuredDocumentation","src":"17737:102:38","text":"@dev Pack (address || weight) → uint256 with address in top 20 bytes and weight in low 11 bytes."},"implemented":true,"kind":"function","modifiers":[],"name":"_packLeaf","nameLocation":"17853:9:38","parameters":{"id":48763,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48760,"mutability":"mutable","name":"account","nameLocation":"17871:7:38","nodeType":"VariableDeclaration","scope":48784,"src":"17863:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48759,"name":"address","nodeType":"ElementaryTypeName","src":"17863:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48762,"mutability":"mutable","name":"weight","nameLocation":"17887:6:38","nodeType":"VariableDeclaration","scope":48784,"src":"17880:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":48761,"name":"uint88","nodeType":"ElementaryTypeName","src":"17880:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"}],"src":"17862:32:38"},"returnParameters":{"id":48766,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48765,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48784,"src":"17918:7:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48764,"name":"uint256","nodeType":"ElementaryTypeName","src":"17918:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"17917:9:38"},"scope":49136,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48814,"nodeType":"FunctionDefinition","src":"18049:213:38","nodes":[],"body":{"id":48813,"nodeType":"Block","src":"18143:119:38","nodes":[],"statements":[{"assignments":[48798],"declarations":[{"constant":false,"id":48798,"mutability":"mutable","name":"c","nameLocation":"18171:1:38","nodeType":"VariableDeclaration","scope":48813,"src":"18153:19:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Collection_$47283_memory_ptr","typeString":"struct DavinciDao.Collection"},"typeName":{"id":48797,"nodeType":"UserDefinedTypeName","pathNode":{"id":48796,"name":"Collection","nameLocations":["18153:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47283,"src":"18153:10:38"},"referencedDeclaration":47283,"src":"18153:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_Collection_$47283_storage_ptr","typeString":"struct DavinciDao.Collection"}},"visibility":"internal"}],"id":48802,"initialValue":{"baseExpression":{"id":48799,"name":"collections","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47296,"src":"18175:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Collection_$47283_storage_$dyn_storage","typeString":"struct DavinciDao.Collection storage ref[] storage ref"}},"id":48801,"indexExpression":{"id":48800,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48787,"src":"18187:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"18175:21:38","typeDescriptions":{"typeIdentifier":"t_struct$_Collection_$47283_storage","typeString":"struct DavinciDao.Collection storage ref"}},"nodeType":"VariableDeclarationStatement","src":"18153:43:38"},{"expression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":48811,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":48808,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48791,"src":"18238:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":48804,"name":"c","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48798,"src":"18221:1:38","typeDescriptions":{"typeIdentifier":"t_struct$_Collection_$47283_memory_ptr","typeString":"struct DavinciDao.Collection memory"}},"id":48805,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"18223:5:38","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":47282,"src":"18221:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":48803,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40909,"src":"18213:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC721_$40909_$","typeString":"type(contract IERC721)"}},"id":48806,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18213:16:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC721_$40909","typeString":"contract IERC721"}},"id":48807,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"18230:7:38","memberName":"ownerOf","nodeType":"MemberAccess","referencedDeclaration":40842,"src":"18213:24:38","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view external returns (address)"}},"id":48809,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18213:33:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":48810,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48789,"src":"18250:5:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"18213:42:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":48795,"id":48812,"nodeType":"Return","src":"18206:49:38"}]},"documentation":{"id":48785,"nodeType":"StructuredDocumentation","src":"18008:36:38","text":"@dev Ownership check for ERC721."},"implemented":true,"kind":"function","modifiers":[],"name":"_owns","nameLocation":"18058:5:38","parameters":{"id":48792,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48787,"mutability":"mutable","name":"nftIndex","nameLocation":"18072:8:38","nodeType":"VariableDeclaration","scope":48814,"src":"18064:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48786,"name":"uint256","nodeType":"ElementaryTypeName","src":"18064:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48789,"mutability":"mutable","name":"owner","nameLocation":"18090:5:38","nodeType":"VariableDeclaration","scope":48814,"src":"18082:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48788,"name":"address","nodeType":"ElementaryTypeName","src":"18082:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48791,"mutability":"mutable","name":"tokenId","nameLocation":"18105:7:38","nodeType":"VariableDeclaration","scope":48814,"src":"18097:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48790,"name":"uint256","nodeType":"ElementaryTypeName","src":"18097:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"18063:50:38"},"returnParameters":{"id":48795,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48794,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48814,"src":"18137:4:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":48793,"name":"bool","nodeType":"ElementaryTypeName","src":"18137:4:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"18136:6:38"},"scope":49136,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":48854,"nodeType":"FunctionDefinition","src":"18324:230:38","nodes":[],"body":{"id":48853,"nodeType":"Block","src":"18420:134:38","nodes":[],"statements":[{"body":{"id":48845,"nodeType":"Block","src":"18464:50:38","statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":48841,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"id":48837,"name":"arr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48818,"src":"18482:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48839,"indexExpression":{"id":48838,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48828,"src":"18486:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"18482:6:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":48840,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48822,"src":"18492:1:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"18482:11:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48844,"nodeType":"IfStatement","src":"18478:25:38","trueBody":{"expression":{"id":48842,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48828,"src":"18502:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48826,"id":48843,"nodeType":"Return","src":"18495:8:38"}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48833,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48831,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48828,"src":"18450:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":48832,"name":"len","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48820,"src":"18454:3:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"18450:7:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48846,"initializationExpression":{"assignments":[48828],"declarations":[{"constant":false,"id":48828,"mutability":"mutable","name":"i","nameLocation":"18443:1:38","nodeType":"VariableDeclaration","scope":48846,"src":"18435:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48827,"name":"uint256","nodeType":"ElementaryTypeName","src":"18435:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48830,"initialValue":{"hexValue":"30","id":48829,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"18447:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"18435:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48835,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"18459:3:38","subExpression":{"id":48834,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48828,"src":"18461:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48836,"nodeType":"ExpressionStatement","src":"18459:3:38"},"nodeType":"ForStatement","src":"18430:84:38"},{"expression":{"expression":{"arguments":[{"id":48849,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"18535:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48848,"name":"uint256","nodeType":"ElementaryTypeName","src":"18535:7:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":48847,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"18530:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":48850,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18530:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":48851,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"18544:3:38","memberName":"max","nodeType":"MemberAccess","src":"18530:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48826,"id":48852,"nodeType":"Return","src":"18523:24:38"}]},"documentation":{"id":48815,"nodeType":"StructuredDocumentation","src":"18268:51:38","text":"@dev Linear search utilities for small batches."},"implemented":true,"kind":"function","modifiers":[],"name":"_indexOf","nameLocation":"18333:8:38","parameters":{"id":48823,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48818,"mutability":"mutable","name":"arr","nameLocation":"18359:3:38","nodeType":"VariableDeclaration","scope":48854,"src":"18342:20:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":48816,"name":"address","nodeType":"ElementaryTypeName","src":"18342:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48817,"nodeType":"ArrayTypeName","src":"18342:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":48820,"mutability":"mutable","name":"len","nameLocation":"18372:3:38","nodeType":"VariableDeclaration","scope":48854,"src":"18364:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48819,"name":"uint256","nodeType":"ElementaryTypeName","src":"18364:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48822,"mutability":"mutable","name":"a","nameLocation":"18385:1:38","nodeType":"VariableDeclaration","scope":48854,"src":"18377:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48821,"name":"address","nodeType":"ElementaryTypeName","src":"18377:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"18341:46:38"},"returnParameters":{"id":48826,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48825,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48854,"src":"18411:7:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48824,"name":"uint256","nodeType":"ElementaryTypeName","src":"18411:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"18410:9:38"},"scope":49136,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48894,"nodeType":"FunctionDefinition","src":"18560:263:38","nodes":[],"body":{"id":48893,"nodeType":"Block","src":"18662:161:38","nodes":[],"statements":[{"body":{"id":48885,"nodeType":"Block","src":"18716:67:38","statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":48881,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":48876,"name":"proofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48858,"src":"18734:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},"id":48878,"indexExpression":{"id":48877,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48866,"src":"18741:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"18734:9:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47292_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata"}},"id":48879,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"18744:7:38","memberName":"account","nodeType":"MemberAccess","referencedDeclaration":47286,"src":"18734:17:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":48880,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48860,"src":"18755:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"18734:28:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48884,"nodeType":"IfStatement","src":"18730:42:38","trueBody":{"expression":{"id":48882,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48866,"src":"18771:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48864,"id":48883,"nodeType":"Return","src":"18764:8:38"}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48872,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48869,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48866,"src":"18692:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":48870,"name":"proofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48858,"src":"18696:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},"id":48871,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"18703:6:38","memberName":"length","nodeType":"MemberAccess","src":"18696:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"18692:17:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48886,"initializationExpression":{"assignments":[48866],"declarations":[{"constant":false,"id":48866,"mutability":"mutable","name":"i","nameLocation":"18685:1:38","nodeType":"VariableDeclaration","scope":48886,"src":"18677:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48865,"name":"uint256","nodeType":"ElementaryTypeName","src":"18677:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48868,"initialValue":{"hexValue":"30","id":48867,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"18689:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"18677:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48874,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"18711:3:38","subExpression":{"id":48873,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48866,"src":"18713:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48875,"nodeType":"ExpressionStatement","src":"18711:3:38"},"nodeType":"ForStatement","src":"18672:111:38"},{"expression":{"expression":{"arguments":[{"id":48889,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"18804:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48888,"name":"uint256","nodeType":"ElementaryTypeName","src":"18804:7:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":48887,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"18799:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":48890,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18799:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":48891,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"18813:3:38","memberName":"max","nodeType":"MemberAccess","src":"18799:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48864,"id":48892,"nodeType":"Return","src":"18792:24:38"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_indexOfProof","nameLocation":"18569:13:38","parameters":{"id":48861,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48858,"mutability":"mutable","name":"proofs","nameLocation":"18605:6:38","nodeType":"VariableDeclaration","scope":48894,"src":"18583:28:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput[]"},"typeName":{"baseType":{"id":48856,"nodeType":"UserDefinedTypeName","pathNode":{"id":48855,"name":"ProofInput","nameLocations":["18583:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47292,"src":"18583:10:38"},"referencedDeclaration":47292,"src":"18583:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47292_storage_ptr","typeString":"struct DavinciDao.ProofInput"}},"id":48857,"nodeType":"ArrayTypeName","src":"18583:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_storage_$dyn_storage_ptr","typeString":"struct DavinciDao.ProofInput[]"}},"visibility":"internal"},{"constant":false,"id":48860,"mutability":"mutable","name":"account","nameLocation":"18621:7:38","nodeType":"VariableDeclaration","scope":48894,"src":"18613:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48859,"name":"address","nodeType":"ElementaryTypeName","src":"18613:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"18582:47:38"},"returnParameters":{"id":48864,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48863,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48894,"src":"18653:7:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48862,"name":"uint256","nodeType":"ElementaryTypeName","src":"18653:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"18652:9:38"},"scope":49136,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":49062,"nodeType":"FunctionDefinition","src":"18920:1600:38","nodes":[],"body":{"id":49061,"nodeType":"Block","src":"19210:1310:38","nodes":[],"statements":[{"expression":{"id":48922,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48915,"name":"inheritedDelegates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48906,"src":"19220:18:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":48919,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48902,"src":"19255:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48920,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19259:6:38","memberName":"length","nodeType":"MemberAccess","src":"19255:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48918,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"19241:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_address_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (address[] memory)"},"typeName":{"baseType":{"id":48916,"name":"address","nodeType":"ElementaryTypeName","src":"19245:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48917,"nodeType":"ArrayTypeName","src":"19245:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}}},"id":48921,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19241:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"src":"19220:46:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48923,"nodeType":"ExpressionStatement","src":"19220:46:38"},{"expression":{"id":48931,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48924,"name":"inheritedCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48909,"src":"19276:15:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":48928,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48902,"src":"19308:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48929,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19312:6:38","memberName":"length","nodeType":"MemberAccess","src":"19308:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48927,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"19294:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":48925,"name":"uint256","nodeType":"ElementaryTypeName","src":"19298:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48926,"nodeType":"ArrayTypeName","src":"19298:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":48930,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19294:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"src":"19276:43:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48932,"nodeType":"ExpressionStatement","src":"19276:43:38"},{"assignments":[48937],"declarations":[{"constant":false,"id":48937,"mutability":"mutable","name":"addedIds","nameLocation":"19346:8:38","nodeType":"VariableDeclaration","scope":49061,"src":"19329:25:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48935,"name":"uint256","nodeType":"ElementaryTypeName","src":"19329:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48936,"nodeType":"ArrayTypeName","src":"19329:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":48944,"initialValue":{"arguments":[{"expression":{"id":48941,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48902,"src":"19371:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48942,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19375:6:38","memberName":"length","nodeType":"MemberAccess","src":"19371:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48940,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"19357:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":48938,"name":"uint256","nodeType":"ElementaryTypeName","src":"19361:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48939,"nodeType":"ArrayTypeName","src":"19361:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":48943,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19357:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"19329:53:38"},{"body":{"id":49015,"nodeType":"Block","src":"19434:698:38","statements":[{"assignments":[48957],"declarations":[{"constant":false,"id":48957,"mutability":"mutable","name":"id","nameLocation":"19456:2:38","nodeType":"VariableDeclaration","scope":49015,"src":"19448:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48956,"name":"uint256","nodeType":"ElementaryTypeName","src":"19448:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48961,"initialValue":{"baseExpression":{"id":48958,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48902,"src":"19461:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48960,"indexExpression":{"id":48959,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48946,"src":"19465:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"19461:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"19448:19:38"},{"condition":{"id":48968,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"19485:32:38","subExpression":{"arguments":[{"id":48963,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48899,"src":"19492:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":48964,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"19502:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":48965,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19506:6:38","memberName":"sender","nodeType":"MemberAccess","src":"19502:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48966,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48957,"src":"19514:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48962,"name":"_owns","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48814,"src":"19486:5:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256,address,uint256) view returns (bool)"}},"id":48967,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19486:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48973,"nodeType":"IfStatement","src":"19481:62:38","trueBody":{"errorCall":{"arguments":[{"id":48970,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48957,"src":"19540:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48969,"name":"NotTokenOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47377,"src":"19526:13:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$_t_error_$","typeString":"function (uint256) pure returns (error)"}},"id":48971,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19526:17:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48972,"nodeType":"RevertStatement","src":"19519:24:38"}},{"assignments":[48975],"declarations":[{"constant":false,"id":48975,"mutability":"mutable","name":"key","nameLocation":"19566:3:38","nodeType":"VariableDeclaration","scope":49015,"src":"19558:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":48974,"name":"bytes32","nodeType":"ElementaryTypeName","src":"19558:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":48980,"initialValue":{"arguments":[{"id":48977,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48899,"src":"19582:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48978,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48957,"src":"19592:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48976,"name":"_tokenKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48757,"src":"19572:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_bytes32_$","typeString":"function (uint256,uint256) pure returns (bytes32)"}},"id":48979,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19572:23:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"19558:37:38"},{"assignments":[48982],"declarations":[{"constant":false,"id":48982,"mutability":"mutable","name":"existingDelegate","nameLocation":"19617:16:38","nodeType":"VariableDeclaration","scope":49015,"src":"19609:24:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48981,"name":"address","nodeType":"ElementaryTypeName","src":"19609:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":48986,"initialValue":{"baseExpression":{"id":48983,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47303,"src":"19636:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":48985,"indexExpression":{"id":48984,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48975,"src":"19650:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"19636:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"19609:45:38"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":48992,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48987,"name":"existingDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48982,"src":"19756:16:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":48990,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"19784:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":48989,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"19776:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":48988,"name":"address","nodeType":"ElementaryTypeName","src":"19776:7:38","typeDescriptions":{}}},"id":48991,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19776:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"19756:30:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48998,"nodeType":"IfStatement","src":"19752:235:38","trueBody":{"id":48997,"nodeType":"Block","src":"19788:199:38","statements":[{"errorCall":{"arguments":[{"id":48994,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48957,"src":"19969:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48993,"name":"AlreadyDelegated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47381,"src":"19952:16:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$_t_error_$","typeString":"function (uint256) pure returns (error)"}},"id":48995,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19952:20:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48996,"nodeType":"RevertStatement","src":"19945:27:38"}]}},{"expression":{"id":49003,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48999,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47303,"src":"20001:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":49001,"indexExpression":{"id":49000,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48975,"src":"20015:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"20001:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":49002,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48897,"src":"20022:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"20001:23:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":49004,"nodeType":"ExpressionStatement","src":"20001:23:38"},{"expression":{"id":49009,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":49005,"name":"addedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48937,"src":"20038:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":49007,"indexExpression":{"id":49006,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48913,"src":"20047:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"20038:15:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":49008,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48957,"src":"20056:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20038:20:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49010,"nodeType":"ExpressionStatement","src":"20038:20:38"},{"id":49014,"nodeType":"UncheckedBlock","src":"20072:50:38","statements":[{"expression":{"id":49012,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"20100:7:38","subExpression":{"id":49011,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48913,"src":"20102:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49013,"nodeType":"ExpressionStatement","src":"20100:7:38"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48952,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48949,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48946,"src":"19413:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":48950,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48902,"src":"19417:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48951,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19421:6:38","memberName":"length","nodeType":"MemberAccess","src":"19417:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"19413:14:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":49016,"initializationExpression":{"assignments":[48946],"declarations":[{"constant":false,"id":48946,"mutability":"mutable","name":"i","nameLocation":"19406:1:38","nodeType":"VariableDeclaration","scope":49016,"src":"19398:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48945,"name":"uint256","nodeType":"ElementaryTypeName","src":"19398:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48948,"initialValue":{"hexValue":"30","id":48947,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"19410:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"19398:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48954,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"19429:3:38","subExpression":{"id":48953,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48946,"src":"19431:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48955,"nodeType":"ExpressionStatement","src":"19429:3:38"},"nodeType":"ForStatement","src":"19393:739:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49019,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49017,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48913,"src":"20199:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":49018,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20207:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"20199:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":49060,"nodeType":"IfStatement","src":"20195:319:38","trueBody":{"id":49059,"nodeType":"Block","src":"20210:304:38","statements":[{"assignments":[49024],"declarations":[{"constant":false,"id":49024,"mutability":"mutable","name":"delegatedIds","nameLocation":"20284:12:38","nodeType":"VariableDeclaration","scope":49059,"src":"20267:29:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":49022,"name":"uint256","nodeType":"ElementaryTypeName","src":"20267:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49023,"nodeType":"ArrayTypeName","src":"20267:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":49030,"initialValue":{"arguments":[{"id":49028,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48913,"src":"20313:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49027,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"20299:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":49025,"name":"uint256","nodeType":"ElementaryTypeName","src":"20303:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49026,"nodeType":"ArrayTypeName","src":"20303:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":49029,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20299:20:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"20267:52:38"},{"body":{"id":49049,"nodeType":"Block","src":"20369:62:38","statements":[{"expression":{"id":49047,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":49041,"name":"delegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49024,"src":"20387:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":49043,"indexExpression":{"id":49042,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49032,"src":"20400:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"20387:15:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":49044,"name":"addedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48937,"src":"20405:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":49046,"indexExpression":{"id":49045,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49032,"src":"20414:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"20405:11:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20387:29:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49048,"nodeType":"ExpressionStatement","src":"20387:29:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49037,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49035,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49032,"src":"20353:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":49036,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48913,"src":"20357:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20353:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":49050,"initializationExpression":{"assignments":[49032],"declarations":[{"constant":false,"id":49032,"mutability":"mutable","name":"i","nameLocation":"20346:1:38","nodeType":"VariableDeclaration","scope":49050,"src":"20338:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49031,"name":"uint256","nodeType":"ElementaryTypeName","src":"20338:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49034,"initialValue":{"hexValue":"30","id":49033,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20350:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"20338:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":49039,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"20364:3:38","subExpression":{"id":49038,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49032,"src":"20366:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49040,"nodeType":"ExpressionStatement","src":"20364:3:38"},"nodeType":"ForStatement","src":"20333:98:38"},{"eventCall":{"arguments":[{"expression":{"id":49052,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"20464:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":49053,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20468:6:38","memberName":"sender","nodeType":"MemberAccess","src":"20464:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":49054,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48897,"src":"20476:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":49055,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48899,"src":"20480:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49056,"name":"delegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49024,"src":"20490:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}],"id":49051,"name":"DelegatedBatch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47338,"src":"20449:14:38","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256[] memory)"}},"id":49057,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20449:54:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49058,"nodeType":"EmitStatement","src":"20444:59:38"}]}}]},"documentation":{"id":48895,"nodeType":"StructuredDocumentation","src":"18829:86:38","text":"@dev Process delegations for the delegate function, handling inherited delegations"},"implemented":true,"kind":"function","modifiers":[],"name":"_processDelegations","nameLocation":"18929:19:38","parameters":{"id":48903,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48897,"mutability":"mutable","name":"to","nameLocation":"18957:2:38","nodeType":"VariableDeclaration","scope":49062,"src":"18949:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48896,"name":"address","nodeType":"ElementaryTypeName","src":"18949:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48899,"mutability":"mutable","name":"nftIndex","nameLocation":"18969:8:38","nodeType":"VariableDeclaration","scope":49062,"src":"18961:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48898,"name":"uint256","nodeType":"ElementaryTypeName","src":"18961:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48902,"mutability":"mutable","name":"ids","nameLocation":"18998:3:38","nodeType":"VariableDeclaration","scope":49062,"src":"18979:22:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48900,"name":"uint256","nodeType":"ElementaryTypeName","src":"18979:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48901,"nodeType":"ArrayTypeName","src":"18979:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"18948:54:38"},"returnParameters":{"id":48914,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48906,"mutability":"mutable","name":"inheritedDelegates","nameLocation":"19067:18:38","nodeType":"VariableDeclaration","scope":49062,"src":"19050:35:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":48904,"name":"address","nodeType":"ElementaryTypeName","src":"19050:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48905,"nodeType":"ArrayTypeName","src":"19050:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":48909,"mutability":"mutable","name":"inheritedCounts","nameLocation":"19116:15:38","nodeType":"VariableDeclaration","scope":49062,"src":"19099:32:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48907,"name":"uint256","nodeType":"ElementaryTypeName","src":"19099:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48908,"nodeType":"ArrayTypeName","src":"19099:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":48911,"mutability":"mutable","name":"uniqueInherited","nameLocation":"19153:15:38","nodeType":"VariableDeclaration","scope":49062,"src":"19145:23:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48910,"name":"uint256","nodeType":"ElementaryTypeName","src":"19145:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48913,"mutability":"mutable","name":"added","nameLocation":"19190:5:38","nodeType":"VariableDeclaration","scope":49062,"src":"19182:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48912,"name":"uint256","nodeType":"ElementaryTypeName","src":"19182:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"19036:169:38"},"scope":49136,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":49135,"nodeType":"FunctionDefinition","src":"20601:581:38","nodes":[],"body":{"id":49134,"nodeType":"Block","src":"20809:373:38","nodes":[],"statements":[{"body":{"id":49132,"nodeType":"Block","src":"20865:311:38","statements":[{"assignments":[49089],"declarations":[{"constant":false,"id":49089,"mutability":"mutable","name":"acct","nameLocation":"20887:4:38","nodeType":"VariableDeclaration","scope":49132,"src":"20879:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":49088,"name":"address","nodeType":"ElementaryTypeName","src":"20879:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":49093,"initialValue":{"baseExpression":{"id":49090,"name":"inheritedDelegates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49066,"src":"20894:18:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":49092,"indexExpression":{"id":49091,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49079,"src":"20913:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"20894:21:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"20879:36:38"},{"assignments":[49095],"declarations":[{"constant":false,"id":49095,"mutability":"mutable","name":"pIdx","nameLocation":"20937:4:38","nodeType":"VariableDeclaration","scope":49132,"src":"20929:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49094,"name":"uint256","nodeType":"ElementaryTypeName","src":"20929:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49100,"initialValue":{"arguments":[{"id":49097,"name":"fromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49075,"src":"20958:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},{"id":49098,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49089,"src":"20970:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"},{"typeIdentifier":"t_address","typeString":"address"}],"id":49096,"name":"_indexOfProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48894,"src":"20944:13:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr_$_t_address_$returns$_t_uint256_$","typeString":"function (struct DavinciDao.ProofInput calldata[] calldata,address) pure returns (uint256)"}},"id":49099,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20944:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"20929:46:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49107,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49101,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49095,"src":"20993:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"arguments":[{"id":49104,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"21006:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":49103,"name":"uint256","nodeType":"ElementaryTypeName","src":"21006:7:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":49102,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"21001:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":49105,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21001:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":49106,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"21015:3:38","memberName":"max","nodeType":"MemberAccess","src":"21001:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20993:25:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":49112,"nodeType":"IfStatement","src":"20989:57:38","trueBody":{"errorCall":{"arguments":[{"id":49109,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49089,"src":"21041:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":49108,"name":"ProofRequired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47389,"src":"21027:13:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$_t_error_$","typeString":"function (address) pure returns (error)"}},"id":49110,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21027:19:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":49111,"nodeType":"RevertStatement","src":"21020:26:38"}},{"expression":{"arguments":[{"id":49114,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49089,"src":"21072:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":49121,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"21078:27:38","subExpression":{"arguments":[{"baseExpression":{"id":49117,"name":"inheritedCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49069,"src":"21086:15:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":49119,"indexExpression":{"id":49118,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49079,"src":"21102:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"21086:18:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49116,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"21079:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":49115,"name":"int256","nodeType":"ElementaryTypeName","src":"21079:6:38","typeDescriptions":{}}},"id":49120,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21079:26:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"baseExpression":{"id":49122,"name":"fromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49075,"src":"21107:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},"id":49124,"indexExpression":{"id":49123,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49095,"src":"21118:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"21107:16:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47292_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata"}},"id":49125,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21124:13:38","memberName":"currentWeight","nodeType":"MemberAccess","referencedDeclaration":47288,"src":"21107:30:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},{"expression":{"baseExpression":{"id":49126,"name":"fromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49075,"src":"21139:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},"id":49128,"indexExpression":{"id":49127,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49095,"src":"21150:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"21139:16:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47292_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata"}},"id":49129,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21156:8:38","memberName":"siblings","nodeType":"MemberAccess","referencedDeclaration":47291,"src":"21139:25:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint88","typeString":"uint88"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"id":49113,"name":"_applyDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48304,"src":"21060:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_int256_$_t_uint88_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$__$","typeString":"function (address,int256,uint88,uint256[] calldata)"}},"id":49130,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21060:105:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49131,"nodeType":"ExpressionStatement","src":"21060:105:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49084,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49082,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49079,"src":"20839:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":49083,"name":"uniqueInherited","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49071,"src":"20843:15:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20839:19:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":49133,"initializationExpression":{"assignments":[49079],"declarations":[{"constant":false,"id":49079,"mutability":"mutable","name":"k","nameLocation":"20832:1:38","nodeType":"VariableDeclaration","scope":49133,"src":"20824:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49078,"name":"uint256","nodeType":"ElementaryTypeName","src":"20824:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49081,"initialValue":{"hexValue":"30","id":49080,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20836:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"20824:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":49086,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"20860:3:38","subExpression":{"id":49085,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49079,"src":"20862:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49087,"nodeType":"ExpressionStatement","src":"20860:3:38"},"nodeType":"ForStatement","src":"20819:357:38"}]},"documentation":{"id":49063,"nodeType":"StructuredDocumentation","src":"20526:70:38","text":"@dev Apply weight decreases for inherited delegations using proofs"},"implemented":true,"kind":"function","modifiers":[],"name":"_applyInheritedProofs","nameLocation":"20610:21:38","parameters":{"id":49076,"nodeType":"ParameterList","parameters":[{"constant":false,"id":49066,"mutability":"mutable","name":"inheritedDelegates","nameLocation":"20658:18:38","nodeType":"VariableDeclaration","scope":49135,"src":"20641:35:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":49064,"name":"address","nodeType":"ElementaryTypeName","src":"20641:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":49065,"nodeType":"ArrayTypeName","src":"20641:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":49069,"mutability":"mutable","name":"inheritedCounts","nameLocation":"20703:15:38","nodeType":"VariableDeclaration","scope":49135,"src":"20686:32:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":49067,"name":"uint256","nodeType":"ElementaryTypeName","src":"20686:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49068,"nodeType":"ArrayTypeName","src":"20686:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":49071,"mutability":"mutable","name":"uniqueInherited","nameLocation":"20736:15:38","nodeType":"VariableDeclaration","scope":49135,"src":"20728:23:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49070,"name":"uint256","nodeType":"ElementaryTypeName","src":"20728:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49075,"mutability":"mutable","name":"fromProofs","nameLocation":"20783:10:38","nodeType":"VariableDeclaration","scope":49135,"src":"20761:32:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput[]"},"typeName":{"baseType":{"id":49073,"nodeType":"UserDefinedTypeName","pathNode":{"id":49072,"name":"ProofInput","nameLocations":["20761:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47292,"src":"20761:10:38"},"referencedDeclaration":47292,"src":"20761:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47292_storage_ptr","typeString":"struct DavinciDao.ProofInput"}},"id":49074,"nodeType":"ArrayTypeName","src":"20761:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47292_storage_$dyn_storage_ptr","typeString":"struct DavinciDao.ProofInput[]"}},"visibility":"internal"}],"src":"20631:168:38"},"returnParameters":{"id":49077,"nodeType":"ParameterList","parameters":[],"src":"20809:0:38"},"scope":49136,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"DavinciDao","contractDependencies":[],"contractKind":"contract","documentation":{"id":47276,"nodeType":"StructuredDocumentation","src":"427:420:38","text":"@title DavinciDAO Census Contract\n @notice Maintains an on-chain Merkle tree for NFT-based voting power delegation.\n @dev Features:\n      - On-chain Merkle tree construction using Lean-IMT (automatic root updates)\n      - Map-based root history (root => blockNumber) for unlimited storage\n      - Event emission for The Graph indexing\n      - Proof-based delegation for security and gas efficiency"},"fullyImplemented":true,"linearizedBaseContracts":[49136],"name":"DavinciDao","nameLocation":"856:10:38","scope":49137,"usedErrors":[46140,46142,46144,46146,46148,47365,47369,47371,47373,47377,47381,47385,47389,47391,47393],"usedEvents":[47317,47327,47338,47349,47357,47363]}],"license":"MIT"},"id":38}