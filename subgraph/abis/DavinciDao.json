{"abi":[{"type":"constructor","inputs":[{"name":"tokens","type":"address[]","internalType":"address[]"}],"stateMutability":"nonpayable"},{"type":"function","name":"collections","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"token","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"computeLeaf","inputs":[{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"delegate","inputs":[{"name":"to","type":"address","internalType":"address"},{"name":"nftIndex","type":"uint256","internalType":"uint256"},{"name":"ids","type":"uint256[]","internalType":"uint256[]"},{"name":"toProof","type":"uint256[]","internalType":"uint256[]"},{"name":"fromProofs","type":"tuple[]","internalType":"struct DavinciDao.ProofInput[]","components":[{"name":"account","type":"address","internalType":"address"},{"name":"siblings","type":"uint256[]","internalType":"uint256[]"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getCensusRoot","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getDelegations","inputs":[{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"weight","type":"uint88","internalType":"uint88"},{"name":"leaf","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getNFTids","inputs":[{"name":"nftIndex","type":"uint256","internalType":"uint256"},{"name":"candidateIds","type":"uint256[]","internalType":"uint256[]"}],"outputs":[{"name":"","type":"uint256[]","internalType":"uint256[]"}],"stateMutability":"view"},{"type":"function","name":"getRootBlockNumber","inputs":[{"name":"root","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getTokenDelegations","inputs":[{"name":"nftIndex","type":"uint256","internalType":"uint256"},{"name":"ids","type":"uint256[]","internalType":"uint256[]"}],"outputs":[{"name":"delegates","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"rootBlockNumbers","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"tokenDelegate","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"undelegate","inputs":[{"name":"nftIndex","type":"uint256","internalType":"uint256"},{"name":"ids","type":"uint256[]","internalType":"uint256[]"},{"name":"proofs","type":"tuple[]","internalType":"struct DavinciDao.ProofInput[]","components":[{"name":"account","type":"address","internalType":"address"},{"name":"siblings","type":"uint256[]","internalType":"uint256[]"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateDelegation","inputs":[{"name":"to","type":"address","internalType":"address"},{"name":"nftIndex","type":"uint256","internalType":"uint256"},{"name":"ids","type":"uint256[]","internalType":"uint256[]"},{"name":"fromProofs","type":"tuple[]","internalType":"struct DavinciDao.ProofInput[]","components":[{"name":"account","type":"address","internalType":"address"},{"name":"siblings","type":"uint256[]","internalType":"uint256[]"}]},{"name":"toProof","type":"uint256[]","internalType":"uint256[]"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"weightOf","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint88","internalType":"uint88"}],"stateMutability":"view"},{"type":"event","name":"CensusRootUpdated","inputs":[{"name":"newRoot","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"blockNumber","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Delegated","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"to","type":"address","indexed":true,"internalType":"address"},{"name":"nftIndex","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"tokenId","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"DelegatedBatch","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"to","type":"address","indexed":true,"internalType":"address"},{"name":"nftIndex","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"tokenIds","type":"uint256[]","indexed":false,"internalType":"uint256[]"}],"anonymous":false},{"type":"event","name":"Undelegated","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"from","type":"address","indexed":true,"internalType":"address"},{"name":"nftIndex","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"tokenId","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"UndelegatedBatch","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"from","type":"address","indexed":true,"internalType":"address"},{"name":"nftIndex","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"tokenIds","type":"uint256[]","indexed":false,"internalType":"uint256[]"}],"anonymous":false},{"type":"event","name":"WeightChanged","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"previousWeight","type":"uint88","indexed":false,"internalType":"uint88"},{"name":"newWeight","type":"uint88","indexed":false,"internalType":"uint88"}],"anonymous":false},{"type":"error","name":"AlreadyDelegated","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"InvalidCollection","inputs":[]},{"type":"error","name":"InvalidTokenId","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"LeafAlreadyExists","inputs":[]},{"type":"error","name":"LeafCannotBeZero","inputs":[]},{"type":"error","name":"LeafDoesNotExist","inputs":[]},{"type":"error","name":"LeafGreaterThanSnarkScalarField","inputs":[]},{"type":"error","name":"NoNewDelegations","inputs":[]},{"type":"error","name":"NotDelegated","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"NotTokenOwner","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"ProofRequired","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"WeightOverflow","inputs":[]},{"type":"error","name":"WeightUnderflow","inputs":[]},{"type":"error","name":"WrongSiblingNodes","inputs":[]},{"type":"error","name":"ZeroAddress","inputs":[]}],"bytecode":{"object":"0x608060405234801561000f575f5ffd5b5060405161278738038061278783398101604081905261002e91610117565b80518061006e5760405162461bcd60e51b815260206004820152600a60248201526962616420636f6e66696760b01b604482015260640160405180910390fd5b5f5b818110156100e0575f8054600101815580528251839082908110610096576100966101e1565b60200260200101515f82815481106100b0576100b06101e1565b5f91825260209091200180546001600160a01b0319166001600160a01b0392909216919091179055600101610070565b5050506101f5565b634e487b7160e01b5f52604160045260245ffd5b80516001600160a01b0381168114610112575f5ffd5b919050565b5f60208284031215610127575f5ffd5b81516001600160401b0381111561013c575f5ffd5b8201601f8101841361014c575f5ffd5b80516001600160401b03811115610165576101656100e8565b604051600582901b90603f8201601f191681016001600160401b0381118282101715610193576101936100e8565b6040529182526020818401810192908101878411156101b0575f5ffd5b6020850194505b838510156101d6576101c8856100fc565b8152602094850194016101b7565b509695505050505050565b634e487b7160e01b5f52603260045260245ffd5b612585806102025f395ff3fe608060405234801561000f575f5ffd5b50600436106100cb575f3560e01c80638498be0411610088578063d0424d7c11610063578063d0424d7c14610210578063d4d1066114610223578063dd4bc10114610236578063fdbda0ec14610276575f5ffd5b80638498be04146101ba578063c1da8691146101da578063c333b0f1146101f0575f5ffd5b80631b1db502146100cf57806331cc13ba146100e457806341a382821461011b578063650e5fcf1461014857806366e12bef146101675780637b6c7c71146101a7575b5f5ffd5b6100e26100dd3660046120ab565b610289565b005b6100f76100f2366004612136565b6107f6565b604080516001600160581b0390931683526020830191909152015b60405180910390f35b61013a610129366004612151565b60076020525f908152604090205481565b604051908152602001610112565b61013a610156366004612151565b5f9081526007602052604090205490565b61018f610175366004612151565b60066020525f90815260409020546001600160a01b031681565b6040516001600160a01b039091168152602001610112565b61013a6101b5366004612136565b610829565b6101cd6101c8366004612168565b61085b565b60405161011291906121af565b6002545f9081526003602052604090205461013a565b6102036101fe366004612168565b6109ca565b60405161011291906121f1565b6100e261021e366004612231565b610aa2565b6100e2610231366004612231565b610b39565b61025e610244366004612136565b60056020525f90815260409020546001600160581b031681565b6040516001600160581b039091168152602001610112565b61018f610284366004612151565b610ba0565b61029285610bc7565b5f836001600160401b038111156102ab576102ab6122e8565b6040519080825280602002602001820160405280156102d4578160200160208202803683370190505b5090505f846001600160401b038111156102f0576102f06122e8565b604051908082528060200260200182016040528015610319578160200160208202803683370190505b5090505f856001600160401b03811115610335576103356122e8565b60405190808252806020026020018201604052801561036857816020015b60608152602001906001900390816103535790505b5090505f805b878110156103dd57876001600160401b0381111561038e5761038e6122e8565b6040519080825280602002602001820160405280156103b7578160200160208202803683370190505b508382815181106103ca576103ca6122fc565b602090810291909101015260010161036e565b505f5b878110156105c5575f8989838181106103fb576103fb6122fc565b90506020020135905061040f8b3383610beb565b61043457604051630e35d34560e11b8152600481018290526024015b60405180910390fd5b5f61043f8c83610c97565b5f818152600660205260409020549091506001600160a01b03168061047a576040516349a0267360e11b81526004810184905260240161042b565b5f82815260066020526040812080546001600160a01b03191690556104a0898784610cc3565b90505f19810361054057818987815181106104bd576104bd6122fc565b60200260200101906001600160a01b031690816001600160a01b031681525050838787815181106104f0576104f06122fc565b60200260200101515f81518110610509576105096122fc565b6020026020010181815250506001888781518110610529576105296122fc565b6020026020010181815250508560010195506105b6565b83878281518110610553576105536122fc565b602002602001015189838151811061056d5761056d6122fc565b602002602001015181518110610585576105856122fc565b6020026020010181815250508781815181106105a3576105a36122fc565b6020026020010180516001019081815250505b505050508060010190506103e0565b505f5b81811015610718575f8482815181106105e3576105e36122fc565b60200260200101516001600160401b03811115610602576106026122e8565b60405190808252806020026020018201604052801561062b578160200160208202803683370190505b5090505f5b858381518110610642576106426122fc565b60200260200101518110156106a957848381518110610663576106636122fc565b6020026020010151818151811061067c5761067c6122fc565b6020026020010151828281518110610696576106966122fc565b6020908102919091010152600101610630565b508a8683815181106106bd576106bd6122fc565b60200260200101516001600160a01b0316336001600160a01b03167f56017da320cb00880eb511a7183d19ed30ca4f9bcf6bf1dffa02ccb76da339158460405161070791906121af565b60405180910390a4506001016105c8565b505f5b818110156107e2575f858281518110610736576107366122fc565b602002602001015190505f61074c898984610d1a565b90505f19810361077a5760405163e0a76e8560e01b81526001600160a01b038316600482015260240161042b565b6107d882878581518110610790576107906122fc565b60200260200101516107a190612324565b8b8b858181106107b3576107b36122fc565b90506020028101906107c5919061233e565b6107d390602081019061235c565b610d7e565b505060010161071b565b506107eb610f6a565b505050505050505050565b6001600160a01b0381165f908152600560205260408120546001600160581b0316906108228383610fc2565b9050915091565b6001600160a01b0381165f908152600560205260408120546108559083906001600160581b0316610fc2565b92915050565b606061086684610bc7565b5f805b838110156108dc575f858583818110610884576108846122fc565b9050602002013590505f6108988883610c97565b5f818152600660205260409020549091506001600160a01b0316158015906108c657506108c6883384610beb565b156108d2578360010193505b5050600101610869565b505f816001600160401b038111156108f6576108f66122e8565b60405190808252806020026020018201604052801561091f578160200160208202803683370190505b5090505f805b858110156109bc575f878783818110610940576109406122fc565b9050602002013590505f6109548a83610c97565b5f818152600660205260409020549091506001600160a01b03161580159061098257506109828a3384610beb565b156109b257818585610993816123a1565b9650815181106109a5576109a56122fc565b6020026020010181815250505b5050600101610925565b5090925050505b9392505050565b60606109d584610bc7565b816001600160401b038111156109ed576109ed6122e8565b604051908082528060200260200182016040528015610a16578160200160208202803683370190505b5090505f5b82811015610a9a5760065f610a4887878786818110610a3c57610a3c6122fc565b90506020020135610c97565b81526020019081526020015f205f9054906101000a90046001600160a01b0316828281518110610a7a57610a7a6122fc565b6001600160a01b0390921660209283029190910190910152600101610a1b565b509392505050565b610aab87610bc7565b6001600160a01b038816610ad25760405163d92e233d60e01b815260040160405180910390fd5b5f5f5f5f610ae28c8c8c8c610fe1565b9350935093509350805f03610b0a5760405163fcea6b3560e01b815260040160405180910390fd5b610b178484848989611297565b610b238c828a8a610d7e565b610b2b610f6a565b505050505050505050505050565b610b4287610bc7565b6001600160a01b038816610b695760405163d92e233d60e01b815260040160405180910390fd5b5f5f5f5f610b798c8c8c8c611343565b9350935093509350610b8e8484848b8b61193c565b8015610b2b57610b238c828888610d7e565b5f8181548110610bae575f80fd5b5f918252602090912001546001600160a01b0316905081565b5f548110610be85760405163517172a160e11b815260040160405180910390fd5b50565b5f5f5f8581548110610bff57610bff6122fc565b5f9182526020918290206040805193840181529101546001600160a01b0390811680845291516331a9108f60e11b815260048101879052929350861691636352211e90602401602060405180830381865afa158015610c60573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610c8491906123b9565b6001600160a01b03161495945050505050565b604080516020808201949094528082019290925280518083038201815260609092019052805191012090565b5f805b83811015610d0f57826001600160a01b0316858281518110610cea57610cea6122fc565b60200260200101516001600160a01b031603610d075790506109c3565b600101610cc6565b505f19949350505050565b5f805b83811015610d0f57826001600160a01b0316858583818110610d4157610d416122fc565b9050602002810190610d53919061233e565b610d61906020810190612136565b6001600160a01b031603610d765790506109c3565b600101610d1d565b8215610f64576001600160a01b0384165f908152600560205260408120546001600160581b03169080851315610de3576001600160581b03808316860190811115610ddc57604051633643f37960e21b815260040160405180910390fd5b9050610e27565b5f610ded86612324565b9050826001600160581b0316811115610e1957604051637b1304a960e11b815260040160405180910390fd5b6001600160581b0383160390505b5f610e328784610fc2565b90505f610e3f8884610fc2565b90505f5160206125305f395f51905f5282101580610e6a57505f5160206125305f395f51905f528110155b15610e8857604051633643f37960e21b815260040160405180910390fd5b6001600160581b038416158015610ea757505f836001600160581b0316115b15610ebd57610eb76001826119bd565b50610eea565b826001600160581b03165f03610eda57610eb76001838888611b7c565b610ee8600183838989611b93565b505b6001600160a01b0388165f8181526005602090815260409182902080546affffffffffffffffffffff19166001600160581b0388811691821790925583519189168252918101919091527fee82339564ef9f72eccdbb67b46a62198422524ab9c7e3fcbdd194fa1b46461b910160405180910390a2505050505b50505050565b6002545f90815260036020908152604080832054808452600783529281902043908190558151908152905183927fac84e1f746682c16ccc7cac6060f24ba0d81b110e6dc4cfa95bbfae24a5fc07d928290030190a250565b6001600160581b031660589190911b600160581b600160f81b03161790565b6060805f80846001600160401b03811115610ffe57610ffe6122e8565b604051908082528060200260200182016040528015611027578160200160208202803683370190505b509350846001600160401b03811115611042576110426122e8565b60405190808252806020026020018201604052801561106b578160200160208202803683370190505b5092505f856001600160401b03811115611087576110876122e8565b6040519080825280602002602001820160405280156110b0578160200160208202803683370190505b5090505f5b868110156111a7575f8888838181106110d0576110d06122fc565b9050602002013590506110e48a3383610beb565b61110457604051630e35d34560e11b81526004810182905260240161042b565b5f61110f8b83610c97565b5f818152600660205260409020549091506001600160a01b0316801561114b5760405163391fac8f60e21b81526004810184905260240161042b565b5f82815260066020526040902080546001600160a01b0319166001600160a01b038f1617905584518390869088908110611187576111876122fc565b6020026020010181815250508560010195505050508060010190506110b5565b50811561128b575f826001600160401b038111156111c7576111c76122e8565b6040519080825280602002602001820160405280156111f0578160200160208202803683370190505b5090505f5b8381101561123c5782818151811061120f5761120f6122fc565b6020026020010151828281518110611229576112296122fc565b60209081029190910101526001016111f5565b50888a6001600160a01b0316336001600160a01b03167f3fe8c5ff8038f409c0e155c58dd77a1d041dc9654f80d372adac435fb5837c308460405161128191906121af565b60405180910390a4505b50945094509450949050565b5f5b8381101561133b575f8682815181106112b4576112b46122fc565b602002602001015190505f6112ca858584610d1a565b90505f1981036112f85760405163e0a76e8560e01b81526001600160a01b038316600482015260240161042b565b6113318288858151811061130e5761130e6122fc565b602002602001015161131f90612324565b8787858181106107b3576107b36122fc565b5050600101611299565b505050505050565b6060805f80846001600160401b03811115611360576113606122e8565b604051908082528060200260200182016040528015611389578160200160208202803683370190505b509350846001600160401b038111156113a4576113a46122e8565b6040519080825280602002602001820160405280156113cd578160200160208202803683370190505b5092505f856001600160401b038111156113e9576113e96122e8565b60405190808252806020026020018201604052801561141c57816020015b60608152602001906001900390816114075790505b5090505f866001600160401b03811115611438576114386122e8565b604051908082528060200260200182016040528015611461578160200160208202803683370190505b5090505f5b878110156114d557876001600160401b03811115611486576114866122e8565b6040519080825280602002602001820160405280156114af578160200160208202803683370190505b508382815181106114c2576114c26122fc565b6020908102919091010152600101611466565b505f5b878110156116f8575f8989838181106114f3576114f36122fc565b9050602002013590506115078b3383610beb565b61152757604051630e35d34560e11b81526004810182905260240161042b565b5f6115328c83610c97565b5f818152600660205260409020549091506001600160a01b03908116908e16810361155f575050506116f0565b6001600160a01b03811615611692575f61157a8b8a84610cc3565b90505f19810361161a57818b8a81518110611597576115976122fc565b60200260200101906001600160a01b031690816001600160a01b03168152505083878a815181106115ca576115ca6122fc565b60200260200101515f815181106115e3576115e36122fc565b60200260200101818152505060018a8a81518110611603576116036122fc565b602002602001018181525050886001019850611690565b8387828151811061162d5761162d6122fc565b60200260200101518b8381518110611647576116476122fc565b60200260200101518151811061165f5761165f6122fc565b60200260200101818152505089818151811061167d5761167d6122fc565b6020026020010180516001019081815250505b505b8d60065f8481526020019081526020015f205f6101000a8154816001600160a01b0302191690836001600160a01b03160217905550828588815181106116da576116da6122fc565b6020026020010181815250508660010196505050505b6001016114d8565b505f5b8481101561184b575f868281518110611716576117166122fc565b60200260200101516001600160401b03811115611735576117356122e8565b60405190808252806020026020018201604052801561175e578160200160208202803683370190505b5090505f5b878381518110611775576117756122fc565b60200260200101518110156117dc57848381518110611796576117966122fc565b602002602001015181815181106117af576117af6122fc565b60200260200101518282815181106117c9576117c96122fc565b6020908102919091010152600101611763565b508a8883815181106117f0576117f06122fc565b60200260200101516001600160a01b0316336001600160a01b03167f56017da320cb00880eb511a7183d19ed30ca4f9bcf6bf1dffa02ccb76da339158460405161183a91906121af565b60405180910390a4506001016116fb565b50821561192f575f836001600160401b0381111561186b5761186b6122e8565b604051908082528060200260200182016040528015611894578160200160208202803683370190505b5090505f5b848110156118e0578281815181106118b3576118b36122fc565b60200260200101518282815181106118cd576118cd6122fc565b6020908102919091010152600101611899565b50898b6001600160a01b0316336001600160a01b03167f3fe8c5ff8038f409c0e155c58dd77a1d041dc9654f80d372adac435fb5837c308460405161192591906121af565b60405180910390a4505b5050945094509450949050565b5f5b8381101561133b575f868281518110611959576119596122fc565b602002602001015190505f61196f858584610d1a565b90505f19810361199d5760405163e0a76e8560e01b81526001600160a01b038316600482015260240161042b565b6119b38288858151811061130e5761130e6122fc565b505060010161193e565b5f5f5160206125305f395f51905f5282106119eb576040516361c0541760e11b815260040160405180910390fd5b815f03611a0b576040516314b48df160e11b815260040160405180910390fd5b5f82815260038401602052604090205415611a39576040516312c50cad60e11b815260040160405180910390fd5b825460018085015490611a4d9083906123d4565b611a588260026124ca565b1015611a6a57611a67816123a1565b90505b60018501819055835f5b82811015611b42578084901c600116600103611b27576040805180820182525f83815260028a0160209081529083902054825281018490529051632b0aac7f60e11b815273__$a2daaad8940c9006af3f1557205ebe532d$__9163561558fe91611ae191906004016124d5565b602060405180830381865af4158015611afc573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611b209190612505565b9150611b3a565b5f81815260028801602052604090208290555b600101611a74565b50611b4c836123a1565b8087555f928352600287016020908152604080852084905596845260039097019096529390209390935550919050565b5f611b8a85855f8686611b93565b95945050505050565b5f5f5160206125305f395f51905f528410611bc1576040516361c0541760e11b815260040160405180910390fd5b5f858152600387016020526040902054611bee57604051631c811d5b60e21b815260040160405180910390fd5b5f84815260038701602052604090205415611c1c576040516312c50cad60e11b815260040160405180910390fd5b5f611c278787612019565b8754909150859087905f90611c3e9060019061251c565b60018b01549091505f90815b81811015611f94578087901c600116600103611df8575f5160206125305f395f51905f528a8a85818110611c8057611c806122fc565b9050602002013510611ca5576040516361c0541760e11b815260040160405180910390fd5b73__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808d8d88818110611cdc57611cdc6122fc565b905060200201358152602001898152506040518263ffffffff1660e01b8152600401611d0891906124d5565b602060405180830381865af4158015611d23573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611d479190612505565b955073__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808d8d88818110611d8057611d806122fc565b905060200201358152602001888152506040518263ffffffff1660e01b8152600401611dac91906124d5565b602060405180830381865af4158015611dc7573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611deb9190612505565b9450826001019250611f8c565b86811c84821c14611f79575f5160206125305f395f51905f528a8a85818110611e2357611e236122fc565b9050602002013510611e48576040516361c0541760e11b815260040160405180910390fd5b5f81815260028e016020526040902054859003611e72575f81815260028e01602052604090208690555b73__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808981526020018d8d88818110611eaf57611eaf6122fc565b905060200201358152506040518263ffffffff1660e01b8152600401611ed591906124d5565b602060405180830381865af4158015611ef0573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611f149190612505565b955073__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808881526020018d8d88818110611f5357611f536122fc565b905060200201358152506040518263ffffffff1660e01b8152600401611dac91906124d5565b5f81815260028e01602052604090208690555b600101611c4a565b5060018c01545f90815260028d0160205260409020548414611fc957604051631fd4986360e11b815260040160405180910390fd5b5f81815260028d01602052604090208590558915611ff9575f8b815260038d016020526040808220548c83529120555b5050505f88815260038a0160205260408120555091505095945050505050565b5f818152600383016020526040812054810361204857604051631c811d5b60e21b815260040160405180910390fd5b5f8281526003840160205260409020546109c39060019061251c565b5f5f83601f840112612074575f5ffd5b5081356001600160401b0381111561208a575f5ffd5b6020830191508360208260051b85010111156120a4575f5ffd5b9250929050565b5f5f5f5f5f606086880312156120bf575f5ffd5b8535945060208601356001600160401b038111156120db575f5ffd5b6120e788828901612064565b90955093505060408601356001600160401b03811115612105575f5ffd5b61211188828901612064565b969995985093965092949392505050565b6001600160a01b0381168114610be8575f5ffd5b5f60208284031215612146575f5ffd5b81356109c381612122565b5f60208284031215612161575f5ffd5b5035919050565b5f5f5f6040848603121561217a575f5ffd5b8335925060208401356001600160401b03811115612196575f5ffd5b6121a286828701612064565b9497909650939450505050565b602080825282518282018190525f918401906040840190835b818110156121e65783518352602093840193909201916001016121c8565b509095945050505050565b602080825282518282018190525f918401906040840190835b818110156121e65783516001600160a01b031683526020938401939092019160010161220a565b5f5f5f5f5f5f5f5f60a0898b031215612248575f5ffd5b883561225381612122565b97506020890135965060408901356001600160401b03811115612274575f5ffd5b6122808b828c01612064565b90975095505060608901356001600160401b0381111561229e575f5ffd5b6122aa8b828c01612064565b90955093505060808901356001600160401b038111156122c8575f5ffd5b6122d48b828c01612064565b999c989b5096995094979396929594505050565b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b5f600160ff1b820161233857612338612310565b505f0390565b5f8235603e19833603018112612352575f5ffd5b9190910192915050565b5f5f8335601e19843603018112612371575f5ffd5b8301803591506001600160401b0382111561238a575f5ffd5b6020019150600581901b36038213156120a4575f5ffd5b5f600182016123b2576123b2612310565b5060010190565b5f602082840312156123c9575f5ffd5b81516109c381612122565b8082018082111561085557610855612310565b6001815b60018411156124225780850481111561240657612406612310565b600184161561241457908102905b60019390931c9280026123eb565b935093915050565b5f8261243857506001610855565b8161244457505f610855565b816001811461245a576002811461246457612480565b6001915050610855565b60ff84111561247557612475612310565b50506001821b610855565b5060208310610133831016604e8410600b84101617156124a3575081810a610855565b6124af5f1984846123e7565b805f19048211156124c2576124c2612310565b029392505050565b5f6109c3838361242a565b6040810181835f5b60028110156124fc5781518352602092830192909101906001016124dd565b50505092915050565b5f60208284031215612515575f5ffd5b5051919050565b818103818111156108555761085561231056fe30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001a264697066735822122078dd73060305184f3e7eb143cc97f8e699162746c56cd9c79b9ff20ea2064d0f64736f6c634300081e0033","sourceMap":"847:19371:38:-:0;;;3042:247;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3101:13;;3132:5;3124:28;;;;-1:-1:-1;;;3124:28:38;;1670:2:42;3124:28:38;;;1652:21:42;1709:2;1689:18;;;1682:30;-1:-1:-1;;;1728:18:42;;;1721:40;1778:18;;3124:28:38;;;;;;;;3167:9;3162:121;3186:1;3182;:5;3162:121;;;3208:11;:18;;;;;;;;3263:9;;:6;;3270:1;;3263:9;;;;;;:::i;:::-;;;;;;;3240:11;3252:1;3240:14;;;;;;;;:::i;:::-;;;;;;;;;;:32;;-1:-1:-1;;;;;;3240:32:38;-1:-1:-1;;;;;3240:32:38;;;;;;;;;;-1:-1:-1;3189:3:38;3162:121;;;;3079:210;3042:247;847:19371;;14:127:42;75:10;70:3;66:20;63:1;56:31;106:4;103:1;96:15;130:4;127:1;120:15;146:177;225:13;;-1:-1:-1;;;;;267:31:42;;257:42;;247:70;;313:1;310;303:12;247:70;146:177;;;:::o;328:1135::-;423:6;476:2;464:9;455:7;451:23;447:32;444:52;;;492:1;489;482:12;444:52;519:16;;-1:-1:-1;;;;;547:30:42;;544:50;;;590:1;587;580:12;544:50;613:22;;666:4;658:13;;654:27;-1:-1:-1;644:55:42;;695:1;692;685:12;644:55;722:9;;-1:-1:-1;;;;;743:30:42;;740:56;;;776:18;;:::i;:::-;858:2;852:9;819:1;815:14;;;;912:2;904:11;;-1:-1:-1;;900:25:42;888:38;;-1:-1:-1;;;;;941:34:42;;977:22;;;938:62;935:88;;;1003:18;;:::i;:::-;1039:2;1032:22;1089;;;1139:2;1169:11;;;1165:20;;;1089:22;1127:15;;1197:19;;;1194:39;;;1229:1;1226;1219:12;1194:39;1261:2;1257;1253:11;1242:22;;1273:159;1289:6;1284:3;1281:15;1273:159;;;1355:34;1385:3;1355:34;:::i;:::-;1343:47;;1419:2;1306:12;;;;1410;1273:159;;;-1:-1:-1;1451:6:42;328:1135;-1:-1:-1;;;;;;328:1135:42:o;1807:127::-;1868:10;1863:3;1859:20;1856:1;1849:31;1899:4;1896:1;1889:15;1923:4;1920:1;1913:15;1807:127;847:19371:38;;;;;;","linkReferences":{"lib/poseidon-solidity/contracts/PoseidonT3.sol":{"PoseidonT3":[{"start":7356,"length":20},{"start":7849,"length":20},{"start":8013,"length":20},{"start":8310,"length":20},{"start":8474,"length":20}]}}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b50600436106100cb575f3560e01c80638498be0411610088578063d0424d7c11610063578063d0424d7c14610210578063d4d1066114610223578063dd4bc10114610236578063fdbda0ec14610276575f5ffd5b80638498be04146101ba578063c1da8691146101da578063c333b0f1146101f0575f5ffd5b80631b1db502146100cf57806331cc13ba146100e457806341a382821461011b578063650e5fcf1461014857806366e12bef146101675780637b6c7c71146101a7575b5f5ffd5b6100e26100dd3660046120ab565b610289565b005b6100f76100f2366004612136565b6107f6565b604080516001600160581b0390931683526020830191909152015b60405180910390f35b61013a610129366004612151565b60076020525f908152604090205481565b604051908152602001610112565b61013a610156366004612151565b5f9081526007602052604090205490565b61018f610175366004612151565b60066020525f90815260409020546001600160a01b031681565b6040516001600160a01b039091168152602001610112565b61013a6101b5366004612136565b610829565b6101cd6101c8366004612168565b61085b565b60405161011291906121af565b6002545f9081526003602052604090205461013a565b6102036101fe366004612168565b6109ca565b60405161011291906121f1565b6100e261021e366004612231565b610aa2565b6100e2610231366004612231565b610b39565b61025e610244366004612136565b60056020525f90815260409020546001600160581b031681565b6040516001600160581b039091168152602001610112565b61018f610284366004612151565b610ba0565b61029285610bc7565b5f836001600160401b038111156102ab576102ab6122e8565b6040519080825280602002602001820160405280156102d4578160200160208202803683370190505b5090505f846001600160401b038111156102f0576102f06122e8565b604051908082528060200260200182016040528015610319578160200160208202803683370190505b5090505f856001600160401b03811115610335576103356122e8565b60405190808252806020026020018201604052801561036857816020015b60608152602001906001900390816103535790505b5090505f805b878110156103dd57876001600160401b0381111561038e5761038e6122e8565b6040519080825280602002602001820160405280156103b7578160200160208202803683370190505b508382815181106103ca576103ca6122fc565b602090810291909101015260010161036e565b505f5b878110156105c5575f8989838181106103fb576103fb6122fc565b90506020020135905061040f8b3383610beb565b61043457604051630e35d34560e11b8152600481018290526024015b60405180910390fd5b5f61043f8c83610c97565b5f818152600660205260409020549091506001600160a01b03168061047a576040516349a0267360e11b81526004810184905260240161042b565b5f82815260066020526040812080546001600160a01b03191690556104a0898784610cc3565b90505f19810361054057818987815181106104bd576104bd6122fc565b60200260200101906001600160a01b031690816001600160a01b031681525050838787815181106104f0576104f06122fc565b60200260200101515f81518110610509576105096122fc565b6020026020010181815250506001888781518110610529576105296122fc565b6020026020010181815250508560010195506105b6565b83878281518110610553576105536122fc565b602002602001015189838151811061056d5761056d6122fc565b602002602001015181518110610585576105856122fc565b6020026020010181815250508781815181106105a3576105a36122fc565b6020026020010180516001019081815250505b505050508060010190506103e0565b505f5b81811015610718575f8482815181106105e3576105e36122fc565b60200260200101516001600160401b03811115610602576106026122e8565b60405190808252806020026020018201604052801561062b578160200160208202803683370190505b5090505f5b858381518110610642576106426122fc565b60200260200101518110156106a957848381518110610663576106636122fc565b6020026020010151818151811061067c5761067c6122fc565b6020026020010151828281518110610696576106966122fc565b6020908102919091010152600101610630565b508a8683815181106106bd576106bd6122fc565b60200260200101516001600160a01b0316336001600160a01b03167f56017da320cb00880eb511a7183d19ed30ca4f9bcf6bf1dffa02ccb76da339158460405161070791906121af565b60405180910390a4506001016105c8565b505f5b818110156107e2575f858281518110610736576107366122fc565b602002602001015190505f61074c898984610d1a565b90505f19810361077a5760405163e0a76e8560e01b81526001600160a01b038316600482015260240161042b565b6107d882878581518110610790576107906122fc565b60200260200101516107a190612324565b8b8b858181106107b3576107b36122fc565b90506020028101906107c5919061233e565b6107d390602081019061235c565b610d7e565b505060010161071b565b506107eb610f6a565b505050505050505050565b6001600160a01b0381165f908152600560205260408120546001600160581b0316906108228383610fc2565b9050915091565b6001600160a01b0381165f908152600560205260408120546108559083906001600160581b0316610fc2565b92915050565b606061086684610bc7565b5f805b838110156108dc575f858583818110610884576108846122fc565b9050602002013590505f6108988883610c97565b5f818152600660205260409020549091506001600160a01b0316158015906108c657506108c6883384610beb565b156108d2578360010193505b5050600101610869565b505f816001600160401b038111156108f6576108f66122e8565b60405190808252806020026020018201604052801561091f578160200160208202803683370190505b5090505f805b858110156109bc575f878783818110610940576109406122fc565b9050602002013590505f6109548a83610c97565b5f818152600660205260409020549091506001600160a01b03161580159061098257506109828a3384610beb565b156109b257818585610993816123a1565b9650815181106109a5576109a56122fc565b6020026020010181815250505b5050600101610925565b5090925050505b9392505050565b60606109d584610bc7565b816001600160401b038111156109ed576109ed6122e8565b604051908082528060200260200182016040528015610a16578160200160208202803683370190505b5090505f5b82811015610a9a5760065f610a4887878786818110610a3c57610a3c6122fc565b90506020020135610c97565b81526020019081526020015f205f9054906101000a90046001600160a01b0316828281518110610a7a57610a7a6122fc565b6001600160a01b0390921660209283029190910190910152600101610a1b565b509392505050565b610aab87610bc7565b6001600160a01b038816610ad25760405163d92e233d60e01b815260040160405180910390fd5b5f5f5f5f610ae28c8c8c8c610fe1565b9350935093509350805f03610b0a5760405163fcea6b3560e01b815260040160405180910390fd5b610b178484848989611297565b610b238c828a8a610d7e565b610b2b610f6a565b505050505050505050505050565b610b4287610bc7565b6001600160a01b038816610b695760405163d92e233d60e01b815260040160405180910390fd5b5f5f5f5f610b798c8c8c8c611343565b9350935093509350610b8e8484848b8b61193c565b8015610b2b57610b238c828888610d7e565b5f8181548110610bae575f80fd5b5f918252602090912001546001600160a01b0316905081565b5f548110610be85760405163517172a160e11b815260040160405180910390fd5b50565b5f5f5f8581548110610bff57610bff6122fc565b5f9182526020918290206040805193840181529101546001600160a01b0390811680845291516331a9108f60e11b815260048101879052929350861691636352211e90602401602060405180830381865afa158015610c60573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610c8491906123b9565b6001600160a01b03161495945050505050565b604080516020808201949094528082019290925280518083038201815260609092019052805191012090565b5f805b83811015610d0f57826001600160a01b0316858281518110610cea57610cea6122fc565b60200260200101516001600160a01b031603610d075790506109c3565b600101610cc6565b505f19949350505050565b5f805b83811015610d0f57826001600160a01b0316858583818110610d4157610d416122fc565b9050602002810190610d53919061233e565b610d61906020810190612136565b6001600160a01b031603610d765790506109c3565b600101610d1d565b8215610f64576001600160a01b0384165f908152600560205260408120546001600160581b03169080851315610de3576001600160581b03808316860190811115610ddc57604051633643f37960e21b815260040160405180910390fd5b9050610e27565b5f610ded86612324565b9050826001600160581b0316811115610e1957604051637b1304a960e11b815260040160405180910390fd5b6001600160581b0383160390505b5f610e328784610fc2565b90505f610e3f8884610fc2565b90505f5160206125305f395f51905f5282101580610e6a57505f5160206125305f395f51905f528110155b15610e8857604051633643f37960e21b815260040160405180910390fd5b6001600160581b038416158015610ea757505f836001600160581b0316115b15610ebd57610eb76001826119bd565b50610eea565b826001600160581b03165f03610eda57610eb76001838888611b7c565b610ee8600183838989611b93565b505b6001600160a01b0388165f8181526005602090815260409182902080546affffffffffffffffffffff19166001600160581b0388811691821790925583519189168252918101919091527fee82339564ef9f72eccdbb67b46a62198422524ab9c7e3fcbdd194fa1b46461b910160405180910390a2505050505b50505050565b6002545f90815260036020908152604080832054808452600783529281902043908190558151908152905183927fac84e1f746682c16ccc7cac6060f24ba0d81b110e6dc4cfa95bbfae24a5fc07d928290030190a250565b6001600160581b031660589190911b600160581b600160f81b03161790565b6060805f80846001600160401b03811115610ffe57610ffe6122e8565b604051908082528060200260200182016040528015611027578160200160208202803683370190505b509350846001600160401b03811115611042576110426122e8565b60405190808252806020026020018201604052801561106b578160200160208202803683370190505b5092505f856001600160401b03811115611087576110876122e8565b6040519080825280602002602001820160405280156110b0578160200160208202803683370190505b5090505f5b868110156111a7575f8888838181106110d0576110d06122fc565b9050602002013590506110e48a3383610beb565b61110457604051630e35d34560e11b81526004810182905260240161042b565b5f61110f8b83610c97565b5f818152600660205260409020549091506001600160a01b0316801561114b5760405163391fac8f60e21b81526004810184905260240161042b565b5f82815260066020526040902080546001600160a01b0319166001600160a01b038f1617905584518390869088908110611187576111876122fc565b6020026020010181815250508560010195505050508060010190506110b5565b50811561128b575f826001600160401b038111156111c7576111c76122e8565b6040519080825280602002602001820160405280156111f0578160200160208202803683370190505b5090505f5b8381101561123c5782818151811061120f5761120f6122fc565b6020026020010151828281518110611229576112296122fc565b60209081029190910101526001016111f5565b50888a6001600160a01b0316336001600160a01b03167f3fe8c5ff8038f409c0e155c58dd77a1d041dc9654f80d372adac435fb5837c308460405161128191906121af565b60405180910390a4505b50945094509450949050565b5f5b8381101561133b575f8682815181106112b4576112b46122fc565b602002602001015190505f6112ca858584610d1a565b90505f1981036112f85760405163e0a76e8560e01b81526001600160a01b038316600482015260240161042b565b6113318288858151811061130e5761130e6122fc565b602002602001015161131f90612324565b8787858181106107b3576107b36122fc565b5050600101611299565b505050505050565b6060805f80846001600160401b03811115611360576113606122e8565b604051908082528060200260200182016040528015611389578160200160208202803683370190505b509350846001600160401b038111156113a4576113a46122e8565b6040519080825280602002602001820160405280156113cd578160200160208202803683370190505b5092505f856001600160401b038111156113e9576113e96122e8565b60405190808252806020026020018201604052801561141c57816020015b60608152602001906001900390816114075790505b5090505f866001600160401b03811115611438576114386122e8565b604051908082528060200260200182016040528015611461578160200160208202803683370190505b5090505f5b878110156114d557876001600160401b03811115611486576114866122e8565b6040519080825280602002602001820160405280156114af578160200160208202803683370190505b508382815181106114c2576114c26122fc565b6020908102919091010152600101611466565b505f5b878110156116f8575f8989838181106114f3576114f36122fc565b9050602002013590506115078b3383610beb565b61152757604051630e35d34560e11b81526004810182905260240161042b565b5f6115328c83610c97565b5f818152600660205260409020549091506001600160a01b03908116908e16810361155f575050506116f0565b6001600160a01b03811615611692575f61157a8b8a84610cc3565b90505f19810361161a57818b8a81518110611597576115976122fc565b60200260200101906001600160a01b031690816001600160a01b03168152505083878a815181106115ca576115ca6122fc565b60200260200101515f815181106115e3576115e36122fc565b60200260200101818152505060018a8a81518110611603576116036122fc565b602002602001018181525050886001019850611690565b8387828151811061162d5761162d6122fc565b60200260200101518b8381518110611647576116476122fc565b60200260200101518151811061165f5761165f6122fc565b60200260200101818152505089818151811061167d5761167d6122fc565b6020026020010180516001019081815250505b505b8d60065f8481526020019081526020015f205f6101000a8154816001600160a01b0302191690836001600160a01b03160217905550828588815181106116da576116da6122fc565b6020026020010181815250508660010196505050505b6001016114d8565b505f5b8481101561184b575f868281518110611716576117166122fc565b60200260200101516001600160401b03811115611735576117356122e8565b60405190808252806020026020018201604052801561175e578160200160208202803683370190505b5090505f5b878381518110611775576117756122fc565b60200260200101518110156117dc57848381518110611796576117966122fc565b602002602001015181815181106117af576117af6122fc565b60200260200101518282815181106117c9576117c96122fc565b6020908102919091010152600101611763565b508a8883815181106117f0576117f06122fc565b60200260200101516001600160a01b0316336001600160a01b03167f56017da320cb00880eb511a7183d19ed30ca4f9bcf6bf1dffa02ccb76da339158460405161183a91906121af565b60405180910390a4506001016116fb565b50821561192f575f836001600160401b0381111561186b5761186b6122e8565b604051908082528060200260200182016040528015611894578160200160208202803683370190505b5090505f5b848110156118e0578281815181106118b3576118b36122fc565b60200260200101518282815181106118cd576118cd6122fc565b6020908102919091010152600101611899565b50898b6001600160a01b0316336001600160a01b03167f3fe8c5ff8038f409c0e155c58dd77a1d041dc9654f80d372adac435fb5837c308460405161192591906121af565b60405180910390a4505b5050945094509450949050565b5f5b8381101561133b575f868281518110611959576119596122fc565b602002602001015190505f61196f858584610d1a565b90505f19810361199d5760405163e0a76e8560e01b81526001600160a01b038316600482015260240161042b565b6119b38288858151811061130e5761130e6122fc565b505060010161193e565b5f5f5160206125305f395f51905f5282106119eb576040516361c0541760e11b815260040160405180910390fd5b815f03611a0b576040516314b48df160e11b815260040160405180910390fd5b5f82815260038401602052604090205415611a39576040516312c50cad60e11b815260040160405180910390fd5b825460018085015490611a4d9083906123d4565b611a588260026124ca565b1015611a6a57611a67816123a1565b90505b60018501819055835f5b82811015611b42578084901c600116600103611b27576040805180820182525f83815260028a0160209081529083902054825281018490529051632b0aac7f60e11b815273__$a2daaad8940c9006af3f1557205ebe532d$__9163561558fe91611ae191906004016124d5565b602060405180830381865af4158015611afc573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611b209190612505565b9150611b3a565b5f81815260028801602052604090208290555b600101611a74565b50611b4c836123a1565b8087555f928352600287016020908152604080852084905596845260039097019096529390209390935550919050565b5f611b8a85855f8686611b93565b95945050505050565b5f5f5160206125305f395f51905f528410611bc1576040516361c0541760e11b815260040160405180910390fd5b5f858152600387016020526040902054611bee57604051631c811d5b60e21b815260040160405180910390fd5b5f84815260038701602052604090205415611c1c576040516312c50cad60e11b815260040160405180910390fd5b5f611c278787612019565b8754909150859087905f90611c3e9060019061251c565b60018b01549091505f90815b81811015611f94578087901c600116600103611df8575f5160206125305f395f51905f528a8a85818110611c8057611c806122fc565b9050602002013510611ca5576040516361c0541760e11b815260040160405180910390fd5b73__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808d8d88818110611cdc57611cdc6122fc565b905060200201358152602001898152506040518263ffffffff1660e01b8152600401611d0891906124d5565b602060405180830381865af4158015611d23573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611d479190612505565b955073__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808d8d88818110611d8057611d806122fc565b905060200201358152602001888152506040518263ffffffff1660e01b8152600401611dac91906124d5565b602060405180830381865af4158015611dc7573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611deb9190612505565b9450826001019250611f8c565b86811c84821c14611f79575f5160206125305f395f51905f528a8a85818110611e2357611e236122fc565b9050602002013510611e48576040516361c0541760e11b815260040160405180910390fd5b5f81815260028e016020526040902054859003611e72575f81815260028e01602052604090208690555b73__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808981526020018d8d88818110611eaf57611eaf6122fc565b905060200201358152506040518263ffffffff1660e01b8152600401611ed591906124d5565b602060405180830381865af4158015611ef0573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611f149190612505565b955073__$a2daaad8940c9006af3f1557205ebe532d$__63561558fe60405180604001604052808881526020018d8d88818110611f5357611f536122fc565b905060200201358152506040518263ffffffff1660e01b8152600401611dac91906124d5565b5f81815260028e01602052604090208690555b600101611c4a565b5060018c01545f90815260028d0160205260409020548414611fc957604051631fd4986360e11b815260040160405180910390fd5b5f81815260028d01602052604090208590558915611ff9575f8b815260038d016020526040808220548c83529120555b5050505f88815260038a0160205260408120555091505095945050505050565b5f818152600383016020526040812054810361204857604051631c811d5b60e21b815260040160405180910390fd5b5f8281526003840160205260409020546109c39060019061251c565b5f5f83601f840112612074575f5ffd5b5081356001600160401b0381111561208a575f5ffd5b6020830191508360208260051b85010111156120a4575f5ffd5b9250929050565b5f5f5f5f5f606086880312156120bf575f5ffd5b8535945060208601356001600160401b038111156120db575f5ffd5b6120e788828901612064565b90955093505060408601356001600160401b03811115612105575f5ffd5b61211188828901612064565b969995985093965092949392505050565b6001600160a01b0381168114610be8575f5ffd5b5f60208284031215612146575f5ffd5b81356109c381612122565b5f60208284031215612161575f5ffd5b5035919050565b5f5f5f6040848603121561217a575f5ffd5b8335925060208401356001600160401b03811115612196575f5ffd5b6121a286828701612064565b9497909650939450505050565b602080825282518282018190525f918401906040840190835b818110156121e65783518352602093840193909201916001016121c8565b509095945050505050565b602080825282518282018190525f918401906040840190835b818110156121e65783516001600160a01b031683526020938401939092019160010161220a565b5f5f5f5f5f5f5f5f60a0898b031215612248575f5ffd5b883561225381612122565b97506020890135965060408901356001600160401b03811115612274575f5ffd5b6122808b828c01612064565b90975095505060608901356001600160401b0381111561229e575f5ffd5b6122aa8b828c01612064565b90955093505060808901356001600160401b038111156122c8575f5ffd5b6122d48b828c01612064565b999c989b5096995094979396929594505050565b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b5f600160ff1b820161233857612338612310565b505f0390565b5f8235603e19833603018112612352575f5ffd5b9190910192915050565b5f5f8335601e19843603018112612371575f5ffd5b8301803591506001600160401b0382111561238a575f5ffd5b6020019150600581901b36038213156120a4575f5ffd5b5f600182016123b2576123b2612310565b5060010190565b5f602082840312156123c9575f5ffd5b81516109c381612122565b8082018082111561085557610855612310565b6001815b60018411156124225780850481111561240657612406612310565b600184161561241457908102905b60019390931c9280026123eb565b935093915050565b5f8261243857506001610855565b8161244457505f610855565b816001811461245a576002811461246457612480565b6001915050610855565b60ff84111561247557612475612310565b50506001821b610855565b5060208310610133831016604e8410600b84101617156124a3575081810a610855565b6124af5f1984846123e7565b805f19048211156124c2576124c2612310565b029392505050565b5f6109c3838361242a565b6040810181835f5b60028110156124fc5781518352602092830192909101906001016124dd565b50505092915050565b5f60208284031215612515575f5ffd5b5051919050565b818103818111156108555761085561231056fe30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001a264697066735822122078dd73060305184f3e7eb143cc97f8e699162746c56cd9c79b9ff20ea2064d0f64736f6c634300081e0033","sourceMap":"847:19371:38:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7796:2325;;;;;;:::i;:::-;;:::i;:::-;;3934:179;;;;;;:::i;:::-;;:::i;:::-;;;;-1:-1:-1;;;;;1882:37:42;;;1864:56;;1951:2;1936:18;;1929:34;;;;1837:18;3934:179:38;;;;;;;;1828:51;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;2351:25:42;;;2339:2;2324:18;1828:51:38;2205:177:42;3718:120:38;;;;;;:::i;:::-;3783:7;3809:22;;;:16;:22;;;;;;;3718:120;1588:48;;;;;;:::i;:::-;;;;;;;;;;;;-1:-1:-1;;;;;1588:48:38;;;;;;-1:-1:-1;;;;;2736:32:42;;;2718:51;;2706:2;2691:18;1588:48:38;2572:203:42;5823:131:38;;;;;;:::i;:::-;;:::i;4768:964::-;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;3396:96::-;13688:10:36;;3444:7:38;13673:26:36;;;:14;:26;;;;;;3396:96:38;;4214:367;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;6583:915::-;;;;;;:::i;:::-;;:::i;10525:840::-;;;;;;:::i;:::-;;:::i;1379:42::-;;;;;;:::i;:::-;;;;;;;;;;;;-1:-1:-1;;;;;1379:42:38;;;;;;-1:-1:-1;;;;;7540:37:42;;;7522:56;;7510:2;7495:18;1379:42:38;7378:206:42;1250:31:38;;;;;;:::i;:::-;;:::i;7796:2325::-;7907:21;7919:8;7907:11;:21::i;:::-;8036:25;8078:3;-1:-1:-1;;;;;8064:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;8064:25:38;-1:-1:-1;8036:53:38;-1:-1:-1;8099:23:38;8139:3;-1:-1:-1;;;;;8125:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;8125:25:38;-1:-1:-1;8099:51:38;-1:-1:-1;8160:37:38;8216:3;-1:-1:-1;;;;;8200:27:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;8160:67:38;-1:-1:-1;8237:14:38;;8328:115;8348:14;;;8328:115;;;8421:3;-1:-1:-1;;;;;8407:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;8407:25:38;;8383:18;8402:1;8383:21;;;;;;;;:::i;:::-;;;;;;;;;;:49;8364:3;;8328:115;;;-1:-1:-1;8458:9:38;8453:838;8473:14;;;8453:838;;;8508:10;8521:3;;8525:1;8521:6;;;;;;;:::i;:::-;;;;;;;8508:19;;8546:31;8552:8;8562:10;8574:2;8546:5;:31::i;:::-;8541:62;;8586:17;;-1:-1:-1;;;8586:17:38;;;;;2351:25:42;;;2324:18;;8586:17:38;;;;;;;;8541:62;8618:11;8632:23;8642:8;8652:2;8632:9;:23::i;:::-;8669:11;8683:18;;;:13;:18;;;;;;8618:37;;-1:-1:-1;;;;;;8683:18:38;;8715:46;;8745:16;;-1:-1:-1;;;8745:16:38;;;;;2351:25:42;;;2324:18;;8745:16:38;2205:177:42;8715:46:38;8805:1;8776:18;;;:13;:18;;;;;:31;;-1:-1:-1;;;;;;8776:31:38;;;8834;8843:8;8853:6;8861:3;8834:8;:31::i;:::-;8822:43;;-1:-1:-1;;8883:1:38;:22;8879:402;;8944:3;8925:8;8934:6;8925:16;;;;;;;;:::i;:::-;;;;;;:22;-1:-1:-1;;;;;8925:22:38;;;-1:-1:-1;;;;;8925:22:38;;;;;8997:2;8965:18;8984:6;8965:26;;;;;;;;:::i;:::-;;;;;;;8992:1;8965:29;;;;;;;;:::i;:::-;;;;;;:34;;;;;9034:1;9017:6;9024;9017:14;;;;;;;;:::i;:::-;;;;;;:18;;;;;9085:8;;;;;8879:402;;;9185:2;9150:18;9169:1;9150:21;;;;;;;;:::i;:::-;;;;;;;9172:6;9179:1;9172:9;;;;;;;;:::i;:::-;;;;;;;9150:32;;;;;;;;:::i;:::-;;;;;;:37;;;;;9239:6;9246:1;9239:9;;;;;;;;:::i;:::-;;;;;;9237:11;;;;;;;;;;8879:402;8494:797;;;;8489:3;;;;;8453:838;;;-1:-1:-1;9353:9:38;9348:404;9372:6;9368:1;:10;9348:404;;;9461:33;9511:6;9518:1;9511:9;;;;;;;;:::i;:::-;;;;;;;-1:-1:-1;;;;;9497:24:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;9497:24:38;-1:-1:-1;9461:60:38;-1:-1:-1;9540:9:38;9535:119;9559:6;9566:1;9559:9;;;;;;;;:::i;:::-;;;;;;;9555:1;:13;9535:119;;;9615:18;9634:1;9615:21;;;;;;;;:::i;:::-;;;;;;;9637:1;9615:24;;;;;;;;:::i;:::-;;;;;;;9593:16;9610:1;9593:19;;;;;;;;:::i;:::-;;;;;;;;;;:46;9570:3;;9535:119;;;;9714:8;9701;9710:1;9701:11;;;;;;;;:::i;:::-;;;;;;;-1:-1:-1;;;;;9672:69:38;9689:10;-1:-1:-1;;;;;9672:69:38;;9724:16;9672:69;;;;;;:::i;:::-;;;;;;;;-1:-1:-1;9380:3:38;;9348:404;;;-1:-1:-1;9767:9:38;9762:289;9786:6;9782:1;:10;9762:289;;;9813:12;9828:8;9837:1;9828:11;;;;;;;;:::i;:::-;;;;;;;9813:26;;9853:12;9868:27;9882:6;;9890:4;9868:13;:27::i;:::-;9853:42;;-1:-1:-1;;9913:4:38;:25;9909:57;;9947:19;;-1:-1:-1;;;9947:19:38;;-1:-1:-1;;;;;2736:32:42;;9947:19:38;;;2718:51:42;2691:18;;9947:19:38;2572:203:42;9909:57:38;9980:60;9992:4;10006:6;10013:1;10006:9;;;;;;;;:::i;:::-;;;;;;;9998:18;;;:::i;:::-;10018:6;;10025:4;10018:12;;;;;;;:::i;:::-;;;;;;;;;;;;:::i;:::-;:21;;;;;;;:::i;:::-;9980:11;:60::i;:::-;-1:-1:-1;;9794:3:38;;9762:289;;;;10094:20;:18;:20::i;:::-;7897:2224;;;;7796:2325;;;;;:::o;3934:179::-;-1:-1:-1;;;;;4046:17:38;;3998:13;4046:17;;;:8;:17;;;;;;-1:-1:-1;;;;;4046:17:38;;4080:26;4055:7;4046:17;4080:9;:26::i;:::-;4073:33;;3934:179;;;:::o;5823:131::-;-1:-1:-1;;;;;5929:17:38;;5884:7;5929:17;;;:8;:17;;;;;;5910:37;;5920:7;;-1:-1:-1;;;;;5929:17:38;5910:9;:37::i;:::-;5903:44;5823:131;-1:-1:-1;;5823:131:38:o;4768:964::-;4861:16;4889:21;4901:8;4889:11;:21::i;:::-;4920:13;;4943:396;4963:23;;;4943:396;;;5007:10;5020:12;;5033:1;5020:15;;;;;;;:::i;:::-;;;;;;;5007:28;;5049:11;5063:23;5073:8;5083:2;5063:9;:23::i;:::-;5200:1;5170:18;;;:13;:18;;;;;;5049:37;;-1:-1:-1;;;;;;5170:18:38;:32;;;;:67;;;5206:31;5212:8;5222:10;5234:2;5206:5;:31::i;:::-;5166:163;;;5289:7;;;;;5166:163;-1:-1:-1;;4988:3:38;;4943:396;;;;5348:20;5385:5;-1:-1:-1;;;;;5371:20:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;5371:20:38;-1:-1:-1;5348:43:38;-1:-1:-1;5401:9:38;;5420:286;5440:23;;;5420:286;;;5484:10;5497:12;;5510:1;5497:15;;;;;;;:::i;:::-;;;;;;;5484:28;;5526:11;5540:23;5550:8;5560:2;5540:9;:23::i;:::-;5611:1;5581:18;;;:13;:18;;;;;;5526:37;;-1:-1:-1;;;;;;5581:18:38;:32;;;;:67;;;5617:31;5623:8;5633:10;5645:2;5617:5;:31::i;:::-;5577:119;;;5679:2;5668:3;5672;;;;:::i;:::-;;;5668:8;;;;;;;;:::i;:::-;;;;;;:13;;;;;5577:119;-1:-1:-1;;5465:3:38;;5420:286;;;-1:-1:-1;5722:3:38;;-1:-1:-1;;;4768:964:38;;;;;;:::o;4214:367::-;4332:26;4374:21;4386:8;4374:11;:21::i;:::-;4431:3;-1:-1:-1;;;;;4417:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;4417:25:38;-1:-1:-1;4405:37:38;-1:-1:-1;4457:9:38;4452:123;4472:14;;;4452:123;;;4522:13;:42;4536:27;4546:8;4556:3;;4560:1;4556:6;;;;;;;:::i;:::-;;;;;;;4536:9;:27::i;:::-;4522:42;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;4522:42:38;4507:9;4517:1;4507:12;;;;;;;;:::i;:::-;-1:-1:-1;;;;;4507:57:38;;;:12;;;;;;;;;;;:57;4488:3;;4452:123;;;;4214:367;;;;;:::o;6583:915::-;6782:21;6794:8;6782:11;:21::i;:::-;-1:-1:-1;;;;;6817:16:38;;6813:42;;6842:13;;-1:-1:-1;;;6842:13:38;;;;;;;;;;;6813:42;6932:35;6969:32;7003:23;7028:13;7053:38;7073:2;7077:8;7087:3;;7053:19;:38::i;:::-;6931:160;;;;;;;;7106:5;7115:1;7106:10;7102:41;;7125:18;;-1:-1:-1;;;7125:18:38;;;;;;;;;;;7102:41;7240:87;7262:18;7282:15;7299;7316:10;;7240:21;:87::i;:::-;7388:39;7400:2;7411:5;7419:7;;7388:11;:39::i;:::-;7471:20;:18;:20::i;:::-;6772:726;;;;6583:915;;;;;;;;:::o;10525:840::-;10732:21;10744:8;10732:11;:21::i;:::-;-1:-1:-1;;;;;10767:16:38;;10763:42;;10792:13;;-1:-1:-1;;;10792:13:38;;;;;;;;;;;10763:42;10879:26;10907:27;10936:14;10952:13;10981:44;11007:2;11011:8;11021:3;;10981:25;:44::i;:::-;10878:147;;;;;;;;11088:59;11105:9;11116:10;11128:6;11136:10;;11088:16;:59::i;:::-;11212:9;;11208:151;;11237:39;11249:2;11260:5;11268:7;;11237:11;:39::i;1250:31::-;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1250:31:38;;-1:-1:-1;1250:31:38;:::o;16429:132::-;16508:11;:18;16496:30;;16492:62;;16535:19;;-1:-1:-1;;;16535:19:38;;;;;;;;;;;16492:62;16429:132;:::o;17115:213::-;17203:4;17219:19;17241:11;17253:8;17241:21;;;;;;;;:::i;:::-;;;;;;;;;;17219:43;;;;;;;;17241:21;;17219:43;-1:-1:-1;;;;;17219:43:38;;;;;;17279:33;;-1:-1:-1;;;17279:33:38;;;;;2351:25:42;;;17219:43:38;;-1:-1:-1;17279:42:38;;;:24;;2324:18:42;;17279:33:38;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;17279:42:38;;;17115:213;-1:-1:-1;;;;;17115:213:38:o;16641:156::-;16754:35;;;;;;;9562:19:42;;;;9597:12;;;9590:28;;;;16754:35:38;;;;;;;;;9634:12:42;;;;16754:35:38;;16744:46;;;;;;16641:156::o;17390:230::-;17477:7;;17496:84;17520:3;17516:1;:7;17496:84;;;17558:1;-1:-1:-1;;;;;17548:11:38;:3;17552:1;17548:6;;;;;;;;:::i;:::-;;;;;;;-1:-1:-1;;;;;17548:11:38;;17544:25;;17568:1;-1:-1:-1;17561:8:38;;17544:25;17525:3;;17496:84;;;-1:-1:-1;;;17596:17:38;17390:230;-1:-1:-1;;;;17390:230:38:o;17626:263::-;17719:7;;17738:111;17758:17;;;17738:111;;;17821:7;-1:-1:-1;;;;;17800:28:38;:6;;17807:1;17800:9;;;;;;;:::i;:::-;;;;;;;;;;;;:::i;:::-;:17;;;;;;;:::i;:::-;-1:-1:-1;;;;;17800:28:38;;17796:42;;17837:1;-1:-1:-1;17830:8:38;;17796:42;17777:3;;17738:111;;11426:1547;11526:23;;11542:7;11526:23;-1:-1:-1;;;;;11573:17:38;;11559:11;11573:17;;;:8;:17;;;;;;-1:-1:-1;;;;;11573:17:38;;11626:9;;;11622:443;;;-1:-1:-1;;;;;11693:13:38;;;:38;;;11753:22;;11749:51;;;11784:16;;-1:-1:-1;;;11784:16:38;;;;;;;;;;;11749:51;11832:3;-1:-1:-1;11622:443:38;;;11881:11;11903:6;11904:5;11903:6;:::i;:::-;11881:29;;11934:4;-1:-1:-1;;;;;11928:10:38;:3;:10;11924:40;;;11947:17;;-1:-1:-1;;;11947:17:38;;;;;;;;;;;11924:40;-1:-1:-1;;;;;12020:13:38;;:19;;-1:-1:-1;11622:443:38;12075:15;12093:24;12103:7;12112:4;12093:9;:24::i;:::-;12075:42;;12127:15;12145:24;12155:7;12164:4;12145:9;:24::i;:::-;12127:42;;-1:-1:-1;;;;;;;;;;;12240:7:38;:29;;:62;;;;-1:-1:-1;;;;;;;;;;;12273:7:38;:29;;12240:62;12236:91;;;12311:16;;-1:-1:-1;;;12311:16:38;;;;;;;;;;;12236:91;-1:-1:-1;;;;;12342:9:38;;;:21;;;;;12362:1;12355:4;-1:-1:-1;;;;;12355:8:38;;12342:21;12338:545;;;12431:24;:7;12447;12431:15;:24::i;:::-;;12338:545;;;12495:4;-1:-1:-1;;;;;12495:9:38;12503:1;12495:9;12491:392;;12564:34;:7;12580;12589:8;;12564:15;:34::i;12491:392::-;12829:43;:7;12845;12854;12863:8;;12829:15;:43::i;:::-;;12491:392;-1:-1:-1;;;;;12893:17:38;;;;;;:8;:17;;;;;;;;;:24;;-1:-1:-1;;12893:24:38;-1:-1:-1;;;;;12893:24:38;;;;;;;;;12932:34;;9845:37:42;;;9827:56;;9899:18;;;9892:65;;;;12932:34:38;;9800:18:42;12932:34:38;;;;;;;11516:1457;;;;11426:1547;;;;;:::o;13037:194::-;13688:10:36;;13086:15:38;13673:26:36;;;:14;:26;;;;;;;;;13129:25:38;;;:16;:25;;;;;;13157:12;13129:40;;;;13184;;2351:25:42;;;13184:40:38;;13673:26:36;;13184:40:38;;;;;;;;13076:155;13037:194::o;16910:158::-;-1:-1:-1;;;;;17046:15:38;17040:2;17011:31;;;;-1:-1:-1;;;;;;;17011:31:38;17010:51;;16910:158::o;17986:1600::-;18116:35;;18211:23;;18321:3;-1:-1:-1;;;;;18307:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;18307:25:38;-1:-1:-1;18286:46:38;-1:-1:-1;18374:3:38;-1:-1:-1;;;;;18360:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;18360:25:38;-1:-1:-1;18342:43:38;-1:-1:-1;18395:25:38;18437:3;-1:-1:-1;;;;;18423:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;18423:25:38;-1:-1:-1;18395:53:38;-1:-1:-1;18464:9:38;18459:739;18479:14;;;18459:739;;;18514:10;18527:3;;18531:1;18527:6;;;;;;;:::i;:::-;;;;;;;18514:19;;18552:31;18558:8;18568:10;18580:2;18552:5;:31::i;:::-;18547:62;;18592:17;;-1:-1:-1;;;18592:17:38;;;;;2351:25:42;;;2324:18;;18592:17:38;2205:177:42;18547:62:38;18624:11;18638:23;18648:8;18658:2;18638:9;:23::i;:::-;18675:24;18702:18;;;:13;:18;;;;;;18624:37;;-1:-1:-1;;;;;;18702:18:38;18822:30;;18818:235;;19018:20;;-1:-1:-1;;;19018:20:38;;;;;2351:25:42;;;2324:18;;19018:20:38;2205:177:42;18818:235:38;19067:18;;;;:13;:18;;;;;:23;;-1:-1:-1;;;;;;19067:23:38;-1:-1:-1;;;;;19067:23:38;;;;;19104:15;;19122:2;;19104:15;;19113:5;;19104:15;;;;;;:::i;:::-;;;;;;:20;;;;;19166:7;;;;;18500:698;;;18495:3;;;;;18459:739;;;-1:-1:-1;19265:9:38;;19261:319;;19333:29;19379:5;-1:-1:-1;;;;;19365:20:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;19365:20:38;-1:-1:-1;19333:52:38;-1:-1:-1;19404:9:38;19399:98;19423:5;19419:1;:9;19399:98;;;19471:8;19480:1;19471:11;;;;;;;;:::i;:::-;;;;;;;19453:12;19466:1;19453:15;;;;;;;;:::i;:::-;;;;;;;;;;:29;19430:3;;19399:98;;;;19546:8;19542:2;-1:-1:-1;;;;;19515:54:38;19530:10;-1:-1:-1;;;;;19515:54:38;;19556:12;19515:54;;;;;;:::i;:::-;;;;;;;;19276:304;19261:319;18276:1310;17986:1600;;;;;;;;;:::o;19667:549::-;19890:9;19885:325;19909:15;19905:1;:19;19885:325;;;19945:12;19960:18;19979:1;19960:21;;;;;;;;:::i;:::-;;;;;;;19945:36;;19995:12;20010:31;20024:10;;20036:4;20010:13;:31::i;:::-;19995:46;;-1:-1:-1;;20059:4:38;:25;20055:57;;20093:19;;-1:-1:-1;;;20093:19:38;;-1:-1:-1;;;;;2736:32:42;;20093:19:38;;;2718:51:42;2691:18;;20093:19:38;2572:203:42;20055:57:38;20126:73;20138:4;20152:15;20168:1;20152:18;;;;;;;;:::i;:::-;;;;;;;20144:27;;;:::i;:::-;20173:10;;20184:4;20173:16;;;;;;;:::i;20126:73::-;-1:-1:-1;;19926:3:38;;19885:325;;;;19667:549;;;;;:::o;13349:2503::-;13472:26;;13529:14;;13600:3;-1:-1:-1;;;;;13586:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;13586:25:38;-1:-1:-1;13574:37:38;-1:-1:-1;13648:3:38;-1:-1:-1;;;;;13634:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;13634:25:38;-1:-1:-1;13621:38:38;-1:-1:-1;13669:43:38;13731:3;-1:-1:-1;;;;;13715:27:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;13669:73:38;-1:-1:-1;13752:29:38;13798:3;-1:-1:-1;;;;;13784:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;13784:25:38;-1:-1:-1;13752:57:38;-1:-1:-1;13893:9:38;13888:121;13908:14;;;13888:121;;;13987:3;-1:-1:-1;;;;;13973:25:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;13973:25:38;;13943:24;13968:1;13943:27;;;;;;;;:::i;:::-;;;;;;;;;;:55;13924:3;;13888:121;;;-1:-1:-1;14024:9:38;14019:1072;14039:14;;;14019:1072;;;14074:10;14087:3;;14091:1;14087:6;;;;;;;:::i;:::-;;;;;;;14074:19;;14112:31;14118:8;14128:10;14140:2;14112:5;:31::i;:::-;14107:62;;14152:17;;-1:-1:-1;;;14152:17:38;;;;;2351:25:42;;;2324:18;;14152:17:38;2205:177:42;14107:62:38;14184:11;14198:23;14208:8;14218:2;14198:9;:23::i;:::-;14235:12;14250:18;;;:13;:18;;;;;;14184:37;;-1:-1:-1;;;;;;14250:18:38;;;;14287:10;;;;14283:24;;14299:8;;;;;14283:24;-1:-1:-1;;;;;14351:18:38;;;14347:595;;14389:9;14401:33;14410:9;14421:6;14429:4;14401:8;:33::i;:::-;14389:45;;-1:-1:-1;;14456:1:38;:22;14452:476;;14522:4;14502:9;14512:6;14502:17;;;;;;;;:::i;:::-;;;;;;:24;-1:-1:-1;;;;;14502:24:38;;;-1:-1:-1;;;;;14502:24:38;;;;;14586:2;14548:24;14573:6;14548:32;;;;;;;;:::i;:::-;;;;;;;14581:1;14548:35;;;;;;;;:::i;:::-;;;;;;:40;;;;;14631:1;14610:10;14621:6;14610:18;;;;;;;;:::i;:::-;;;;;;:22;;;;;14690:8;;;;;14452:476;;;14812:2;14767:24;14792:1;14767:27;;;;;;;;:::i;:::-;;;;;;;14795:10;14806:1;14795:13;;;;;;;;:::i;:::-;;;;;;;14767:42;;;;;;;;:::i;:::-;;;;;;:47;;;;;14874:10;14885:1;14874:13;;;;;;;;:::i;:::-;;;;;;14872:15;;;;;;;;;;14452:476;14371:571;14347:595;14977:2;14956:13;:18;14970:3;14956:18;;;;;;;;;;;;:23;;;;;-1:-1:-1;;;;;14956:23:38;;;;;-1:-1:-1;;;;;14956:23:38;;;;;;15015:2;14993:12;15006:5;14993:19;;;;;;;;:::i;:::-;;;;;;:24;;;;;15059:7;;;;;14060:1031;;;14019:1072;14055:3;;14019:1072;;;-1:-1:-1;15153:9:38;15148:351;15172:6;15168:1;:10;15148:351;;;15199:31;15247:10;15258:1;15247:13;;;;;;;;:::i;:::-;;;;;;;-1:-1:-1;;;;;15233:28:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;15233:28:38;-1:-1:-1;15199:62:38;-1:-1:-1;15280:9:38;15275:127;15299:10;15310:1;15299:13;;;;;;;;:::i;:::-;;;;;;;15295:1;:17;15275:127;;;15357:24;15382:1;15357:27;;;;;;;;:::i;:::-;;;;;;;15385:1;15357:30;;;;;;;;:::i;:::-;;;;;;;15337:14;15352:1;15337:17;;;;;;;;:::i;:::-;;;;;;;;;;:50;15314:3;;15275:127;;;;15463:8;15449:9;15459:1;15449:12;;;;;;;;:::i;:::-;;;;;;;-1:-1:-1;;;;;15420:68:38;15437:10;-1:-1:-1;;;;;15420:68:38;;15473:14;15420:68;;;;;;:::i;:::-;;;;;;;;-1:-1:-1;15180:3:38;;15148:351;;;-1:-1:-1;15561:9:38;;15557:289;;15586:32;15635:5;-1:-1:-1;;;;;15621:20:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;15621:20:38;-1:-1:-1;15586:55:38;-1:-1:-1;15660:9:38;15655:105;15679:5;15675:1;:9;15655:105;;;15730:12;15743:1;15730:15;;;;;;;;:::i;:::-;;;;;;;15709;15725:1;15709:18;;;;;;;;:::i;:::-;;;;;;;;;;:36;15686:3;;15655:105;;;;15809:8;15805:2;-1:-1:-1;;;;;15778:57:38;15793:10;-1:-1:-1;;;;;15778:57:38;;15819:15;15778:57;;;;;;:::i;:::-;;;;;;;;15572:274;15557:289;13564:2288;;13349:2503;;;;;;;;;:::o;15925:498::-;16120:9;16115:302;16139:6;16135:1;:10;16115:302;;;16166:12;16181:9;16191:1;16181:12;;;;;;;;:::i;:::-;;;;;;;16166:27;;16207:12;16222:31;16236:10;;16248:4;16222:13;:31::i;:::-;16207:46;;-1:-1:-1;;16271:4:38;:25;16267:57;;16305:19;;-1:-1:-1;;;16305:19:38;;-1:-1:-1;;;;;2736:32:42;;16305:19:38;;;2718:51:42;2691:18;;16305:19:38;2572:203:42;16267:57:38;16338:68;16350:4;16364:10;16375:1;16364:13;;;;;;;;:::i;16338:68::-;-1:-1:-1;;16147:3:38;;16115:302;;1985:1288:36;2060:7;-1:-1:-1;;;;;;;;;;;2083:4:36;:26;2079:247;;2132:33;;-1:-1:-1;;;2132:33:36;;;;;;;;;;;2079:247;2186:4;2194:1;2186:9;2182:144;;2218:18;;-1:-1:-1;;;2218:18:36;;;;;;;;;;;2182:144;12726:4;12749:17;;;:11;;;:17;;;;;;:22;2253:73;;2296:19;;-1:-1:-1;;;2296:19:36;;;;;;;;;;;2253:73;2352:9;;2436:10;;;;;;2700:9;;2352;;2700;:::i;:::-;2683:14;2688:9;2683:1;:14;:::i;:::-;:26;2679:68;;;2725:11;;;:::i;:::-;;;2679:68;2757:10;;;:22;;;2805:4;2790:12;2820:317;2852:9;2844:5;:17;2820:317;;;2893:5;2884;:14;;2902:1;2883:20;2907:1;2883:25;2879:184;;2935:46;;;;;;;;-1:-1:-1;2952:21:36;;;:14;;;:21;;;;;;;;;2935:46;;;;;;;;;-1:-1:-1;;;2935:46:36;;:10;;:15;;:46;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2928:53;;2879:184;;;3020:21;;;;:14;;;:21;;;;;:28;;;2879:184;3105:7;;2820:317;;;-1:-1:-1;3159:7:36;;;:::i;:::-;3147:19;;;:9;3177:25;;;:14;;;:25;;;;;;;;:32;;;3219:17;;;:11;;;;:17;;;;;;:25;;;;-1:-1:-1;3177:32:36;1985:1288;-1:-1:-1;1985:1288:36:o;12163:213::-;12304:7;12330:39;12338:4;12344:7;12353:1;12356:12;;12330:7;:39::i;:::-;12323:46;12163:213;-1:-1:-1;;;;;12163:213:36:o;9389:2241::-;9555:7;-1:-1:-1;;;;;;;;;;;9578:7:36;:29;9574:264;;9630:33;;-1:-1:-1;;;9630:33:36;;;;;;;;;;;9574:264;12726:4;12749:17;;;:11;;;:17;;;;;;9680:158;;9727:18;;-1:-1:-1;;;9727:18:36;;;;;;;;;;;9680:158;12726:4;12749:17;;;:11;;;:17;;;;;;:22;9762:76;;9808:19;;-1:-1:-1;;;9808:19:36;;;;;;;;;;;9762:76;9848:13;9864:23;9873:4;9879:7;9864:8;:23::i;:::-;9985:9;;9848:39;;-1:-1:-1;9912:7:36;;9947;;9897:12;;9985:13;;9997:1;;9985:13;:::i;:::-;10096:10;;;;9965:33;;-1:-1:-1;10008:9:36;;;10117:1222;10149:9;10141:5;:17;10117:1222;;;10190:5;10181;:14;;10199:1;10180:20;10204:1;10180:25;10176:1089;;-1:-1:-1;;;;;;;;;;;10229:12:36;;10242:1;10229:15;;;;;;;:::i;:::-;;;;;;;:37;10225:124;;10297:33;;-1:-1:-1;;;10297:33:36;;;;;;;;;;;10225:124;10374:10;:15;:40;;;;;;;;10391:12;;10404:1;10391:15;;;;;;;:::i;:::-;;;;;;;10374:40;;;;10408:4;10374:40;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;10367:47;;10442:10;:15;:43;;;;;;;;10459:12;;10472:1;10459:15;;;;;;;:::i;:::-;;;;;;;10442:43;;;;10476:7;10442:43;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;10432:53;;10536:3;;;;;10176:1089;;;10600:14;;;10618:18;;;10600:36;10596:655;;-1:-1:-1;;;;;;;;;;;10664:12:36;;10677:1;10664:15;;;;;;;:::i;:::-;;;;;;;:37;10660:132;;10736:33;;-1:-1:-1;;;10736:33:36;;;;;;;;;;;10660:132;10818:21;;;;:14;;;:21;;;;;;:32;;;10814:115;;10878:21;;;;:14;;;:21;;;;;:28;;;10814:115;10958:10;:15;:40;;;;;;;;10975:4;10958:40;;;;10981:12;;10994:1;10981:15;;;;;;;:::i;:::-;;;;;;;10958:40;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;10951:47;;11030:10;:15;:43;;;;;;;;11047:7;11030:43;;;;11056:12;;11069:1;11056:15;;;;;;;:::i;:::-;;;;;;;11030:43;;;;;;;;;;;;;;;;;;:::i;10596:655::-;11204:21;;;;:14;;;:21;;;;;:28;;;10596:655;11307:7;;10117:1222;;;-1:-1:-1;13688:10:36;;;;13647:7;13673:26;;;:14;;;:26;;;;;;11353:7;:22;11349:79;;11398:19;;-1:-1:-1;;;11398:19:36;;;;;;;;;;;11349:79;11438:25;;;;:14;;;:25;;;;;:32;;;11485:12;;11481:86;;11536:20;;;;:11;;;:20;;;;;;;11513;;;;;:43;11481:86;-1:-1:-1;;;11600:1:36;11577:20;;;:11;;;:20;;;;;:24;-1:-1:-1;11619:4:36;-1:-1:-1;;9389:2241:36;;;;;;;:::o;13130:223::-;13211:7;13234:17;;;:11;;;:17;;;;;;:22;;13230:78;;13279:18;;-1:-1:-1;;;13279:18:36;;;;;;;;;;;13230:78;13325:17;;;;:11;;;:17;;;;;;:21;;13345:1;;13325:21;:::i;14:367:42:-;77:8;87:6;141:3;134:4;126:6;122:17;118:27;108:55;;159:1;156;149:12;108:55;-1:-1:-1;182:20:42;;-1:-1:-1;;;;;214:30:42;;211:50;;;257:1;254;247:12;211:50;294:4;286:6;282:17;270:29;;354:3;347:4;337:6;334:1;330:14;322:6;318:27;314:38;311:47;308:67;;;371:1;368;361:12;308:67;14:367;;;;;:::o;386:913::-;548:6;556;564;572;580;633:2;621:9;612:7;608:23;604:32;601:52;;;649:1;646;639:12;601:52;694:23;;;-1:-1:-1;792:2:42;777:18;;764:32;-1:-1:-1;;;;;808:30:42;;805:50;;;851:1;848;841:12;805:50;890:70;952:7;943:6;932:9;928:22;890:70;:::i;:::-;979:8;;-1:-1:-1;864:96:42;-1:-1:-1;;1067:2:42;1052:18;;1039:32;-1:-1:-1;;;;;1083:32:42;;1080:52;;;1128:1;1125;1118:12;1080:52;1167:72;1231:7;1220:8;1209:9;1205:24;1167:72;:::i;:::-;386:913;;;;-1:-1:-1;386:913:42;;-1:-1:-1;1258:8:42;;1141:98;386:913;-1:-1:-1;;;386:913:42:o;1304:131::-;-1:-1:-1;;;;;1379:31:42;;1369:42;;1359:70;;1425:1;1422;1415:12;1440:247;1499:6;1552:2;1540:9;1531:7;1527:23;1523:32;1520:52;;;1568:1;1565;1558:12;1520:52;1607:9;1594:23;1626:31;1651:5;1626:31;:::i;1974:226::-;2033:6;2086:2;2074:9;2065:7;2061:23;2057:32;2054:52;;;2102:1;2099;2092:12;2054:52;-1:-1:-1;2147:23:42;;1974:226;-1:-1:-1;1974:226:42:o;2780:551::-;2875:6;2883;2891;2944:2;2932:9;2923:7;2919:23;2915:32;2912:52;;;2960:1;2957;2950:12;2912:52;3005:23;;;-1:-1:-1;3103:2:42;3088:18;;3075:32;-1:-1:-1;;;;;3119:30:42;;3116:50;;;3162:1;3159;3152:12;3116:50;3201:70;3263:7;3254:6;3243:9;3239:22;3201:70;:::i;:::-;2780:551;;3290:8;;-1:-1:-1;3175:96:42;;-1:-1:-1;;;;2780:551:42:o;3336:611::-;3526:2;3538:21;;;3608:13;;3511:18;;;3630:22;;;3478:4;;3709:15;;;3683:2;3668:18;;;3478:4;3752:169;3766:6;3763:1;3760:13;3752:169;;;3827:13;;3815:26;;3870:2;3896:15;;;;3861:12;;;;3788:1;3781:9;3752:169;;;-1:-1:-1;3938:3:42;;3336:611;-1:-1:-1;;;;;3336:611:42:o;3952:637::-;4142:2;4154:21;;;4224:13;;4127:18;;;4246:22;;;4094:4;;4325:15;;;4299:2;4284:18;;;4094:4;4368:195;4382:6;4379:1;4376:13;4368:195;;;4447:13;;-1:-1:-1;;;;;4443:39:42;4431:52;;4512:2;4538:15;;;;4503:12;;;;4479:1;4397:9;4368:195;;4594:1387;4801:6;4809;4817;4825;4833;4841;4849;4857;4910:3;4898:9;4889:7;4885:23;4881:33;4878:53;;;4927:1;4924;4917:12;4878:53;4966:9;4953:23;4985:31;5010:5;4985:31;:::i;:::-;5035:5;-1:-1:-1;5113:2:42;5098:18;;5085:32;;-1:-1:-1;5194:2:42;5179:18;;5166:32;-1:-1:-1;;;;;5210:30:42;;5207:50;;;5253:1;5250;5243:12;5207:50;5292:70;5354:7;5345:6;5334:9;5330:22;5292:70;:::i;:::-;5381:8;;-1:-1:-1;5266:96:42;-1:-1:-1;;5469:2:42;5454:18;;5441:32;-1:-1:-1;;;;;5485:32:42;;5482:52;;;5530:1;5527;5520:12;5482:52;5569:72;5633:7;5622:8;5611:9;5607:24;5569:72;:::i;:::-;5660:8;;-1:-1:-1;5543:98:42;-1:-1:-1;;5748:3:42;5733:19;;5720:33;-1:-1:-1;;;;;5765:32:42;;5762:52;;;5810:1;5807;5800:12;5762:52;5849:72;5913:7;5902:8;5891:9;5887:24;5849:72;:::i;:::-;4594:1387;;;;-1:-1:-1;4594:1387:42;;-1:-1:-1;4594:1387:42;;;;;;5940:8;-1:-1:-1;;;4594:1387:42:o;7589:127::-;7650:10;7645:3;7641:20;7638:1;7631:31;7681:4;7678:1;7671:15;7705:4;7702:1;7695:15;7721:127;7782:10;7777:3;7773:20;7770:1;7763:31;7813:4;7810:1;7803:15;7837:4;7834:1;7827:15;7853:127;7914:10;7909:3;7905:20;7902:1;7895:31;7945:4;7942:1;7935:15;7969:4;7966:1;7959:15;7985:136;8020:3;-1:-1:-1;;;8041:22:42;;8038:48;;8066:18;;:::i;:::-;-1:-1:-1;8106:1:42;8102:13;;7985:136::o;8126:328::-;8223:4;8281:11;8268:25;8375:2;8371:7;8360:8;8344:14;8340:29;8336:43;8316:18;8312:68;8302:96;;8394:1;8391;8384:12;8302:96;8415:33;;;;;8126:328;-1:-1:-1;;8126:328:42:o;8459:545::-;8552:4;8558:6;8618:11;8605:25;8712:2;8708:7;8697:8;8681:14;8677:29;8673:43;8653:18;8649:68;8639:96;;8731:1;8728;8721:12;8639:96;8758:33;;8810:20;;;-1:-1:-1;;;;;;8842:30:42;;8839:50;;;8885:1;8882;8875:12;8839:50;8918:4;8906:17;;-1:-1:-1;8969:1:42;8965:14;;;8949;8945:35;8935:46;;8932:66;;;8994:1;8991;8984:12;9009:135;9048:3;9069:17;;;9066:43;;9089:18;;:::i;:::-;-1:-1:-1;9136:1:42;9125:13;;9009:135::o;9149:251::-;9219:6;9272:2;9260:9;9251:7;9247:23;9243:32;9240:52;;;9288:1;9285;9278:12;9240:52;9320:9;9314:16;9339:31;9364:5;9339:31;:::i;9968:125::-;10033:9;;;10054:10;;;10051:36;;;10067:18;;:::i;10098:375::-;10186:1;10204:5;10218:249;10239:1;10229:8;10226:15;10218:249;;;10289:4;10284:3;10280:14;10274:4;10271:24;10268:50;;;10298:18;;:::i;:::-;10348:1;10338:8;10334:16;10331:49;;;10362:16;;;;10331:49;10445:1;10441:16;;;;;10401:15;;10218:249;;;10098:375;;;;;;:::o;10478:902::-;10527:5;10557:8;10547:80;;-1:-1:-1;10598:1:42;10612:5;;10547:80;10646:4;10636:76;;-1:-1:-1;10683:1:42;10697:5;;10636:76;10728:4;10746:1;10741:59;;;;10814:1;10809:174;;;;10721:262;;10741:59;10771:1;10762:10;;10785:5;;;10809:174;10846:3;10836:8;10833:17;10830:43;;;10853:18;;:::i;:::-;-1:-1:-1;;10909:1:42;10895:16;;10968:5;;10721:262;;11067:2;11057:8;11054:16;11048:3;11042:4;11039:13;11035:36;11029:2;11019:8;11016:16;11011:2;11005:4;11002:12;10998:35;10995:77;10992:203;;;-1:-1:-1;11104:19:42;;;11180:5;;10992:203;11227:42;-1:-1:-1;;11252:8:42;11246:4;11227:42;:::i;:::-;11305:6;11301:1;11297:6;11293:19;11284:7;11281:32;11278:58;;;11316:18;;:::i;:::-;11354:20;;10478:902;-1:-1:-1;;;10478:902:42:o;11385:131::-;11445:5;11474:36;11501:8;11495:4;11474:36;:::i;11521:479::-;11709:2;11694:18;;11698:9;11789:6;11667:4;11823:171;11837:4;11834:1;11831:11;11823:171;;;11896:13;;11884:26;;11939:4;11930:14;;;;11967:17;;;;11857:1;11850:9;11823:171;;;11827:3;;;11521:479;;;;:::o;12005:184::-;12075:6;12128:2;12116:9;12107:7;12103:23;12099:32;12096:52;;;12144:1;12141;12134:12;12096:52;-1:-1:-1;12167:16:42;;12005:184;-1:-1:-1;12005:184:42:o;12194:128::-;12261:9;;;12282:11;;;12279:37;;;12296:18;;:::i","linkReferences":{"lib/poseidon-solidity/contracts/PoseidonT3.sol":{"PoseidonT3":[{"start":6842,"length":20},{"start":7335,"length":20},{"start":7499,"length":20},{"start":7796,"length":20},{"start":7960,"length":20}]}}},"methodIdentifiers":{"collections(uint256)":"fdbda0ec","computeLeaf(address)":"7b6c7c71","delegate(address,uint256,uint256[],uint256[],(address,uint256[])[])":"d0424d7c","getCensusRoot()":"c1da8691","getDelegations(address)":"31cc13ba","getNFTids(uint256,uint256[])":"8498be04","getRootBlockNumber(uint256)":"650e5fcf","getTokenDelegations(uint256,uint256[])":"c333b0f1","rootBlockNumbers(uint256)":"41a38282","tokenDelegate(bytes32)":"66e12bef","undelegate(uint256,uint256[],(address,uint256[])[])":"1b1db502","updateDelegation(address,uint256,uint256[],(address,uint256[])[],uint256[])":"d4d10661","weightOf(address)":"dd4bc101"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"tokens\",\"type\":\"address[]\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"AlreadyDelegated\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidCollection\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"InvalidTokenId\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LeafAlreadyExists\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LeafCannotBeZero\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LeafDoesNotExist\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LeafGreaterThanSnarkScalarField\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoNewDelegations\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"NotDelegated\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"NotTokenOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"ProofRequired\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"WeightOverflow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"WeightUnderflow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"WrongSiblingNodes\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAddress\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"newRoot\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"blockNumber\",\"type\":\"uint256\"}],\"name\":\"CensusRootUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Delegated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256[]\",\"name\":\"tokenIds\",\"type\":\"uint256[]\"}],\"name\":\"DelegatedBatch\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Undelegated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256[]\",\"name\":\"tokenIds\",\"type\":\"uint256[]\"}],\"name\":\"UndelegatedBatch\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint88\",\"name\":\"previousWeight\",\"type\":\"uint88\"},{\"indexed\":false,\"internalType\":\"uint88\",\"name\":\"newWeight\",\"type\":\"uint88\"}],\"name\":\"WeightChanged\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"collections\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"computeLeaf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"ids\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"toProof\",\"type\":\"uint256[]\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint256[]\",\"name\":\"siblings\",\"type\":\"uint256[]\"}],\"internalType\":\"struct DavinciDao.ProofInput[]\",\"name\":\"fromProofs\",\"type\":\"tuple[]\"}],\"name\":\"delegate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCensusRoot\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getDelegations\",\"outputs\":[{\"internalType\":\"uint88\",\"name\":\"weight\",\"type\":\"uint88\"},{\"internalType\":\"uint256\",\"name\":\"leaf\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"candidateIds\",\"type\":\"uint256[]\"}],\"name\":\"getNFTids\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"root\",\"type\":\"uint256\"}],\"name\":\"getRootBlockNumber\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"ids\",\"type\":\"uint256[]\"}],\"name\":\"getTokenDelegations\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"delegates\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"rootBlockNumbers\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"tokenDelegate\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"ids\",\"type\":\"uint256[]\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint256[]\",\"name\":\"siblings\",\"type\":\"uint256[]\"}],\"internalType\":\"struct DavinciDao.ProofInput[]\",\"name\":\"proofs\",\"type\":\"tuple[]\"}],\"name\":\"undelegate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nftIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"ids\",\"type\":\"uint256[]\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint256[]\",\"name\":\"siblings\",\"type\":\"uint256[]\"}],\"internalType\":\"struct DavinciDao.ProofInput[]\",\"name\":\"fromProofs\",\"type\":\"tuple[]\"},{\"internalType\":\"uint256[]\",\"name\":\"toProof\",\"type\":\"uint256[]\"}],\"name\":\"updateDelegation\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"weightOf\",\"outputs\":[{\"internalType\":\"uint88\",\"name\":\"\",\"type\":\"uint88\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Features:      - On-chain Merkle tree construction using Lean-IMT (automatic root updates)      - Map-based root history (root => blockNumber) for unlimited storage      - Event emission for The Graph indexing      - Proof-based delegation for security and gas efficiency\",\"kind\":\"dev\",\"methods\":{\"constructor\":{\"params\":{\"tokens\":\"Array of ERC-721 token contract addresses.\"}},\"delegate(address,uint256,uint256[],uint256[],(address,uint256[])[])\":{\"params\":{\"fromProofs\":\"Proofs for clearing inherited delegations (if any tokens were previously delegated by another owner).\",\"ids\":\"Token IDs to delegate.\",\"nftIndex\":\"Index into `collections`.\",\"to\":\"Receiver address (voter).\",\"toProof\":\"Merkle path for `to`'s existing leaf (empty if `to` has zero weight).\"}},\"getNFTids(uint256,uint256[])\":{\"details\":\"Gas optimized: uses tokenDelegate mapping instead of _ownerDelegated\"},\"getRootBlockNumber(uint256)\":{\"params\":{\"root\":\"The census root to verify.\"},\"returns\":{\"_0\":\"blockNumber The block number when this root was set (0 if never set).\"}},\"undelegate(uint256,uint256[],(address,uint256[])[])\":{\"params\":{\"ids\":\"Token IDs to revoke delegation for.\",\"nftIndex\":\"Index into `collections`.\",\"proofs\":\"Proofs for each *affected* delegate address (unique and batched).\"}},\"updateDelegation(address,uint256,uint256[],(address,uint256[])[],uint256[])\":{\"params\":{\"fromProofs\":\"Proofs for each *old* delegate reduced (unique and batched).\",\"ids\":\"Token IDs to move.\",\"nftIndex\":\"Index into `collections`.\",\"to\":\"New delegate.\",\"toProof\":\"Proof for `to` (empty if `to` had zero weight).\"}}},\"title\":\"DavinciDAO Census Contract\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"computeLeaf(address)\":{\"notice\":\"Helper to compute the packed `(address||weight)` leaf for `account`.\"},\"delegate(address,uint256,uint256[],uint256[],(address,uint256[])[])\":{\"notice\":\"Delegate voting power from owned NFTs to `to`.\"},\"getCensusRoot()\":{\"notice\":\"Current census Merkle root (Lean-IMT).\"},\"getDelegations(address)\":{\"notice\":\"Convenience accessor: current weight and packed leaf value for `account`.\"},\"getNFTids(uint256,uint256[])\":{\"notice\":\"Returns token IDs that are delegated and **still currently owned** by `msg.sender`\"},\"getRootBlockNumber(uint256)\":{\"notice\":\"Check if a root has been valid at some point and get its block number.\"},\"getTokenDelegations(uint256,uint256[])\":{\"notice\":\"Vectorized mapping lookup for (nftIndex, ids) => delegate address (0 if none).\"},\"undelegate(uint256,uint256[],(address,uint256[])[])\":{\"notice\":\"Undelegate voting power for given token IDs (caller must be current owner).\"},\"updateDelegation(address,uint256,uint256[],(address,uint256[])[],uint256[])\":{\"notice\":\"Move delegation of given IDs to a new address `to` (caller must own the NFTs).\"}},\"notice\":\"Maintains an on-chain Merkle tree for NFT-based voting power delegation.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/DavinciDao.sol\":\"DavinciDao\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":poseidon-solidity/=lib/poseidon-solidity/contracts/\",\":zk-kit.solidity/=lib/zk-kit.solidity/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol\":{\"keccak256\":\"0xf78f05f3b8c9f75570e85300d7b4600d7f6f6a198449273f31d44c1641adb46f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e28b872613b45e0e801d4995aa4380be2531147bfe2d85c1d6275f1de514fba3\",\"dweb:/ipfs/QmeeFcfShHYaS3BdgVj78nxR28ZaVUwbvr66ud8bT6kzw9\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x8891738ffe910f0cf2da09566928589bf5d63f4524dd734fd9cedbac3274dd5c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://971f954442df5c2ef5b5ebf1eb245d7105d9fbacc7386ee5c796df1d45b21617\",\"dweb:/ipfs/QmadRjHbkicwqwwh61raUEapaVEtaLMcYbQZWs9gUkgj3u\"]},\"lib/poseidon-solidity/contracts/PoseidonT3.sol\":{\"keccak256\":\"0x0102caa303bbc6690508f3615604f7730789ed990058c9513a87ccb30e4835be\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1fe7291d5f998eaf7dfe37961b8a8e72f60cf79a7a34459efa5683ca3a702971\",\"dweb:/ipfs/QmQExqgvNEPKLq15rNygqmthUnAPWgTm4m3Bb5BCExwHF1\"]},\"lib/zk-kit.solidity/packages/lean-imt/contracts/Constants.sol\":{\"keccak256\":\"0xb1944a1d9f63069b2f22260935adb2d11546f82fbb7d12d853a90134a92f4b5b\",\"license\":\"UNLICENSED\",\"urls\":[\"bzz-raw://6929c862576cb9dacaf21e514737c2f47cb6122cbee466b08c08aa62c028e68d\",\"dweb:/ipfs/QmZKaBc3gv9xVoAC8ETQYMdPdimuhn569nKUSTXqhSS4as\"]},\"lib/zk-kit.solidity/packages/lean-imt/contracts/InternalLeanIMT.sol\":{\"keccak256\":\"0x06fb193da33416296beebb6fe4059d088ea8fa21f1ba0f724c329465be4d1ea9\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://84a37f14d37893cec4d948f4d2a923bc1514a9ffa3dc4f790f652b4a0f0d2589\",\"dweb:/ipfs/QmcxM7Hx9n7P6th1S6wbJkYiixp157Via883jkpKZjA6vU\"]},\"src/DavinciDao.sol\":{\"keccak256\":\"0xbb6f5cbdc7464ea93121833ffa8c275b348ffcd05fac1f554060d358721b0b45\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://23a32ef1a73eeb884ea9871ee1162df7de2a31f30b0ae39adae5a2c9b37b87e2\",\"dweb:/ipfs/Qmb1Eec2jmX5RJvLSHk2wR8wxzXTJqAdZW3kcff2E4139T\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"type":"error","name":"AlreadyDelegated"},{"inputs":[],"type":"error","name":"InvalidCollection"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"type":"error","name":"InvalidTokenId"},{"inputs":[],"type":"error","name":"LeafAlreadyExists"},{"inputs":[],"type":"error","name":"LeafCannotBeZero"},{"inputs":[],"type":"error","name":"LeafDoesNotExist"},{"inputs":[],"type":"error","name":"LeafGreaterThanSnarkScalarField"},{"inputs":[],"type":"error","name":"NoNewDelegations"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"type":"error","name":"NotDelegated"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"type":"error","name":"NotTokenOwner"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"type":"error","name":"ProofRequired"},{"inputs":[],"type":"error","name":"WeightOverflow"},{"inputs":[],"type":"error","name":"WeightUnderflow"},{"inputs":[],"type":"error","name":"WrongSiblingNodes"},{"inputs":[],"type":"error","name":"ZeroAddress"},{"inputs":[{"internalType":"uint256","name":"newRoot","type":"uint256","indexed":true},{"internalType":"uint256","name":"blockNumber","type":"uint256","indexed":false}],"type":"event","name":"CensusRootUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"address","name":"to","type":"address","indexed":true},{"internalType":"uint256","name":"nftIndex","type":"uint256","indexed":true},{"internalType":"uint256","name":"tokenId","type":"uint256","indexed":false}],"type":"event","name":"Delegated","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"address","name":"to","type":"address","indexed":true},{"internalType":"uint256","name":"nftIndex","type":"uint256","indexed":true},{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]","indexed":false}],"type":"event","name":"DelegatedBatch","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"address","name":"from","type":"address","indexed":true},{"internalType":"uint256","name":"nftIndex","type":"uint256","indexed":true},{"internalType":"uint256","name":"tokenId","type":"uint256","indexed":false}],"type":"event","name":"Undelegated","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"address","name":"from","type":"address","indexed":true},{"internalType":"uint256","name":"nftIndex","type":"uint256","indexed":true},{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]","indexed":false}],"type":"event","name":"UndelegatedBatch","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"uint88","name":"previousWeight","type":"uint88","indexed":false},{"internalType":"uint88","name":"newWeight","type":"uint88","indexed":false}],"type":"event","name":"WeightChanged","anonymous":false},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"collections","outputs":[{"internalType":"address","name":"token","type":"address"}]},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"computeLeaf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"nftIndex","type":"uint256"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"toProof","type":"uint256[]"},{"internalType":"struct DavinciDao.ProofInput[]","name":"fromProofs","type":"tuple[]","components":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256[]","name":"siblings","type":"uint256[]"}]}],"stateMutability":"nonpayable","type":"function","name":"delegate"},{"inputs":[],"stateMutability":"view","type":"function","name":"getCensusRoot","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"getDelegations","outputs":[{"internalType":"uint88","name":"weight","type":"uint88"},{"internalType":"uint256","name":"leaf","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"nftIndex","type":"uint256"},{"internalType":"uint256[]","name":"candidateIds","type":"uint256[]"}],"stateMutability":"view","type":"function","name":"getNFTids","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}]},{"inputs":[{"internalType":"uint256","name":"root","type":"uint256"}],"stateMutability":"view","type":"function","name":"getRootBlockNumber","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"nftIndex","type":"uint256"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"stateMutability":"view","type":"function","name":"getTokenDelegations","outputs":[{"internalType":"address[]","name":"delegates","type":"address[]"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"rootBlockNumbers","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"tokenDelegate","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"nftIndex","type":"uint256"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"struct DavinciDao.ProofInput[]","name":"proofs","type":"tuple[]","components":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256[]","name":"siblings","type":"uint256[]"}]}],"stateMutability":"nonpayable","type":"function","name":"undelegate"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"nftIndex","type":"uint256"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"struct DavinciDao.ProofInput[]","name":"fromProofs","type":"tuple[]","components":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256[]","name":"siblings","type":"uint256[]"}]},{"internalType":"uint256[]","name":"toProof","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function","name":"updateDelegation"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"weightOf","outputs":[{"internalType":"uint88","name":"","type":"uint88"}]}],"devdoc":{"kind":"dev","methods":{"constructor":{"params":{"tokens":"Array of ERC-721 token contract addresses."}},"delegate(address,uint256,uint256[],uint256[],(address,uint256[])[])":{"params":{"fromProofs":"Proofs for clearing inherited delegations (if any tokens were previously delegated by another owner).","ids":"Token IDs to delegate.","nftIndex":"Index into `collections`.","to":"Receiver address (voter).","toProof":"Merkle path for `to`'s existing leaf (empty if `to` has zero weight)."}},"getNFTids(uint256,uint256[])":{"details":"Gas optimized: uses tokenDelegate mapping instead of _ownerDelegated"},"getRootBlockNumber(uint256)":{"params":{"root":"The census root to verify."},"returns":{"_0":"blockNumber The block number when this root was set (0 if never set)."}},"undelegate(uint256,uint256[],(address,uint256[])[])":{"params":{"ids":"Token IDs to revoke delegation for.","nftIndex":"Index into `collections`.","proofs":"Proofs for each *affected* delegate address (unique and batched)."}},"updateDelegation(address,uint256,uint256[],(address,uint256[])[],uint256[])":{"params":{"fromProofs":"Proofs for each *old* delegate reduced (unique and batched).","ids":"Token IDs to move.","nftIndex":"Index into `collections`.","to":"New delegate.","toProof":"Proof for `to` (empty if `to` had zero weight)."}}},"version":1},"userdoc":{"kind":"user","methods":{"computeLeaf(address)":{"notice":"Helper to compute the packed `(address||weight)` leaf for `account`."},"delegate(address,uint256,uint256[],uint256[],(address,uint256[])[])":{"notice":"Delegate voting power from owned NFTs to `to`."},"getCensusRoot()":{"notice":"Current census Merkle root (Lean-IMT)."},"getDelegations(address)":{"notice":"Convenience accessor: current weight and packed leaf value for `account`."},"getNFTids(uint256,uint256[])":{"notice":"Returns token IDs that are delegated and **still currently owned** by `msg.sender`"},"getRootBlockNumber(uint256)":{"notice":"Check if a root has been valid at some point and get its block number."},"getTokenDelegations(uint256,uint256[])":{"notice":"Vectorized mapping lookup for (nftIndex, ids) => delegate address (0 if none)."},"undelegate(uint256,uint256[],(address,uint256[])[])":{"notice":"Undelegate voting power for given token IDs (caller must be current owner)."},"updateDelegation(address,uint256,uint256[],(address,uint256[])[],uint256[])":{"notice":"Move delegation of given IDs to a new address `to` (caller must own the NFTs)."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","poseidon-solidity/=lib/poseidon-solidity/contracts/","zk-kit.solidity/=lib/zk-kit.solidity/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/DavinciDao.sol":"DavinciDao"},"evmVersion":"prague","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol":{"keccak256":"0xf78f05f3b8c9f75570e85300d7b4600d7f6f6a198449273f31d44c1641adb46f","urls":["bzz-raw://e28b872613b45e0e801d4995aa4380be2531147bfe2d85c1d6275f1de514fba3","dweb:/ipfs/QmeeFcfShHYaS3BdgVj78nxR28ZaVUwbvr66ud8bT6kzw9"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x8891738ffe910f0cf2da09566928589bf5d63f4524dd734fd9cedbac3274dd5c","urls":["bzz-raw://971f954442df5c2ef5b5ebf1eb245d7105d9fbacc7386ee5c796df1d45b21617","dweb:/ipfs/QmadRjHbkicwqwwh61raUEapaVEtaLMcYbQZWs9gUkgj3u"],"license":"MIT"},"lib/poseidon-solidity/contracts/PoseidonT3.sol":{"keccak256":"0x0102caa303bbc6690508f3615604f7730789ed990058c9513a87ccb30e4835be","urls":["bzz-raw://1fe7291d5f998eaf7dfe37961b8a8e72f60cf79a7a34459efa5683ca3a702971","dweb:/ipfs/QmQExqgvNEPKLq15rNygqmthUnAPWgTm4m3Bb5BCExwHF1"],"license":"MIT"},"lib/zk-kit.solidity/packages/lean-imt/contracts/Constants.sol":{"keccak256":"0xb1944a1d9f63069b2f22260935adb2d11546f82fbb7d12d853a90134a92f4b5b","urls":["bzz-raw://6929c862576cb9dacaf21e514737c2f47cb6122cbee466b08c08aa62c028e68d","dweb:/ipfs/QmZKaBc3gv9xVoAC8ETQYMdPdimuhn569nKUSTXqhSS4as"],"license":"UNLICENSED"},"lib/zk-kit.solidity/packages/lean-imt/contracts/InternalLeanIMT.sol":{"keccak256":"0x06fb193da33416296beebb6fe4059d088ea8fa21f1ba0f724c329465be4d1ea9","urls":["bzz-raw://84a37f14d37893cec4d948f4d2a923bc1514a9ffa3dc4f790f652b4a0f0d2589","dweb:/ipfs/QmcxM7Hx9n7P6th1S6wbJkYiixp157Via883jkpKZjA6vU"],"license":"MIT"},"src/DavinciDao.sol":{"keccak256":"0xbb6f5cbdc7464ea93121833ffa8c275b348ffcd05fac1f554060d358721b0b45","urls":["bzz-raw://23a32ef1a73eeb884ea9871ee1162df7de2a31f30b0ae39adae5a2c9b37b87e2","dweb:/ipfs/Qmb1Eec2jmX5RJvLSHk2wR8wxzXTJqAdZW3kcff2E4139T"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/DavinciDao.sol","id":49152,"exportedSymbols":{"DavinciDao":[49151],"IERC721":[40909],"InternalLeanIMT":[46989],"LeanIMTData":[46138],"SNARK_SCALAR_FIELD":[46119]},"nodeType":"SourceUnit","src":"32:20187:38","nodes":[{"id":47268,"nodeType":"PragmaDirective","src":"32:24:38","nodes":[],"literals":["solidity","^","0.8",".24"]},{"id":47270,"nodeType":"ImportDirective","src":"92:82:38","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol","file":"openzeppelin-contracts/contracts/token/ERC721/IERC721.sol","nameLocation":"-1:-1:-1","scope":49152,"sourceUnit":40910,"symbolAliases":[{"foreign":{"id":47269,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40909,"src":"100:7:38","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":47273,"nodeType":"ImportDirective","src":"222:109:38","nodes":[],"absolutePath":"lib/zk-kit.solidity/packages/lean-imt/contracts/InternalLeanIMT.sol","file":"zk-kit.solidity/packages/lean-imt/contracts/InternalLeanIMT.sol","nameLocation":"-1:-1:-1","scope":49152,"sourceUnit":46990,"symbolAliases":[{"foreign":{"id":47271,"name":"InternalLeanIMT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46989,"src":"230:15:38","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":47272,"name":"LeanIMTData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46138,"src":"247:11:38","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":47275,"nodeType":"ImportDirective","src":"332:93:38","nodes":[],"absolutePath":"lib/zk-kit.solidity/packages/lean-imt/contracts/Constants.sol","file":"zk-kit.solidity/packages/lean-imt/contracts/Constants.sol","nameLocation":"-1:-1:-1","scope":49152,"sourceUnit":46120,"symbolAliases":[{"foreign":{"id":47274,"name":"SNARK_SCALAR_FIELD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46119,"src":"340:18:38","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":49151,"nodeType":"ContractDefinition","src":"847:19371:38","nodes":[{"id":47280,"nodeType":"UsingForDirective","src":"873:38:38","nodes":[],"global":false,"libraryName":{"id":47277,"name":"InternalLeanIMT","nameLocations":["879:15:38"],"nodeType":"IdentifierPath","referencedDeclaration":46989,"src":"879:15:38"},"typeName":{"id":47279,"nodeType":"UserDefinedTypeName","pathNode":{"id":47278,"name":"LeanIMTData","nameLocations":["899:11:38"],"nodeType":"IdentifierPath","referencedDeclaration":46138,"src":"899:11:38"},"referencedDeclaration":46138,"src":"899:11:38","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage_ptr","typeString":"struct LeanIMTData"}}},{"id":47283,"nodeType":"StructDefinition","src":"961:68:38","nodes":[],"canonicalName":"DavinciDao.Collection","members":[{"constant":false,"id":47282,"mutability":"mutable","name":"token","nameLocation":"997:5:38","nodeType":"VariableDeclaration","scope":47283,"src":"989:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47281,"name":"address","nodeType":"ElementaryTypeName","src":"989:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"name":"Collection","nameLocation":"968:10:38","scope":49151,"visibility":"public"},{"id":47290,"nodeType":"StructDefinition","src":"1118:78:38","nodes":[],"canonicalName":"DavinciDao.ProofInput","documentation":{"id":47284,"nodeType":"StructuredDocumentation","src":"1035:78:38","text":"@notice Proof for a specific account's leaf (required by _update/_remove)."},"members":[{"constant":false,"id":47286,"mutability":"mutable","name":"account","nameLocation":"1154:7:38","nodeType":"VariableDeclaration","scope":47290,"src":"1146:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47285,"name":"address","nodeType":"ElementaryTypeName","src":"1146:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47289,"mutability":"mutable","name":"siblings","nameLocation":"1181:8:38","nodeType":"VariableDeclaration","scope":47290,"src":"1171:18:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47287,"name":"uint256","nodeType":"ElementaryTypeName","src":"1171:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47288,"nodeType":"ArrayTypeName","src":"1171:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"name":"ProofInput","nameLocation":"1125:10:38","scope":49151,"visibility":"public"},{"id":47294,"nodeType":"VariableDeclaration","src":"1250:31:38","nodes":[],"constant":false,"functionSelector":"fdbda0ec","mutability":"mutable","name":"collections","nameLocation":"1270:11:38","scope":49151,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Collection_$47283_storage_$dyn_storage","typeString":"struct DavinciDao.Collection[]"},"typeName":{"baseType":{"id":47292,"nodeType":"UserDefinedTypeName","pathNode":{"id":47291,"name":"Collection","nameLocations":["1250:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47283,"src":"1250:10:38"},"referencedDeclaration":47283,"src":"1250:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_Collection_$47283_storage_ptr","typeString":"struct DavinciDao.Collection"}},"id":47293,"nodeType":"ArrayTypeName","src":"1250:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Collection_$47283_storage_$dyn_storage_ptr","typeString":"struct DavinciDao.Collection[]"}},"visibility":"public"},{"id":47297,"nodeType":"VariableDeclaration","src":"1346:27:38","nodes":[],"constant":false,"mutability":"mutable","name":"_census","nameLocation":"1366:7:38","scope":49151,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage","typeString":"struct LeanIMTData"},"typeName":{"id":47296,"nodeType":"UserDefinedTypeName","pathNode":{"id":47295,"name":"LeanIMTData","nameLocations":["1346:11:38"],"nodeType":"IdentifierPath","referencedDeclaration":46138,"src":"1346:11:38"},"referencedDeclaration":46138,"src":"1346:11:38","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage_ptr","typeString":"struct LeanIMTData"}},"visibility":"private"},{"id":47301,"nodeType":"VariableDeclaration","src":"1379:42:38","nodes":[],"constant":false,"functionSelector":"dd4bc101","mutability":"mutable","name":"weightOf","nameLocation":"1413:8:38","scope":49151,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint88_$","typeString":"mapping(address => uint88)"},"typeName":{"id":47300,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":47298,"name":"address","nodeType":"ElementaryTypeName","src":"1387:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1379:26:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint88_$","typeString":"mapping(address => uint88)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":47299,"name":"uint88","nodeType":"ElementaryTypeName","src":"1398:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}},"visibility":"public"},{"id":47305,"nodeType":"VariableDeclaration","src":"1588:48:38","nodes":[],"constant":false,"functionSelector":"66e12bef","mutability":"mutable","name":"tokenDelegate","nameLocation":"1623:13:38","scope":49151,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"},"typeName":{"id":47304,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":47302,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1596:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"1588:27:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":47303,"name":"address","nodeType":"ElementaryTypeName","src":"1607:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}},"visibility":"public"},{"id":47309,"nodeType":"VariableDeclaration","src":"1828:51:38","nodes":[],"constant":false,"functionSelector":"41a38282","mutability":"mutable","name":"rootBlockNumbers","nameLocation":"1863:16:38","scope":49151,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"typeName":{"id":47308,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":47306,"name":"uint256","nodeType":"ElementaryTypeName","src":"1836:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1828:27:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":47307,"name":"uint256","nodeType":"ElementaryTypeName","src":"1847:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":47319,"nodeType":"EventDefinition","src":"1920:102:38","nodes":[],"anonymous":false,"eventSelector":"24d7bda8602b916d64417f0dbfe2e2e88ec9b1157bd9f596dfdb91ba26624e04","name":"Delegated","nameLocation":"1926:9:38","parameters":{"id":47318,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47311,"indexed":true,"mutability":"mutable","name":"owner","nameLocation":"1952:5:38","nodeType":"VariableDeclaration","scope":47319,"src":"1936:21:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47310,"name":"address","nodeType":"ElementaryTypeName","src":"1936:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47313,"indexed":true,"mutability":"mutable","name":"to","nameLocation":"1975:2:38","nodeType":"VariableDeclaration","scope":47319,"src":"1959:18:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47312,"name":"address","nodeType":"ElementaryTypeName","src":"1959:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47315,"indexed":true,"mutability":"mutable","name":"nftIndex","nameLocation":"1995:8:38","nodeType":"VariableDeclaration","scope":47319,"src":"1979:24:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47314,"name":"uint256","nodeType":"ElementaryTypeName","src":"1979:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47317,"indexed":false,"mutability":"mutable","name":"tokenId","nameLocation":"2013:7:38","nodeType":"VariableDeclaration","scope":47319,"src":"2005:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47316,"name":"uint256","nodeType":"ElementaryTypeName","src":"2005:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1935:86:38"}},{"id":47329,"nodeType":"EventDefinition","src":"2027:106:38","nodes":[],"anonymous":false,"eventSelector":"3aace7340547de7b9156593a7652dc07ee900cea3fd8f82cb6c9d38b40829802","name":"Undelegated","nameLocation":"2033:11:38","parameters":{"id":47328,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47321,"indexed":true,"mutability":"mutable","name":"owner","nameLocation":"2061:5:38","nodeType":"VariableDeclaration","scope":47329,"src":"2045:21:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47320,"name":"address","nodeType":"ElementaryTypeName","src":"2045:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47323,"indexed":true,"mutability":"mutable","name":"from","nameLocation":"2084:4:38","nodeType":"VariableDeclaration","scope":47329,"src":"2068:20:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47322,"name":"address","nodeType":"ElementaryTypeName","src":"2068:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47325,"indexed":true,"mutability":"mutable","name":"nftIndex","nameLocation":"2106:8:38","nodeType":"VariableDeclaration","scope":47329,"src":"2090:24:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47324,"name":"uint256","nodeType":"ElementaryTypeName","src":"2090:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47327,"indexed":false,"mutability":"mutable","name":"tokenId","nameLocation":"2124:7:38","nodeType":"VariableDeclaration","scope":47329,"src":"2116:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47326,"name":"uint256","nodeType":"ElementaryTypeName","src":"2116:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2044:88:38"}},{"id":47340,"nodeType":"EventDefinition","src":"2138:110:38","nodes":[],"anonymous":false,"eventSelector":"3fe8c5ff8038f409c0e155c58dd77a1d041dc9654f80d372adac435fb5837c30","name":"DelegatedBatch","nameLocation":"2144:14:38","parameters":{"id":47339,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47331,"indexed":true,"mutability":"mutable","name":"owner","nameLocation":"2175:5:38","nodeType":"VariableDeclaration","scope":47340,"src":"2159:21:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47330,"name":"address","nodeType":"ElementaryTypeName","src":"2159:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47333,"indexed":true,"mutability":"mutable","name":"to","nameLocation":"2198:2:38","nodeType":"VariableDeclaration","scope":47340,"src":"2182:18:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47332,"name":"address","nodeType":"ElementaryTypeName","src":"2182:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47335,"indexed":true,"mutability":"mutable","name":"nftIndex","nameLocation":"2218:8:38","nodeType":"VariableDeclaration","scope":47340,"src":"2202:24:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47334,"name":"uint256","nodeType":"ElementaryTypeName","src":"2202:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47338,"indexed":false,"mutability":"mutable","name":"tokenIds","nameLocation":"2238:8:38","nodeType":"VariableDeclaration","scope":47340,"src":"2228:18:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47336,"name":"uint256","nodeType":"ElementaryTypeName","src":"2228:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47337,"nodeType":"ArrayTypeName","src":"2228:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"2158:89:38"}},{"id":47351,"nodeType":"EventDefinition","src":"2253:114:38","nodes":[],"anonymous":false,"eventSelector":"56017da320cb00880eb511a7183d19ed30ca4f9bcf6bf1dffa02ccb76da33915","name":"UndelegatedBatch","nameLocation":"2259:16:38","parameters":{"id":47350,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47342,"indexed":true,"mutability":"mutable","name":"owner","nameLocation":"2292:5:38","nodeType":"VariableDeclaration","scope":47351,"src":"2276:21:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47341,"name":"address","nodeType":"ElementaryTypeName","src":"2276:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47344,"indexed":true,"mutability":"mutable","name":"from","nameLocation":"2315:4:38","nodeType":"VariableDeclaration","scope":47351,"src":"2299:20:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47343,"name":"address","nodeType":"ElementaryTypeName","src":"2299:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47346,"indexed":true,"mutability":"mutable","name":"nftIndex","nameLocation":"2337:8:38","nodeType":"VariableDeclaration","scope":47351,"src":"2321:24:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47345,"name":"uint256","nodeType":"ElementaryTypeName","src":"2321:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47349,"indexed":false,"mutability":"mutable","name":"tokenIds","nameLocation":"2357:8:38","nodeType":"VariableDeclaration","scope":47351,"src":"2347:18:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47347,"name":"uint256","nodeType":"ElementaryTypeName","src":"2347:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47348,"nodeType":"ArrayTypeName","src":"2347:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"2275:91:38"}},{"id":47359,"nodeType":"EventDefinition","src":"2372:86:38","nodes":[],"anonymous":false,"eventSelector":"ee82339564ef9f72eccdbb67b46a62198422524ab9c7e3fcbdd194fa1b46461b","name":"WeightChanged","nameLocation":"2378:13:38","parameters":{"id":47358,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47353,"indexed":true,"mutability":"mutable","name":"account","nameLocation":"2408:7:38","nodeType":"VariableDeclaration","scope":47359,"src":"2392:23:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47352,"name":"address","nodeType":"ElementaryTypeName","src":"2392:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47355,"indexed":false,"mutability":"mutable","name":"previousWeight","nameLocation":"2424:14:38","nodeType":"VariableDeclaration","scope":47359,"src":"2417:21:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":47354,"name":"uint88","nodeType":"ElementaryTypeName","src":"2417:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"},{"constant":false,"id":47357,"indexed":false,"mutability":"mutable","name":"newWeight","nameLocation":"2447:9:38","nodeType":"VariableDeclaration","scope":47359,"src":"2440:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":47356,"name":"uint88","nodeType":"ElementaryTypeName","src":"2440:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"}],"src":"2391:66:38"}},{"id":47365,"nodeType":"EventDefinition","src":"2463:70:38","nodes":[],"anonymous":false,"eventSelector":"ac84e1f746682c16ccc7cac6060f24ba0d81b110e6dc4cfa95bbfae24a5fc07d","name":"CensusRootUpdated","nameLocation":"2469:17:38","parameters":{"id":47364,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47361,"indexed":true,"mutability":"mutable","name":"newRoot","nameLocation":"2503:7:38","nodeType":"VariableDeclaration","scope":47365,"src":"2487:23:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47360,"name":"uint256","nodeType":"ElementaryTypeName","src":"2487:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47363,"indexed":false,"mutability":"mutable","name":"blockNumber","nameLocation":"2520:11:38","nodeType":"VariableDeclaration","scope":47365,"src":"2512:19:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47362,"name":"uint256","nodeType":"ElementaryTypeName","src":"2512:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2486:46:38"}},{"id":47367,"nodeType":"ErrorDefinition","src":"2580:26:38","nodes":[],"errorSelector":"a2e2e542","name":"InvalidCollection","nameLocation":"2586:17:38","parameters":{"id":47366,"nodeType":"ParameterList","parameters":[],"src":"2603:2:38"}},{"id":47371,"nodeType":"ErrorDefinition","src":"2611:38:38","nodes":[],"errorSelector":"ed15e6cf","name":"InvalidTokenId","nameLocation":"2617:14:38","parameters":{"id":47370,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47369,"mutability":"mutable","name":"tokenId","nameLocation":"2640:7:38","nodeType":"VariableDeclaration","scope":47371,"src":"2632:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47368,"name":"uint256","nodeType":"ElementaryTypeName","src":"2632:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2631:17:38"}},{"id":47373,"nodeType":"ErrorDefinition","src":"2654:20:38","nodes":[],"errorSelector":"d92e233d","name":"ZeroAddress","nameLocation":"2660:11:38","parameters":{"id":47372,"nodeType":"ParameterList","parameters":[],"src":"2671:2:38"}},{"id":47375,"nodeType":"ErrorDefinition","src":"2679:25:38","nodes":[],"errorSelector":"fcea6b35","name":"NoNewDelegations","nameLocation":"2685:16:38","parameters":{"id":47374,"nodeType":"ParameterList","parameters":[],"src":"2701:2:38"}},{"id":47379,"nodeType":"ErrorDefinition","src":"2709:37:38","nodes":[],"errorSelector":"1c6ba68a","name":"NotTokenOwner","nameLocation":"2715:13:38","parameters":{"id":47378,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47377,"mutability":"mutable","name":"tokenId","nameLocation":"2737:7:38","nodeType":"VariableDeclaration","scope":47379,"src":"2729:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47376,"name":"uint256","nodeType":"ElementaryTypeName","src":"2729:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2728:17:38"}},{"id":47383,"nodeType":"ErrorDefinition","src":"2751:40:38","nodes":[],"errorSelector":"e47eb23c","name":"AlreadyDelegated","nameLocation":"2757:16:38","parameters":{"id":47382,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47381,"mutability":"mutable","name":"tokenId","nameLocation":"2782:7:38","nodeType":"VariableDeclaration","scope":47383,"src":"2774:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47380,"name":"uint256","nodeType":"ElementaryTypeName","src":"2774:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2773:17:38"}},{"id":47387,"nodeType":"ErrorDefinition","src":"2796:36:38","nodes":[],"errorSelector":"93404ce6","name":"NotDelegated","nameLocation":"2802:12:38","parameters":{"id":47386,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47385,"mutability":"mutable","name":"tokenId","nameLocation":"2823:7:38","nodeType":"VariableDeclaration","scope":47387,"src":"2815:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47384,"name":"uint256","nodeType":"ElementaryTypeName","src":"2815:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2814:17:38"}},{"id":47391,"nodeType":"ErrorDefinition","src":"2837:37:38","nodes":[],"errorSelector":"e0a76e85","name":"ProofRequired","nameLocation":"2843:13:38","parameters":{"id":47390,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47389,"mutability":"mutable","name":"account","nameLocation":"2865:7:38","nodeType":"VariableDeclaration","scope":47391,"src":"2857:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47388,"name":"address","nodeType":"ElementaryTypeName","src":"2857:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2856:17:38"}},{"id":47393,"nodeType":"ErrorDefinition","src":"2879:24:38","nodes":[],"errorSelector":"f6260952","name":"WeightUnderflow","nameLocation":"2885:15:38","parameters":{"id":47392,"nodeType":"ParameterList","parameters":[],"src":"2900:2:38"}},{"id":47395,"nodeType":"ErrorDefinition","src":"2908:23:38","nodes":[],"errorSelector":"d90fcde4","name":"WeightOverflow","nameLocation":"2914:14:38","parameters":{"id":47394,"nodeType":"ParameterList","parameters":[],"src":"2928:2:38"}},{"id":47441,"nodeType":"FunctionDefinition","src":"3042:247:38","nodes":[],"body":{"id":47440,"nodeType":"Block","src":"3079:210:38","nodes":[],"statements":[{"assignments":[47403],"declarations":[{"constant":false,"id":47403,"mutability":"mutable","name":"n","nameLocation":"3097:1:38","nodeType":"VariableDeclaration","scope":47440,"src":"3089:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47402,"name":"uint256","nodeType":"ElementaryTypeName","src":"3089:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47406,"initialValue":{"expression":{"id":47404,"name":"tokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47399,"src":"3101:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":47405,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3108:6:38","memberName":"length","nodeType":"MemberAccess","src":"3101:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3089:25:38"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47410,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47408,"name":"n","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47403,"src":"3132:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":47409,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3136:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3132:5:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"62616420636f6e666967","id":47411,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3139:12:38","typeDescriptions":{"typeIdentifier":"t_stringliteral_9f3c57966d32735b4777c18a6ff6b648d70a176901d2e78a9175631e922db383","typeString":"literal_string \"bad config\""},"value":"bad config"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_9f3c57966d32735b4777c18a6ff6b648d70a176901d2e78a9175631e922db383","typeString":"literal_string \"bad config\""}],"id":47407,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"3124:7:38","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":47412,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3124:28:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47413,"nodeType":"ExpressionStatement","src":"3124:28:38"},{"body":{"id":47438,"nodeType":"Block","src":"3194:89:38","statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":47424,"name":"collections","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47294,"src":"3208:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Collection_$47283_storage_$dyn_storage","typeString":"struct DavinciDao.Collection storage ref[] storage ref"}},"id":47426,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3220:4:38","memberName":"push","nodeType":"MemberAccess","src":"3208:16:38","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_struct$_Collection_$47283_storage_$dyn_storage_ptr_$returns$_t_struct$_Collection_$47283_storage_$attached_to$_t_array$_t_struct$_Collection_$47283_storage_$dyn_storage_ptr_$","typeString":"function (struct DavinciDao.Collection storage ref[] storage pointer) returns (struct DavinciDao.Collection storage ref)"}},"id":47427,"isConstant":false,"isLValue":true,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3208:18:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Collection_$47283_storage","typeString":"struct DavinciDao.Collection storage ref"}},"id":47428,"nodeType":"ExpressionStatement","src":"3208:18:38"},{"expression":{"id":47436,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":47429,"name":"collections","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47294,"src":"3240:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Collection_$47283_storage_$dyn_storage","typeString":"struct DavinciDao.Collection storage ref[] storage ref"}},"id":47431,"indexExpression":{"id":47430,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47415,"src":"3252:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3240:14:38","typeDescriptions":{"typeIdentifier":"t_struct$_Collection_$47283_storage","typeString":"struct DavinciDao.Collection storage ref"}},"id":47432,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3255:5:38","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":47282,"src":"3240:20:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":47433,"name":"tokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47399,"src":"3263:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":47435,"indexExpression":{"id":47434,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47415,"src":"3270:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3263:9:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3240:32:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47437,"nodeType":"ExpressionStatement","src":"3240:32:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47420,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47418,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47415,"src":"3182:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":47419,"name":"n","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47403,"src":"3186:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3182:5:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47439,"initializationExpression":{"assignments":[47415],"declarations":[{"constant":false,"id":47415,"mutability":"mutable","name":"i","nameLocation":"3175:1:38","nodeType":"VariableDeclaration","scope":47439,"src":"3167:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47414,"name":"uint256","nodeType":"ElementaryTypeName","src":"3167:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47417,"initialValue":{"hexValue":"30","id":47416,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3179:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"3167:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47422,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"3189:3:38","subExpression":{"id":47421,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47415,"src":"3191:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47423,"nodeType":"ExpressionStatement","src":"3189:3:38"},"nodeType":"ForStatement","src":"3162:121:38"}]},"documentation":{"id":47396,"nodeType":"StructuredDocumentation","src":"2977:60:38","text":"@param tokens Array of ERC-721 token contract addresses."},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":47400,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47399,"mutability":"mutable","name":"tokens","nameLocation":"3071:6:38","nodeType":"VariableDeclaration","scope":47441,"src":"3054:23:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":47397,"name":"address","nodeType":"ElementaryTypeName","src":"3054:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47398,"nodeType":"ArrayTypeName","src":"3054:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"src":"3053:25:38"},"returnParameters":{"id":47401,"nodeType":"ParameterList","parameters":[],"src":"3079:0:38"},"scope":49151,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":47452,"nodeType":"FunctionDefinition","src":"3396:96:38","nodes":[],"body":{"id":47451,"nodeType":"Block","src":"3453:39:38","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":47447,"name":"_census","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47297,"src":"3470:7:38","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage","typeString":"struct LeanIMTData storage ref"}},"id":47448,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3478:5:38","memberName":"_root","nodeType":"MemberAccess","referencedDeclaration":46988,"src":"3470:13:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_LeanIMTData_$46138_storage_ptr_$returns$_t_uint256_$attached_to$_t_struct$_LeanIMTData_$46138_storage_ptr_$","typeString":"function (struct LeanIMTData storage pointer) view returns (uint256)"}},"id":47449,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3470:15:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":47446,"id":47450,"nodeType":"Return","src":"3463:22:38"}]},"documentation":{"id":47442,"nodeType":"StructuredDocumentation","src":"3341:50:38","text":"@notice Current census Merkle root (Lean-IMT)."},"functionSelector":"c1da8691","implemented":true,"kind":"function","modifiers":[],"name":"getCensusRoot","nameLocation":"3405:13:38","parameters":{"id":47443,"nodeType":"ParameterList","parameters":[],"src":"3418:2:38"},"returnParameters":{"id":47446,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47445,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47452,"src":"3444:7:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47444,"name":"uint256","nodeType":"ElementaryTypeName","src":"3444:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3443:9:38"},"scope":49151,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47465,"nodeType":"FunctionDefinition","src":"3718:120:38","nodes":[],"body":{"id":47464,"nodeType":"Block","src":"3792:46:38","nodes":[],"statements":[{"expression":{"baseExpression":{"id":47460,"name":"rootBlockNumbers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47309,"src":"3809:16:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":47462,"indexExpression":{"id":47461,"name":"root","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47455,"src":"3826:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3809:22:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":47459,"id":47463,"nodeType":"Return","src":"3802:29:38"}]},"documentation":{"id":47453,"nodeType":"StructuredDocumentation","src":"3498:215:38","text":"@notice Check if a root has been valid at some point and get its block number.\n @param root The census root to verify.\n @return blockNumber The block number when this root was set (0 if never set)."},"functionSelector":"650e5fcf","implemented":true,"kind":"function","modifiers":[],"name":"getRootBlockNumber","nameLocation":"3727:18:38","parameters":{"id":47456,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47455,"mutability":"mutable","name":"root","nameLocation":"3754:4:38","nodeType":"VariableDeclaration","scope":47465,"src":"3746:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47454,"name":"uint256","nodeType":"ElementaryTypeName","src":"3746:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3745:14:38"},"returnParameters":{"id":47459,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47458,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47465,"src":"3783:7:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47457,"name":"uint256","nodeType":"ElementaryTypeName","src":"3783:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3782:9:38"},"scope":49151,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47489,"nodeType":"FunctionDefinition","src":"3934:179:38","nodes":[],"body":{"id":47488,"nodeType":"Block","src":"4027:86:38","nodes":[],"statements":[{"expression":{"id":47479,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":47475,"name":"weight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47471,"src":"4037:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":47476,"name":"weightOf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47301,"src":"4046:8:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint88_$","typeString":"mapping(address => uint88)"}},"id":47478,"indexExpression":{"id":47477,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47468,"src":"4055:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4046:17:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"src":"4037:26:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"id":47480,"nodeType":"ExpressionStatement","src":"4037:26:38"},{"expression":{"id":47486,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":47481,"name":"leaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47473,"src":"4073:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":47483,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47468,"src":"4090:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47484,"name":"weight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47471,"src":"4099:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":47482,"name":"_packLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48803,"src":"4080:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_uint88_$returns$_t_uint256_$","typeString":"function (address,uint88) pure returns (uint256)"}},"id":47485,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4080:26:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4073:33:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47487,"nodeType":"ExpressionStatement","src":"4073:33:38"}]},"documentation":{"id":47466,"nodeType":"StructuredDocumentation","src":"3844:85:38","text":"@notice Convenience accessor: current weight and packed leaf value for `account`."},"functionSelector":"31cc13ba","implemented":true,"kind":"function","modifiers":[],"name":"getDelegations","nameLocation":"3943:14:38","parameters":{"id":47469,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47468,"mutability":"mutable","name":"account","nameLocation":"3966:7:38","nodeType":"VariableDeclaration","scope":47489,"src":"3958:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47467,"name":"address","nodeType":"ElementaryTypeName","src":"3958:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3957:17:38"},"returnParameters":{"id":47474,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47471,"mutability":"mutable","name":"weight","nameLocation":"4005:6:38","nodeType":"VariableDeclaration","scope":47489,"src":"3998:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":47470,"name":"uint88","nodeType":"ElementaryTypeName","src":"3998:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"},{"constant":false,"id":47473,"mutability":"mutable","name":"leaf","nameLocation":"4021:4:38","nodeType":"VariableDeclaration","scope":47489,"src":"4013:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47472,"name":"uint256","nodeType":"ElementaryTypeName","src":"4013:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3997:29:38"},"scope":49151,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47541,"nodeType":"FunctionDefinition","src":"4214:367:38","nodes":[],"body":{"id":47540,"nodeType":"Block","src":"4364:217:38","nodes":[],"statements":[{"expression":{"arguments":[{"id":47502,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47492,"src":"4386:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47501,"name":"_checkIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48758,"src":"4374:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$__$","typeString":"function (uint256) view"}},"id":47503,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4374:21:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47504,"nodeType":"ExpressionStatement","src":"4374:21:38"},{"expression":{"id":47512,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":47505,"name":"delegates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47499,"src":"4405:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":47509,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47495,"src":"4431:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47510,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4435:6:38","memberName":"length","nodeType":"MemberAccess","src":"4431:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47508,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"4417:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_address_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (address[] memory)"},"typeName":{"baseType":{"id":47506,"name":"address","nodeType":"ElementaryTypeName","src":"4421:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47507,"nodeType":"ArrayTypeName","src":"4421:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}}},"id":47511,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4417:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"src":"4405:37:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":47513,"nodeType":"ExpressionStatement","src":"4405:37:38"},{"body":{"id":47538,"nodeType":"Block","src":"4493:82:38","statements":[{"expression":{"id":47536,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47525,"name":"delegates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47499,"src":"4507:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":47527,"indexExpression":{"id":47526,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47515,"src":"4517:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4507:12:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":47528,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47305,"src":"4522:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":47535,"indexExpression":{"arguments":[{"id":47530,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47492,"src":"4546:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"baseExpression":{"id":47531,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47495,"src":"4556:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47533,"indexExpression":{"id":47532,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47515,"src":"4560:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4556:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47529,"name":"_tokenKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48776,"src":"4536:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_bytes32_$","typeString":"function (uint256,uint256) pure returns (bytes32)"}},"id":47534,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4536:27:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4522:42:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4507:57:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47537,"nodeType":"ExpressionStatement","src":"4507:57:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47521,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47518,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47515,"src":"4472:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":47519,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47495,"src":"4476:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47520,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4480:6:38","memberName":"length","nodeType":"MemberAccess","src":"4476:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4472:14:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47539,"initializationExpression":{"assignments":[47515],"declarations":[{"constant":false,"id":47515,"mutability":"mutable","name":"i","nameLocation":"4465:1:38","nodeType":"VariableDeclaration","scope":47539,"src":"4457:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47514,"name":"uint256","nodeType":"ElementaryTypeName","src":"4457:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47517,"initialValue":{"hexValue":"30","id":47516,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4469:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4457:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47523,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"4488:3:38","subExpression":{"id":47522,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47515,"src":"4490:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47524,"nodeType":"ExpressionStatement","src":"4488:3:38"},"nodeType":"ForStatement","src":"4452:123:38"}]},"documentation":{"id":47490,"nodeType":"StructuredDocumentation","src":"4119:90:38","text":"@notice Vectorized mapping lookup for (nftIndex, ids) => delegate address (0 if none)."},"functionSelector":"c333b0f1","implemented":true,"kind":"function","modifiers":[],"name":"getTokenDelegations","nameLocation":"4223:19:38","parameters":{"id":47496,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47492,"mutability":"mutable","name":"nftIndex","nameLocation":"4251:8:38","nodeType":"VariableDeclaration","scope":47541,"src":"4243:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47491,"name":"uint256","nodeType":"ElementaryTypeName","src":"4243:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47495,"mutability":"mutable","name":"ids","nameLocation":"4280:3:38","nodeType":"VariableDeclaration","scope":47541,"src":"4261:22:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47493,"name":"uint256","nodeType":"ElementaryTypeName","src":"4261:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47494,"nodeType":"ArrayTypeName","src":"4261:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"4242:42:38"},"returnParameters":{"id":47500,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47499,"mutability":"mutable","name":"delegates","nameLocation":"4349:9:38","nodeType":"VariableDeclaration","scope":47541,"src":"4332:26:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":47497,"name":"address","nodeType":"ElementaryTypeName","src":"4332:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47498,"nodeType":"ArrayTypeName","src":"4332:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"src":"4331:28:38"},"scope":49151,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47674,"nodeType":"FunctionDefinition","src":"4768:964:38","nodes":[],"body":{"id":47673,"nodeType":"Block","src":"4879:853:38","nodes":[],"statements":[{"expression":{"arguments":[{"id":47554,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47544,"src":"4901:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47553,"name":"_checkIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48758,"src":"4889:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$__$","typeString":"function (uint256) view"}},"id":47555,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4889:21:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47556,"nodeType":"ExpressionStatement","src":"4889:21:38"},{"assignments":[47558],"declarations":[{"constant":false,"id":47558,"mutability":"mutable","name":"count","nameLocation":"4928:5:38","nodeType":"VariableDeclaration","scope":47673,"src":"4920:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47557,"name":"uint256","nodeType":"ElementaryTypeName","src":"4920:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47559,"nodeType":"VariableDeclarationStatement","src":"4920:13:38"},{"body":{"id":47605,"nodeType":"Block","src":"4993:346:38","statements":[{"assignments":[47572],"declarations":[{"constant":false,"id":47572,"mutability":"mutable","name":"id","nameLocation":"5015:2:38","nodeType":"VariableDeclaration","scope":47605,"src":"5007:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47571,"name":"uint256","nodeType":"ElementaryTypeName","src":"5007:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47576,"initialValue":{"baseExpression":{"id":47573,"name":"candidateIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47547,"src":"5020:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47575,"indexExpression":{"id":47574,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47561,"src":"5033:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5020:15:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5007:28:38"},{"assignments":[47578],"declarations":[{"constant":false,"id":47578,"mutability":"mutable","name":"key","nameLocation":"5057:3:38","nodeType":"VariableDeclaration","scope":47605,"src":"5049:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47577,"name":"bytes32","nodeType":"ElementaryTypeName","src":"5049:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":47583,"initialValue":{"arguments":[{"id":47580,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47544,"src":"5073:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47581,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47572,"src":"5083:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47579,"name":"_tokenKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48776,"src":"5063:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_bytes32_$","typeString":"function (uint256,uint256) pure returns (bytes32)"}},"id":47582,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5063:23:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"5049:37:38"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":47598,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":47591,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"id":47584,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47305,"src":"5170:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":47586,"indexExpression":{"id":47585,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47578,"src":"5184:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5170:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":47589,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5200:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":47588,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5192:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47587,"name":"address","nodeType":"ElementaryTypeName","src":"5192:7:38","typeDescriptions":{}}},"id":47590,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5192:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5170:32:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"arguments":[{"id":47593,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47544,"src":"5212:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":47594,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5222:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47595,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5226:6:38","memberName":"sender","nodeType":"MemberAccess","src":"5222:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47596,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47572,"src":"5234:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47592,"name":"_owns","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48833,"src":"5206:5:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256,address,uint256) view returns (bool)"}},"id":47597,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5206:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5170:67:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47604,"nodeType":"IfStatement","src":"5166:163:38","trueBody":{"id":47603,"nodeType":"Block","src":"5239:90:38","statements":[{"id":47602,"nodeType":"UncheckedBlock","src":"5257:58:38","statements":[{"expression":{"id":47600,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"5289:7:38","subExpression":{"id":47599,"name":"count","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47558,"src":"5291:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47601,"nodeType":"ExpressionStatement","src":"5289:7:38"}]}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47567,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47564,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47561,"src":"4963:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":47565,"name":"candidateIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47547,"src":"4967:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47566,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4980:6:38","memberName":"length","nodeType":"MemberAccess","src":"4967:19:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4963:23:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47606,"initializationExpression":{"assignments":[47561],"declarations":[{"constant":false,"id":47561,"mutability":"mutable","name":"i","nameLocation":"4956:1:38","nodeType":"VariableDeclaration","scope":47606,"src":"4948:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47560,"name":"uint256","nodeType":"ElementaryTypeName","src":"4948:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47563,"initialValue":{"hexValue":"30","id":47562,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4960:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4948:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47569,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"4988:3:38","subExpression":{"id":47568,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47561,"src":"4990:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47570,"nodeType":"ExpressionStatement","src":"4988:3:38"},"nodeType":"ForStatement","src":"4943:396:38"},{"assignments":[47611],"declarations":[{"constant":false,"id":47611,"mutability":"mutable","name":"out","nameLocation":"5365:3:38","nodeType":"VariableDeclaration","scope":47673,"src":"5348:20:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47609,"name":"uint256","nodeType":"ElementaryTypeName","src":"5348:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47610,"nodeType":"ArrayTypeName","src":"5348:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":47617,"initialValue":{"arguments":[{"id":47615,"name":"count","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47558,"src":"5385:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47614,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"5371:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":47612,"name":"uint256","nodeType":"ElementaryTypeName","src":"5375:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47613,"nodeType":"ArrayTypeName","src":"5375:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":47616,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5371:20:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"5348:43:38"},{"assignments":[47619],"declarations":[{"constant":false,"id":47619,"mutability":"mutable","name":"k","nameLocation":"5409:1:38","nodeType":"VariableDeclaration","scope":47673,"src":"5401:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47618,"name":"uint256","nodeType":"ElementaryTypeName","src":"5401:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47620,"nodeType":"VariableDeclarationStatement","src":"5401:9:38"},{"body":{"id":47669,"nodeType":"Block","src":"5470:236:38","statements":[{"assignments":[47633],"declarations":[{"constant":false,"id":47633,"mutability":"mutable","name":"id","nameLocation":"5492:2:38","nodeType":"VariableDeclaration","scope":47669,"src":"5484:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47632,"name":"uint256","nodeType":"ElementaryTypeName","src":"5484:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47637,"initialValue":{"baseExpression":{"id":47634,"name":"candidateIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47547,"src":"5497:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47636,"indexExpression":{"id":47635,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47622,"src":"5510:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5497:15:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5484:28:38"},{"assignments":[47639],"declarations":[{"constant":false,"id":47639,"mutability":"mutable","name":"key","nameLocation":"5534:3:38","nodeType":"VariableDeclaration","scope":47669,"src":"5526:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47638,"name":"bytes32","nodeType":"ElementaryTypeName","src":"5526:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":47644,"initialValue":{"arguments":[{"id":47641,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47544,"src":"5550:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47642,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47633,"src":"5560:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47640,"name":"_tokenKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48776,"src":"5540:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_bytes32_$","typeString":"function (uint256,uint256) pure returns (bytes32)"}},"id":47643,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5540:23:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"5526:37:38"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":47659,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":47652,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"id":47645,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47305,"src":"5581:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":47647,"indexExpression":{"id":47646,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47639,"src":"5595:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5581:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":47650,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5611:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":47649,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5603:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47648,"name":"address","nodeType":"ElementaryTypeName","src":"5603:7:38","typeDescriptions":{}}},"id":47651,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5603:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5581:32:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"arguments":[{"id":47654,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47544,"src":"5623:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":47655,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5633:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47656,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5637:6:38","memberName":"sender","nodeType":"MemberAccess","src":"5633:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47657,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47633,"src":"5645:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47653,"name":"_owns","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48833,"src":"5617:5:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256,address,uint256) view returns (bool)"}},"id":47658,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5617:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5581:67:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47668,"nodeType":"IfStatement","src":"5577:119:38","trueBody":{"id":47667,"nodeType":"Block","src":"5650:46:38","statements":[{"expression":{"id":47665,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47660,"name":"out","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47611,"src":"5668:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47663,"indexExpression":{"id":47662,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"5672:3:38","subExpression":{"id":47661,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47619,"src":"5672:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5668:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":47664,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47633,"src":"5679:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5668:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47666,"nodeType":"ExpressionStatement","src":"5668:13:38"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47628,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47625,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47622,"src":"5440:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":47626,"name":"candidateIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47547,"src":"5444:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47627,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5457:6:38","memberName":"length","nodeType":"MemberAccess","src":"5444:19:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5440:23:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47670,"initializationExpression":{"assignments":[47622],"declarations":[{"constant":false,"id":47622,"mutability":"mutable","name":"i","nameLocation":"5433:1:38","nodeType":"VariableDeclaration","scope":47670,"src":"5425:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47621,"name":"uint256","nodeType":"ElementaryTypeName","src":"5425:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47624,"initialValue":{"hexValue":"30","id":47623,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5437:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"5425:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47630,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"5465:3:38","subExpression":{"id":47629,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47622,"src":"5467:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47631,"nodeType":"ExpressionStatement","src":"5465:3:38"},"nodeType":"ForStatement","src":"5420:286:38"},{"expression":{"id":47671,"name":"out","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47611,"src":"5722:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"functionReturnParameters":47552,"id":47672,"nodeType":"Return","src":"5715:10:38"}]},"documentation":{"id":47542,"nodeType":"StructuredDocumentation","src":"4587:176:38","text":"@notice Returns token IDs that are delegated and **still currently owned** by `msg.sender`\n @dev Gas optimized: uses tokenDelegate mapping instead of _ownerDelegated"},"functionSelector":"8498be04","implemented":true,"kind":"function","modifiers":[],"name":"getNFTids","nameLocation":"4777:9:38","parameters":{"id":47548,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47544,"mutability":"mutable","name":"nftIndex","nameLocation":"4795:8:38","nodeType":"VariableDeclaration","scope":47674,"src":"4787:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47543,"name":"uint256","nodeType":"ElementaryTypeName","src":"4787:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47547,"mutability":"mutable","name":"candidateIds","nameLocation":"4824:12:38","nodeType":"VariableDeclaration","scope":47674,"src":"4805:31:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47545,"name":"uint256","nodeType":"ElementaryTypeName","src":"4805:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47546,"nodeType":"ArrayTypeName","src":"4805:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"4786:51:38"},"returnParameters":{"id":47552,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47551,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47674,"src":"4861:16:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47549,"name":"uint256","nodeType":"ElementaryTypeName","src":"4861:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47550,"nodeType":"ArrayTypeName","src":"4861:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"4860:18:38"},"scope":49151,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47690,"nodeType":"FunctionDefinition","src":"5823:131:38","nodes":[],"body":{"id":47689,"nodeType":"Block","src":"5893:61:38","nodes":[],"statements":[{"expression":{"arguments":[{"id":47683,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47677,"src":"5920:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"baseExpression":{"id":47684,"name":"weightOf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47301,"src":"5929:8:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint88_$","typeString":"mapping(address => uint88)"}},"id":47686,"indexExpression":{"id":47685,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47677,"src":"5938:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5929:17:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":47682,"name":"_packLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48803,"src":"5910:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_uint88_$returns$_t_uint256_$","typeString":"function (address,uint88) pure returns (uint256)"}},"id":47687,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5910:37:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":47681,"id":47688,"nodeType":"Return","src":"5903:44:38"}]},"documentation":{"id":47675,"nodeType":"StructuredDocumentation","src":"5738:80:38","text":"@notice Helper to compute the packed `(address||weight)` leaf for `account`."},"functionSelector":"7b6c7c71","implemented":true,"kind":"function","modifiers":[],"name":"computeLeaf","nameLocation":"5832:11:38","parameters":{"id":47678,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47677,"mutability":"mutable","name":"account","nameLocation":"5852:7:38","nodeType":"VariableDeclaration","scope":47690,"src":"5844:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47676,"name":"address","nodeType":"ElementaryTypeName","src":"5844:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"5843:17:38"},"returnParameters":{"id":47681,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47680,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47690,"src":"5884:7:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47679,"name":"uint256","nodeType":"ElementaryTypeName","src":"5884:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5883:9:38"},"scope":49151,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47767,"nodeType":"FunctionDefinition","src":"6583:915:38","nodes":[],"body":{"id":47766,"nodeType":"Block","src":"6772:726:38","nodes":[],"statements":[{"expression":{"arguments":[{"id":47709,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47695,"src":"6794:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47708,"name":"_checkIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48758,"src":"6782:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$__$","typeString":"function (uint256) view"}},"id":47710,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6782:21:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47711,"nodeType":"ExpressionStatement","src":"6782:21:38"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":47717,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47712,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47693,"src":"6817:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":47715,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6831:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":47714,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6823:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47713,"name":"address","nodeType":"ElementaryTypeName","src":"6823:7:38","typeDescriptions":{}}},"id":47716,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6823:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6817:16:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47721,"nodeType":"IfStatement","src":"6813:42:38","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":47718,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47373,"src":"6842:11:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":47719,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6842:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":47720,"nodeType":"RevertStatement","src":"6835:20:38"}},{"assignments":[47726,47729,47731,47733],"declarations":[{"constant":false,"id":47726,"mutability":"mutable","name":"inheritedDelegates","nameLocation":"6949:18:38","nodeType":"VariableDeclaration","scope":47766,"src":"6932:35:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":47724,"name":"address","nodeType":"ElementaryTypeName","src":"6932:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47725,"nodeType":"ArrayTypeName","src":"6932:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":47729,"mutability":"mutable","name":"inheritedCounts","nameLocation":"6986:15:38","nodeType":"VariableDeclaration","scope":47766,"src":"6969:32:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47727,"name":"uint256","nodeType":"ElementaryTypeName","src":"6969:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47728,"nodeType":"ArrayTypeName","src":"6969:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":47731,"mutability":"mutable","name":"uniqueInherited","nameLocation":"7011:15:38","nodeType":"VariableDeclaration","scope":47766,"src":"7003:23:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47730,"name":"uint256","nodeType":"ElementaryTypeName","src":"7003:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47733,"mutability":"mutable","name":"added","nameLocation":"7036:5:38","nodeType":"VariableDeclaration","scope":47766,"src":"7028:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47732,"name":"uint256","nodeType":"ElementaryTypeName","src":"7028:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47739,"initialValue":{"arguments":[{"id":47735,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47693,"src":"7073:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47736,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47695,"src":"7077:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47737,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47698,"src":"7087:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"id":47734,"name":"_processDelegations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49081,"src":"7053:19:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$_t_uint256_$","typeString":"function (address,uint256,uint256[] calldata) returns (address[] memory,uint256[] memory,uint256,uint256)"}},"id":47738,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7053:38:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$_t_uint256_$","typeString":"tuple(address[] memory,uint256[] memory,uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"6931:160:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47742,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47740,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47733,"src":"7106:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":47741,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7115:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7106:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47746,"nodeType":"IfStatement","src":"7102:41:38","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":47743,"name":"NoNewDelegations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47375,"src":"7125:16:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":47744,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7125:18:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":47745,"nodeType":"RevertStatement","src":"7118:25:38"}},{"expression":{"arguments":[{"id":47748,"name":"inheritedDelegates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47726,"src":"7262:18:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"id":47749,"name":"inheritedCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47729,"src":"7282:15:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"id":47750,"name":"uniqueInherited","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47731,"src":"7299:15:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47751,"name":"fromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47705,"src":"7316:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}],"id":47747,"name":"_applyInheritedProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49150,"src":"7240:21:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$_t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr_$returns$__$","typeString":"function (address[] memory,uint256[] memory,uint256,struct DavinciDao.ProofInput calldata[] calldata)"}},"id":47752,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7240:87:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47753,"nodeType":"ExpressionStatement","src":"7240:87:38"},{"expression":{"arguments":[{"id":47755,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47693,"src":"7400:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":47758,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47733,"src":"7411:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47757,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7404:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":47756,"name":"int256","nodeType":"ElementaryTypeName","src":"7404:6:38","typeDescriptions":{}}},"id":47759,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7404:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":47760,"name":"toProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47701,"src":"7419:7:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"id":47754,"name":"_applyDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48327,"src":"7388:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_int256_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$__$","typeString":"function (address,int256,uint256[] calldata)"}},"id":47761,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7388:39:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47762,"nodeType":"ExpressionStatement","src":"7388:39:38"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":47763,"name":"_updateRootHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48351,"src":"7471:18:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":47764,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7471:20:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47765,"nodeType":"ExpressionStatement","src":"7471:20:38"}]},"documentation":{"id":47691,"nodeType":"StructuredDocumentation","src":"6143:435:38","text":"@notice Delegate voting power from owned NFTs to `to`.\n @param to         Receiver address (voter).\n @param nftIndex   Index into `collections`.\n @param ids        Token IDs to delegate.\n @param toProof    Merkle path for `to`'s existing leaf (empty if `to` has zero weight).\n @param fromProofs Proofs for clearing inherited delegations (if any tokens were previously delegated by another owner)."},"functionSelector":"d0424d7c","implemented":true,"kind":"function","modifiers":[],"name":"delegate","nameLocation":"6592:8:38","parameters":{"id":47706,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47693,"mutability":"mutable","name":"to","nameLocation":"6618:2:38","nodeType":"VariableDeclaration","scope":47767,"src":"6610:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47692,"name":"address","nodeType":"ElementaryTypeName","src":"6610:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47695,"mutability":"mutable","name":"nftIndex","nameLocation":"6638:8:38","nodeType":"VariableDeclaration","scope":47767,"src":"6630:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47694,"name":"uint256","nodeType":"ElementaryTypeName","src":"6630:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47698,"mutability":"mutable","name":"ids","nameLocation":"6675:3:38","nodeType":"VariableDeclaration","scope":47767,"src":"6656:22:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47696,"name":"uint256","nodeType":"ElementaryTypeName","src":"6656:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47697,"nodeType":"ArrayTypeName","src":"6656:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":47701,"mutability":"mutable","name":"toProof","nameLocation":"6707:7:38","nodeType":"VariableDeclaration","scope":47767,"src":"6688:26:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47699,"name":"uint256","nodeType":"ElementaryTypeName","src":"6688:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47700,"nodeType":"ArrayTypeName","src":"6688:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":47705,"mutability":"mutable","name":"fromProofs","nameLocation":"6746:10:38","nodeType":"VariableDeclaration","scope":47767,"src":"6724:32:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput[]"},"typeName":{"baseType":{"id":47703,"nodeType":"UserDefinedTypeName","pathNode":{"id":47702,"name":"ProofInput","nameLocations":["6724:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47290,"src":"6724:10:38"},"referencedDeclaration":47290,"src":"6724:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47290_storage_ptr","typeString":"struct DavinciDao.ProofInput"}},"id":47704,"nodeType":"ArrayTypeName","src":"6724:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_storage_$dyn_storage_ptr","typeString":"struct DavinciDao.ProofInput[]"}},"visibility":"internal"}],"src":"6600:162:38"},"returnParameters":{"id":47707,"nodeType":"ParameterList","parameters":[],"src":"6772:0:38"},"scope":49151,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":48086,"nodeType":"FunctionDefinition","src":"7796:2325:38","nodes":[],"body":{"id":48085,"nodeType":"Block","src":"7897:2224:38","nodes":[],"statements":[{"expression":{"arguments":[{"id":47781,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47770,"src":"7919:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47780,"name":"_checkIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48758,"src":"7907:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$__$","typeString":"function (uint256) view"}},"id":47782,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7907:21:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47783,"nodeType":"ExpressionStatement","src":"7907:21:38"},{"assignments":[47788],"declarations":[{"constant":false,"id":47788,"mutability":"mutable","name":"delAddrs","nameLocation":"8053:8:38","nodeType":"VariableDeclaration","scope":48085,"src":"8036:25:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":47786,"name":"address","nodeType":"ElementaryTypeName","src":"8036:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47787,"nodeType":"ArrayTypeName","src":"8036:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"id":47795,"initialValue":{"arguments":[{"expression":{"id":47792,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47773,"src":"8078:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47793,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8082:6:38","memberName":"length","nodeType":"MemberAccess","src":"8078:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47791,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"8064:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_address_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (address[] memory)"},"typeName":{"baseType":{"id":47789,"name":"address","nodeType":"ElementaryTypeName","src":"8068:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47790,"nodeType":"ArrayTypeName","src":"8068:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}}},"id":47794,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8064:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"nodeType":"VariableDeclarationStatement","src":"8036:53:38"},{"assignments":[47800],"declarations":[{"constant":false,"id":47800,"mutability":"mutable","name":"counts","nameLocation":"8116:6:38","nodeType":"VariableDeclaration","scope":48085,"src":"8099:23:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47798,"name":"uint256","nodeType":"ElementaryTypeName","src":"8099:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47799,"nodeType":"ArrayTypeName","src":"8099:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":47807,"initialValue":{"arguments":[{"expression":{"id":47804,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47773,"src":"8139:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47805,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8143:6:38","memberName":"length","nodeType":"MemberAccess","src":"8139:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47803,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"8125:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":47801,"name":"uint256","nodeType":"ElementaryTypeName","src":"8129:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47802,"nodeType":"ArrayTypeName","src":"8129:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":47806,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8125:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"8099:51:38"},{"assignments":[47813],"declarations":[{"constant":false,"id":47813,"mutability":"mutable","name":"tokenIdsByDelegate","nameLocation":"8179:18:38","nodeType":"VariableDeclaration","scope":48085,"src":"8160:37:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[][]"},"typeName":{"baseType":{"baseType":{"id":47810,"name":"uint256","nodeType":"ElementaryTypeName","src":"8160:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47811,"nodeType":"ArrayTypeName","src":"8160:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":47812,"nodeType":"ArrayTypeName","src":"8160:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}},"visibility":"internal"}],"id":47821,"initialValue":{"arguments":[{"expression":{"id":47818,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47773,"src":"8216:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47819,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8220:6:38","memberName":"length","nodeType":"MemberAccess","src":"8216:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47817,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"8200:15:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory[] memory)"},"typeName":{"baseType":{"baseType":{"id":47814,"name":"uint256","nodeType":"ElementaryTypeName","src":"8204:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47815,"nodeType":"ArrayTypeName","src":"8204:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":47816,"nodeType":"ArrayTypeName","src":"8204:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}}},"id":47820,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8200:27:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"nodeType":"VariableDeclarationStatement","src":"8160:67:38"},{"assignments":[47823],"declarations":[{"constant":false,"id":47823,"mutability":"mutable","name":"unique","nameLocation":"8245:6:38","nodeType":"VariableDeclaration","scope":48085,"src":"8237:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47822,"name":"uint256","nodeType":"ElementaryTypeName","src":"8237:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47824,"nodeType":"VariableDeclarationStatement","src":"8237:14:38"},{"body":{"id":47847,"nodeType":"Block","src":"8369:74:38","statements":[{"expression":{"id":47845,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47836,"name":"tokenIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47813,"src":"8383:18:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":47838,"indexExpression":{"id":47837,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47826,"src":"8402:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8383:21:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":47842,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47773,"src":"8421:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47843,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8425:6:38","memberName":"length","nodeType":"MemberAccess","src":"8421:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47841,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"8407:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":47839,"name":"uint256","nodeType":"ElementaryTypeName","src":"8411:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47840,"nodeType":"ArrayTypeName","src":"8411:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":47844,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8407:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"src":"8383:49:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47846,"nodeType":"ExpressionStatement","src":"8383:49:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47832,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47829,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47826,"src":"8348:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":47830,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47773,"src":"8352:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47831,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8356:6:38","memberName":"length","nodeType":"MemberAccess","src":"8352:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8348:14:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47848,"initializationExpression":{"assignments":[47826],"declarations":[{"constant":false,"id":47826,"mutability":"mutable","name":"i","nameLocation":"8341:1:38","nodeType":"VariableDeclaration","scope":47848,"src":"8333:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47825,"name":"uint256","nodeType":"ElementaryTypeName","src":"8333:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47828,"initialValue":{"hexValue":"30","id":47827,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8345:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"8333:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47834,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"8364:3:38","subExpression":{"id":47833,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47826,"src":"8366:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47835,"nodeType":"ExpressionStatement","src":"8364:3:38"},"nodeType":"ForStatement","src":"8328:115:38"},{"body":{"id":47969,"nodeType":"Block","src":"8494:797:38","statements":[{"assignments":[47861],"declarations":[{"constant":false,"id":47861,"mutability":"mutable","name":"id","nameLocation":"8516:2:38","nodeType":"VariableDeclaration","scope":47969,"src":"8508:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47860,"name":"uint256","nodeType":"ElementaryTypeName","src":"8508:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47865,"initialValue":{"baseExpression":{"id":47862,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47773,"src":"8521:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47864,"indexExpression":{"id":47863,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47850,"src":"8525:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8521:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8508:19:38"},{"condition":{"id":47872,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"8545:32:38","subExpression":{"arguments":[{"id":47867,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47770,"src":"8552:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":47868,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"8562:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47869,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8566:6:38","memberName":"sender","nodeType":"MemberAccess","src":"8562:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47870,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47861,"src":"8574:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47866,"name":"_owns","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48833,"src":"8546:5:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256,address,uint256) view returns (bool)"}},"id":47871,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8546:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47877,"nodeType":"IfStatement","src":"8541:62:38","trueBody":{"errorCall":{"arguments":[{"id":47874,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47861,"src":"8600:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47873,"name":"NotTokenOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47379,"src":"8586:13:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$_t_error_$","typeString":"function (uint256) pure returns (error)"}},"id":47875,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8586:17:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":47876,"nodeType":"RevertStatement","src":"8579:24:38"}},{"assignments":[47879],"declarations":[{"constant":false,"id":47879,"mutability":"mutable","name":"key","nameLocation":"8626:3:38","nodeType":"VariableDeclaration","scope":47969,"src":"8618:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":47878,"name":"bytes32","nodeType":"ElementaryTypeName","src":"8618:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":47884,"initialValue":{"arguments":[{"id":47881,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47770,"src":"8642:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47882,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47861,"src":"8652:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47880,"name":"_tokenKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48776,"src":"8632:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_bytes32_$","typeString":"function (uint256,uint256) pure returns (bytes32)"}},"id":47883,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8632:23:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"8618:37:38"},{"assignments":[47886],"declarations":[{"constant":false,"id":47886,"mutability":"mutable","name":"del","nameLocation":"8677:3:38","nodeType":"VariableDeclaration","scope":47969,"src":"8669:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47885,"name":"address","nodeType":"ElementaryTypeName","src":"8669:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":47890,"initialValue":{"baseExpression":{"id":47887,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47305,"src":"8683:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":47889,"indexExpression":{"id":47888,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47879,"src":"8697:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8683:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"8669:32:38"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":47896,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47891,"name":"del","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47886,"src":"8719:3:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":47894,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8734:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":47893,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8726:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47892,"name":"address","nodeType":"ElementaryTypeName","src":"8726:7:38","typeDescriptions":{}}},"id":47895,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8726:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8719:17:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47901,"nodeType":"IfStatement","src":"8715:46:38","trueBody":{"errorCall":{"arguments":[{"id":47898,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47861,"src":"8758:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47897,"name":"NotDelegated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47387,"src":"8745:12:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$_t_error_$","typeString":"function (uint256) pure returns (error)"}},"id":47899,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8745:16:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":47900,"nodeType":"RevertStatement","src":"8738:23:38"}},{"expression":{"id":47909,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47902,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47305,"src":"8776:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":47904,"indexExpression":{"id":47903,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47879,"src":"8790:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8776:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"30","id":47907,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8805:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":47906,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8797:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47905,"name":"address","nodeType":"ElementaryTypeName","src":"8797:7:38","typeDescriptions":{}}},"id":47908,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8797:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8776:31:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47910,"nodeType":"ExpressionStatement","src":"8776:31:38"},{"assignments":[47912],"declarations":[{"constant":false,"id":47912,"mutability":"mutable","name":"j","nameLocation":"8830:1:38","nodeType":"VariableDeclaration","scope":47969,"src":"8822:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47911,"name":"uint256","nodeType":"ElementaryTypeName","src":"8822:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47918,"initialValue":{"arguments":[{"id":47914,"name":"delAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47788,"src":"8843:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"id":47915,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47823,"src":"8853:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47916,"name":"del","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47886,"src":"8861:3:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"id":47913,"name":"_indexOf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48873,"src":"8834:8:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_array$_t_address_$dyn_memory_ptr_$_t_uint256_$_t_address_$returns$_t_uint256_$","typeString":"function (address[] memory,uint256,address) pure returns (uint256)"}},"id":47917,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8834:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8822:43:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47925,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47919,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47912,"src":"8883:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"arguments":[{"id":47922,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8893:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":47921,"name":"uint256","nodeType":"ElementaryTypeName","src":"8893:7:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":47920,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"8888:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":47923,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8888:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":47924,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"8902:3:38","memberName":"max","nodeType":"MemberAccess","src":"8888:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8883:22:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":47967,"nodeType":"Block","src":"9132:149:38","statements":[{"expression":{"id":47959,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":47951,"name":"tokenIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47813,"src":"9150:18:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":47956,"indexExpression":{"id":47952,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47912,"src":"9169:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9150:21:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47957,"indexExpression":{"baseExpression":{"id":47953,"name":"counts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47800,"src":"9172:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47955,"indexExpression":{"id":47954,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47912,"src":"9179:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9172:9:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9150:32:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":47958,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47861,"src":"9185:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9150:37:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47960,"nodeType":"ExpressionStatement","src":"9150:37:38"},{"id":47966,"nodeType":"UncheckedBlock","src":"9205:62:38","statements":[{"expression":{"id":47964,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"9237:11:38","subExpression":{"baseExpression":{"id":47961,"name":"counts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47800,"src":"9239:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47963,"indexExpression":{"id":47962,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47912,"src":"9246:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9239:9:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47965,"nodeType":"ExpressionStatement","src":"9237:11:38"}]}]},"id":47968,"nodeType":"IfStatement","src":"8879:402:38","trueBody":{"id":47950,"nodeType":"Block","src":"8907:219:38","statements":[{"expression":{"id":47930,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47926,"name":"delAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47788,"src":"8925:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":47928,"indexExpression":{"id":47927,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47823,"src":"8934:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8925:16:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":47929,"name":"del","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47886,"src":"8944:3:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8925:22:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47931,"nodeType":"ExpressionStatement","src":"8925:22:38"},{"expression":{"id":47938,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":47932,"name":"tokenIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47813,"src":"8965:18:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":47935,"indexExpression":{"id":47933,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47823,"src":"8984:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8965:26:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47936,"indexExpression":{"hexValue":"30","id":47934,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8992:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8965:29:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":47937,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47861,"src":"8997:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8965:34:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47939,"nodeType":"ExpressionStatement","src":"8965:34:38"},{"expression":{"id":47944,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47940,"name":"counts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47800,"src":"9017:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47942,"indexExpression":{"id":47941,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47823,"src":"9024:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9017:14:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"31","id":47943,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9034:1:38","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"9017:18:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47945,"nodeType":"ExpressionStatement","src":"9017:18:38"},{"id":47949,"nodeType":"UncheckedBlock","src":"9053:59:38","statements":[{"expression":{"id":47947,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"9085:8:38","subExpression":{"id":47946,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47823,"src":"9087:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47948,"nodeType":"ExpressionStatement","src":"9085:8:38"}]}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47856,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47853,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47850,"src":"8473:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":47854,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47773,"src":"8477:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":47855,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8481:6:38","memberName":"length","nodeType":"MemberAccess","src":"8477:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8473:14:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47970,"initializationExpression":{"assignments":[47850],"declarations":[{"constant":false,"id":47850,"mutability":"mutable","name":"i","nameLocation":"8466:1:38","nodeType":"VariableDeclaration","scope":47970,"src":"8458:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47849,"name":"uint256","nodeType":"ElementaryTypeName","src":"8458:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47852,"initialValue":{"hexValue":"30","id":47851,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8470:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"8458:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47858,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"8489:3:38","subExpression":{"id":47857,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47850,"src":"8491:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47859,"nodeType":"ExpressionStatement","src":"8489:3:38"},"nodeType":"ForStatement","src":"8453:838:38"},{"body":{"id":48028,"nodeType":"Block","src":"9385:367:38","statements":[{"assignments":[47985],"declarations":[{"constant":false,"id":47985,"mutability":"mutable","name":"delegateTokenIds","nameLocation":"9478:16:38","nodeType":"VariableDeclaration","scope":48028,"src":"9461:33:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47983,"name":"uint256","nodeType":"ElementaryTypeName","src":"9461:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47984,"nodeType":"ArrayTypeName","src":"9461:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":47993,"initialValue":{"arguments":[{"baseExpression":{"id":47989,"name":"counts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47800,"src":"9511:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":47991,"indexExpression":{"id":47990,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47972,"src":"9518:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9511:9:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47988,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"9497:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":47986,"name":"uint256","nodeType":"ElementaryTypeName","src":"9501:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47987,"nodeType":"ArrayTypeName","src":"9501:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":47992,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9497:24:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"9461:60:38"},{"body":{"id":48016,"nodeType":"Block","src":"9575:79:38","statements":[{"expression":{"id":48014,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48006,"name":"delegateTokenIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47985,"src":"9593:16:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48008,"indexExpression":{"id":48007,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47995,"src":"9610:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9593:19:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"baseExpression":{"id":48009,"name":"tokenIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47813,"src":"9615:18:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":48011,"indexExpression":{"id":48010,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47972,"src":"9634:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9615:21:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48013,"indexExpression":{"id":48012,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47995,"src":"9637:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9615:24:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9593:46:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48015,"nodeType":"ExpressionStatement","src":"9593:46:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48002,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47998,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47995,"src":"9555:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"baseExpression":{"id":47999,"name":"counts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47800,"src":"9559:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48001,"indexExpression":{"id":48000,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47972,"src":"9566:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9559:9:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9555:13:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48017,"initializationExpression":{"assignments":[47995],"declarations":[{"constant":false,"id":47995,"mutability":"mutable","name":"m","nameLocation":"9548:1:38","nodeType":"VariableDeclaration","scope":48017,"src":"9540:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47994,"name":"uint256","nodeType":"ElementaryTypeName","src":"9540:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47997,"initialValue":{"hexValue":"30","id":47996,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9552:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"9540:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48004,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"9570:3:38","subExpression":{"id":48003,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47995,"src":"9572:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48005,"nodeType":"ExpressionStatement","src":"9570:3:38"},"nodeType":"ForStatement","src":"9535:119:38"},{"eventCall":{"arguments":[{"expression":{"id":48019,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"9689:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":48020,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9693:6:38","memberName":"sender","nodeType":"MemberAccess","src":"9689:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"baseExpression":{"id":48021,"name":"delAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47788,"src":"9701:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48023,"indexExpression":{"id":48022,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47972,"src":"9710:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9701:11:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48024,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47770,"src":"9714:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48025,"name":"delegateTokenIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47985,"src":"9724:16:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}],"id":48018,"name":"UndelegatedBatch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47351,"src":"9672:16:38","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256[] memory)"}},"id":48026,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9672:69:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48027,"nodeType":"EmitStatement","src":"9667:74:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47977,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47975,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47972,"src":"9368:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":47976,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47823,"src":"9372:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9368:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48029,"initializationExpression":{"assignments":[47972],"declarations":[{"constant":false,"id":47972,"mutability":"mutable","name":"k","nameLocation":"9361:1:38","nodeType":"VariableDeclaration","scope":48029,"src":"9353:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47971,"name":"uint256","nodeType":"ElementaryTypeName","src":"9353:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47974,"initialValue":{"hexValue":"30","id":47973,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9365:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"9353:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":47979,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"9380:3:38","subExpression":{"id":47978,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47972,"src":"9382:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47980,"nodeType":"ExpressionStatement","src":"9380:3:38"},"nodeType":"ForStatement","src":"9348:404:38"},{"body":{"id":48080,"nodeType":"Block","src":"9799:252:38","statements":[{"assignments":[48041],"declarations":[{"constant":false,"id":48041,"mutability":"mutable","name":"acct","nameLocation":"9821:4:38","nodeType":"VariableDeclaration","scope":48080,"src":"9813:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48040,"name":"address","nodeType":"ElementaryTypeName","src":"9813:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":48045,"initialValue":{"baseExpression":{"id":48042,"name":"delAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47788,"src":"9828:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48044,"indexExpression":{"id":48043,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48031,"src":"9837:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9828:11:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"9813:26:38"},{"assignments":[48047],"declarations":[{"constant":false,"id":48047,"mutability":"mutable","name":"pIdx","nameLocation":"9861:4:38","nodeType":"VariableDeclaration","scope":48080,"src":"9853:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48046,"name":"uint256","nodeType":"ElementaryTypeName","src":"9853:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48052,"initialValue":{"arguments":[{"id":48049,"name":"proofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47777,"src":"9882:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},{"id":48050,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48041,"src":"9890:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"},{"typeIdentifier":"t_address","typeString":"address"}],"id":48048,"name":"_indexOfProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48913,"src":"9868:13:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr_$_t_address_$returns$_t_uint256_$","typeString":"function (struct DavinciDao.ProofInput calldata[] calldata,address) pure returns (uint256)"}},"id":48051,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9868:27:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9853:42:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48059,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48053,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48047,"src":"9913:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"arguments":[{"id":48056,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9926:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48055,"name":"uint256","nodeType":"ElementaryTypeName","src":"9926:7:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":48054,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"9921:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":48057,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9921:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":48058,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"9935:3:38","memberName":"max","nodeType":"MemberAccess","src":"9921:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9913:25:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48064,"nodeType":"IfStatement","src":"9909:57:38","trueBody":{"errorCall":{"arguments":[{"id":48061,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48041,"src":"9961:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":48060,"name":"ProofRequired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47391,"src":"9947:13:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$_t_error_$","typeString":"function (address) pure returns (error)"}},"id":48062,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9947:19:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48063,"nodeType":"RevertStatement","src":"9940:26:38"}},{"expression":{"arguments":[{"id":48066,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48041,"src":"9992:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48073,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"9998:18:38","subExpression":{"arguments":[{"baseExpression":{"id":48069,"name":"counts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47800,"src":"10006:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48071,"indexExpression":{"id":48070,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48031,"src":"10013:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10006:9:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48068,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9999:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":48067,"name":"int256","nodeType":"ElementaryTypeName","src":"9999:6:38","typeDescriptions":{}}},"id":48072,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9999:17:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"baseExpression":{"id":48074,"name":"proofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47777,"src":"10018:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},"id":48076,"indexExpression":{"id":48075,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48047,"src":"10025:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10018:12:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47290_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata"}},"id":48077,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10031:8:38","memberName":"siblings","nodeType":"MemberAccess","referencedDeclaration":47289,"src":"10018:21:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"id":48065,"name":"_applyDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48327,"src":"9980:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_int256_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$__$","typeString":"function (address,int256,uint256[] calldata)"}},"id":48078,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9980:60:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48079,"nodeType":"ExpressionStatement","src":"9980:60:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48036,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48034,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48031,"src":"9782:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":48035,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47823,"src":"9786:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9782:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48081,"initializationExpression":{"assignments":[48031],"declarations":[{"constant":false,"id":48031,"mutability":"mutable","name":"k","nameLocation":"9775:1:38","nodeType":"VariableDeclaration","scope":48081,"src":"9767:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48030,"name":"uint256","nodeType":"ElementaryTypeName","src":"9767:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48033,"initialValue":{"hexValue":"30","id":48032,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9779:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"9767:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48038,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"9794:3:38","subExpression":{"id":48037,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48031,"src":"9796:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48039,"nodeType":"ExpressionStatement","src":"9794:3:38"},"nodeType":"ForStatement","src":"9762:289:38"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":48082,"name":"_updateRootHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48351,"src":"10094:18:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":48083,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10094:20:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48084,"nodeType":"ExpressionStatement","src":"10094:20:38"}]},"documentation":{"id":47768,"nodeType":"StructuredDocumentation","src":"7504:287:38","text":"@notice Undelegate voting power for given token IDs (caller must be current owner).\n @param nftIndex Index into `collections`.\n @param ids      Token IDs to revoke delegation for.\n @param proofs   Proofs for each *affected* delegate address (unique and batched)."},"functionSelector":"1b1db502","implemented":true,"kind":"function","modifiers":[],"name":"undelegate","nameLocation":"7805:10:38","parameters":{"id":47778,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47770,"mutability":"mutable","name":"nftIndex","nameLocation":"7824:8:38","nodeType":"VariableDeclaration","scope":48086,"src":"7816:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47769,"name":"uint256","nodeType":"ElementaryTypeName","src":"7816:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47773,"mutability":"mutable","name":"ids","nameLocation":"7853:3:38","nodeType":"VariableDeclaration","scope":48086,"src":"7834:22:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47771,"name":"uint256","nodeType":"ElementaryTypeName","src":"7834:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47772,"nodeType":"ArrayTypeName","src":"7834:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":47777,"mutability":"mutable","name":"proofs","nameLocation":"7880:6:38","nodeType":"VariableDeclaration","scope":48086,"src":"7858:28:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput[]"},"typeName":{"baseType":{"id":47775,"nodeType":"UserDefinedTypeName","pathNode":{"id":47774,"name":"ProofInput","nameLocations":["7858:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47290,"src":"7858:10:38"},"referencedDeclaration":47290,"src":"7858:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47290_storage_ptr","typeString":"struct DavinciDao.ProofInput"}},"id":47776,"nodeType":"ArrayTypeName","src":"7858:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_storage_$dyn_storage_ptr","typeString":"struct DavinciDao.ProofInput[]"}},"visibility":"internal"}],"src":"7815:72:38"},"returnParameters":{"id":47779,"nodeType":"ParameterList","parameters":[],"src":"7897:0:38"},"scope":49151,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":48161,"nodeType":"FunctionDefinition","src":"10525:840:38","nodes":[],"body":{"id":48160,"nodeType":"Block","src":"10722:643:38","nodes":[],"statements":[{"expression":{"arguments":[{"id":48105,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48091,"src":"10744:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48104,"name":"_checkIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48758,"src":"10732:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$__$","typeString":"function (uint256) view"}},"id":48106,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10732:21:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48107,"nodeType":"ExpressionStatement","src":"10732:21:38"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":48113,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48108,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48089,"src":"10767:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":48111,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10781:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":48110,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10773:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":48109,"name":"address","nodeType":"ElementaryTypeName","src":"10773:7:38","typeDescriptions":{}}},"id":48112,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10773:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10767:16:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48117,"nodeType":"IfStatement","src":"10763:42:38","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":48114,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47373,"src":"10792:11:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":48115,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10792:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48116,"nodeType":"RevertStatement","src":"10785:20:38"}},{"assignments":[48122,48125,48127,48129],"declarations":[{"constant":false,"id":48122,"mutability":"mutable","name":"fromAddrs","nameLocation":"10896:9:38","nodeType":"VariableDeclaration","scope":48160,"src":"10879:26:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":48120,"name":"address","nodeType":"ElementaryTypeName","src":"10879:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48121,"nodeType":"ArrayTypeName","src":"10879:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":48125,"mutability":"mutable","name":"fromCounts","nameLocation":"10924:10:38","nodeType":"VariableDeclaration","scope":48160,"src":"10907:27:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48123,"name":"uint256","nodeType":"ElementaryTypeName","src":"10907:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48124,"nodeType":"ArrayTypeName","src":"10907:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":48127,"mutability":"mutable","name":"unique","nameLocation":"10944:6:38","nodeType":"VariableDeclaration","scope":48160,"src":"10936:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48126,"name":"uint256","nodeType":"ElementaryTypeName","src":"10936:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48129,"mutability":"mutable","name":"added","nameLocation":"10960:5:38","nodeType":"VariableDeclaration","scope":48160,"src":"10952:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48128,"name":"uint256","nodeType":"ElementaryTypeName","src":"10952:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48135,"initialValue":{"arguments":[{"id":48131,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48089,"src":"11007:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48132,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48091,"src":"11011:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48133,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48094,"src":"11021:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"id":48130,"name":"_processDelegationUpdates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48675,"src":"10981:25:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$_t_uint256_$","typeString":"function (address,uint256,uint256[] calldata) returns (address[] memory,uint256[] memory,uint256,uint256)"}},"id":48134,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10981:44:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$_t_uint256_$","typeString":"tuple(address[] memory,uint256[] memory,uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"10878:147:38"},{"expression":{"arguments":[{"id":48137,"name":"fromAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48122,"src":"11105:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"id":48138,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48125,"src":"11116:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"id":48139,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48127,"src":"11128:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48140,"name":"fromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48098,"src":"11136:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}],"id":48136,"name":"_applyFromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48744,"src":"11088:16:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$_t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr_$returns$__$","typeString":"function (address[] memory,uint256[] memory,uint256,struct DavinciDao.ProofInput calldata[] calldata)"}},"id":48141,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11088:59:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48142,"nodeType":"ExpressionStatement","src":"11088:59:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48145,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48143,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48129,"src":"11212:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":48144,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11220:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11212:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48159,"nodeType":"IfStatement","src":"11208:151:38","trueBody":{"id":48158,"nodeType":"Block","src":"11223:136:38","statements":[{"expression":{"arguments":[{"id":48147,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48089,"src":"11249:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":48150,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48129,"src":"11260:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48149,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11253:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":48148,"name":"int256","nodeType":"ElementaryTypeName","src":"11253:6:38","typeDescriptions":{}}},"id":48151,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11253:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":48152,"name":"toProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48101,"src":"11268:7:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"id":48146,"name":"_applyDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48327,"src":"11237:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_int256_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$__$","typeString":"function (address,int256,uint256[] calldata)"}},"id":48153,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11237:39:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48154,"nodeType":"ExpressionStatement","src":"11237:39:38"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":48155,"name":"_updateRootHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48351,"src":"11328:18:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":48156,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11328:20:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48157,"nodeType":"ExpressionStatement","src":"11328:20:38"}]}}]},"documentation":{"id":48087,"nodeType":"StructuredDocumentation","src":"10127:393:38","text":"@notice Move delegation of given IDs to a new address `to` (caller must own the NFTs).\n @param to          New delegate.\n @param nftIndex    Index into `collections`.\n @param ids         Token IDs to move.\n @param fromProofs  Proofs for each *old* delegate reduced (unique and batched).\n @param toProof     Proof for `to` (empty if `to` had zero weight)."},"functionSelector":"d4d10661","implemented":true,"kind":"function","modifiers":[],"name":"updateDelegation","nameLocation":"10534:16:38","parameters":{"id":48102,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48089,"mutability":"mutable","name":"to","nameLocation":"10568:2:38","nodeType":"VariableDeclaration","scope":48161,"src":"10560:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48088,"name":"address","nodeType":"ElementaryTypeName","src":"10560:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48091,"mutability":"mutable","name":"nftIndex","nameLocation":"10588:8:38","nodeType":"VariableDeclaration","scope":48161,"src":"10580:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48090,"name":"uint256","nodeType":"ElementaryTypeName","src":"10580:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48094,"mutability":"mutable","name":"ids","nameLocation":"10625:3:38","nodeType":"VariableDeclaration","scope":48161,"src":"10606:22:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48092,"name":"uint256","nodeType":"ElementaryTypeName","src":"10606:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48093,"nodeType":"ArrayTypeName","src":"10606:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":48098,"mutability":"mutable","name":"fromProofs","nameLocation":"10660:10:38","nodeType":"VariableDeclaration","scope":48161,"src":"10638:32:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput[]"},"typeName":{"baseType":{"id":48096,"nodeType":"UserDefinedTypeName","pathNode":{"id":48095,"name":"ProofInput","nameLocations":["10638:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47290,"src":"10638:10:38"},"referencedDeclaration":47290,"src":"10638:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47290_storage_ptr","typeString":"struct DavinciDao.ProofInput"}},"id":48097,"nodeType":"ArrayTypeName","src":"10638:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_storage_$dyn_storage_ptr","typeString":"struct DavinciDao.ProofInput[]"}},"visibility":"internal"},{"constant":false,"id":48101,"mutability":"mutable","name":"toProof","nameLocation":"10699:7:38","nodeType":"VariableDeclaration","scope":48161,"src":"10680:26:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48099,"name":"uint256","nodeType":"ElementaryTypeName","src":"10680:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48100,"nodeType":"ArrayTypeName","src":"10680:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"10550:162:38"},"returnParameters":{"id":48103,"nodeType":"ParameterList","parameters":[],"src":"10722:0:38"},"scope":49151,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":48327,"nodeType":"FunctionDefinition","src":"11426:1547:38","nodes":[],"body":{"id":48326,"nodeType":"Block","src":"11516:1457:38","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":48173,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48171,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48165,"src":"11530:5:38","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":48172,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11539:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11530:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48175,"nodeType":"IfStatement","src":"11526:23:38","trueBody":{"functionReturnParameters":48170,"id":48174,"nodeType":"Return","src":"11542:7:38"}},{"assignments":[48177],"declarations":[{"constant":false,"id":48177,"mutability":"mutable","name":"oldW","nameLocation":"11566:4:38","nodeType":"VariableDeclaration","scope":48326,"src":"11559:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":48176,"name":"uint88","nodeType":"ElementaryTypeName","src":"11559:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"}],"id":48181,"initialValue":{"baseExpression":{"id":48178,"name":"weightOf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47301,"src":"11573:8:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint88_$","typeString":"mapping(address => uint88)"}},"id":48180,"indexExpression":{"id":48179,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48163,"src":"11582:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11573:17:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"nodeType":"VariableDeclarationStatement","src":"11559:31:38"},{"assignments":[48183],"declarations":[{"constant":false,"id":48183,"mutability":"mutable","name":"newW","nameLocation":"11607:4:38","nodeType":"VariableDeclaration","scope":48326,"src":"11600:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":48182,"name":"uint88","nodeType":"ElementaryTypeName","src":"11600:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"}],"id":48184,"nodeType":"VariableDeclarationStatement","src":"11600:11:38"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":48187,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48185,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48165,"src":"11626:5:38","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":48186,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11634:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11626:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":48251,"nodeType":"Block","src":"11867:198:38","statements":[{"assignments":[48224],"declarations":[{"constant":false,"id":48224,"mutability":"mutable","name":"dec","nameLocation":"11889:3:38","nodeType":"VariableDeclaration","scope":48251,"src":"11881:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48223,"name":"uint256","nodeType":"ElementaryTypeName","src":"11881:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48230,"initialValue":{"arguments":[{"id":48228,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"11903:6:38","subExpression":{"id":48227,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48165,"src":"11904:5:38","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":48226,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11895:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48225,"name":"uint256","nodeType":"ElementaryTypeName","src":"11895:7:38","typeDescriptions":{}}},"id":48229,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11895:15:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11881:29:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48233,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48231,"name":"dec","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48224,"src":"11928:3:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":48232,"name":"oldW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48177,"src":"11934:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"src":"11928:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48237,"nodeType":"IfStatement","src":"11924:40:38","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":48234,"name":"WeightUnderflow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47393,"src":"11947:15:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":48235,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11947:17:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48236,"nodeType":"RevertStatement","src":"11940:24:38"}},{"id":48250,"nodeType":"UncheckedBlock","src":"11978:77:38","statements":[{"expression":{"id":48248,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48238,"name":"newW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48183,"src":"12006:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48246,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":48243,"name":"oldW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48177,"src":"12028:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":48242,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12020:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48241,"name":"uint256","nodeType":"ElementaryTypeName","src":"12020:7:38","typeDescriptions":{}}},"id":48244,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12020:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":48245,"name":"dec","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48224,"src":"12036:3:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12020:19:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48240,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12013:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint88_$","typeString":"type(uint88)"},"typeName":{"id":48239,"name":"uint88","nodeType":"ElementaryTypeName","src":"12013:6:38","typeDescriptions":{}}},"id":48247,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12013:27:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"src":"12006:34:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"id":48249,"nodeType":"ExpressionStatement","src":"12006:34:38"}]}]},"id":48252,"nodeType":"IfStatement","src":"11622:443:38","trueBody":{"id":48222,"nodeType":"Block","src":"11637:224:38","statements":[{"id":48221,"nodeType":"UncheckedBlock","src":"11651:200:38","statements":[{"assignments":[48189],"declarations":[{"constant":false,"id":48189,"mutability":"mutable","name":"tmp","nameLocation":"11687:3:38","nodeType":"VariableDeclaration","scope":48221,"src":"11679:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48188,"name":"uint256","nodeType":"ElementaryTypeName","src":"11679:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48202,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48201,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":48192,"name":"oldW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48177,"src":"11701:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":48191,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11693:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48190,"name":"uint256","nodeType":"ElementaryTypeName","src":"11693:7:38","typeDescriptions":{}}},"id":48193,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11693:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"arguments":[{"id":48198,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48165,"src":"11724:5:38","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":48197,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11717:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":48196,"name":"int256","nodeType":"ElementaryTypeName","src":"11717:6:38","typeDescriptions":{}}},"id":48199,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11717:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":48195,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11709:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48194,"name":"uint256","nodeType":"ElementaryTypeName","src":"11709:7:38","typeDescriptions":{}}},"id":48200,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11709:22:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11693:38:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11679:52:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48209,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48203,"name":"tmp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48189,"src":"11753:3:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"expression":{"arguments":[{"id":48206,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11764:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint88_$","typeString":"type(uint88)"},"typeName":{"id":48205,"name":"uint88","nodeType":"ElementaryTypeName","src":"11764:6:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint88_$","typeString":"type(uint88)"}],"id":48204,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"11759:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":48207,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11759:12:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint88","typeString":"type(uint88)"}},"id":48208,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"11772:3:38","memberName":"max","nodeType":"MemberAccess","src":"11759:16:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"src":"11753:22:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48213,"nodeType":"IfStatement","src":"11749:51:38","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":48210,"name":"WeightOverflow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47395,"src":"11784:14:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":48211,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11784:16:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48212,"nodeType":"RevertStatement","src":"11777:23:38"}},{"expression":{"id":48219,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48214,"name":"newW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48183,"src":"11818:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":48217,"name":"tmp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48189,"src":"11832:3:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48216,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11825:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint88_$","typeString":"type(uint88)"},"typeName":{"id":48215,"name":"uint88","nodeType":"ElementaryTypeName","src":"11825:6:38","typeDescriptions":{}}},"id":48218,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11825:11:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"src":"11818:18:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"id":48220,"nodeType":"ExpressionStatement","src":"11818:18:38"}]}]}},{"assignments":[48254],"declarations":[{"constant":false,"id":48254,"mutability":"mutable","name":"oldLeaf","nameLocation":"12083:7:38","nodeType":"VariableDeclaration","scope":48326,"src":"12075:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48253,"name":"uint256","nodeType":"ElementaryTypeName","src":"12075:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48259,"initialValue":{"arguments":[{"id":48256,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48163,"src":"12103:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48257,"name":"oldW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48177,"src":"12112:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":48255,"name":"_packLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48803,"src":"12093:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_uint88_$returns$_t_uint256_$","typeString":"function (address,uint88) pure returns (uint256)"}},"id":48258,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12093:24:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12075:42:38"},{"assignments":[48261],"declarations":[{"constant":false,"id":48261,"mutability":"mutable","name":"newLeaf","nameLocation":"12135:7:38","nodeType":"VariableDeclaration","scope":48326,"src":"12127:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48260,"name":"uint256","nodeType":"ElementaryTypeName","src":"12127:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48266,"initialValue":{"arguments":[{"id":48263,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48163,"src":"12155:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48264,"name":"newW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48183,"src":"12164:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":48262,"name":"_packLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48803,"src":"12145:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_uint88_$returns$_t_uint256_$","typeString":"function (address,uint88) pure returns (uint256)"}},"id":48265,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12145:24:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12127:42:38"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":48273,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48269,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48267,"name":"oldLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48254,"src":"12240:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":48268,"name":"SNARK_SCALAR_FIELD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46119,"src":"12251:18:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12240:29:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48272,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48270,"name":"newLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48261,"src":"12273:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":48271,"name":"SNARK_SCALAR_FIELD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46119,"src":"12284:18:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12273:29:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"12240:62:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48277,"nodeType":"IfStatement","src":"12236:91:38","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":48274,"name":"WeightOverflow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47395,"src":"12311:14:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":48275,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12311:16:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48276,"nodeType":"RevertStatement","src":"12304:23:38"}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":48284,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint88","typeString":"uint88"},"id":48280,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48278,"name":"oldW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48177,"src":"12342:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":48279,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12350:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12342:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint88","typeString":"uint88"},"id":48283,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48281,"name":"newW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48183,"src":"12355:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":48282,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12362:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12355:8:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"12342:21:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint88","typeString":"uint88"},"id":48294,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48292,"name":"newW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48183,"src":"12495:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":48293,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12503:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12495:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":48311,"nodeType":"Block","src":"12615:268:38","statements":[{"expression":{"arguments":[{"id":48306,"name":"oldLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48254,"src":"12845:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48307,"name":"newLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48261,"src":"12854:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48308,"name":"siblings","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48168,"src":"12863:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"expression":{"id":48303,"name":"_census","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47297,"src":"12829:7:38","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage","typeString":"struct LeanIMTData storage ref"}},"id":48305,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12837:7:38","memberName":"_update","nodeType":"MemberAccess","referencedDeclaration":46901,"src":"12829:15:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_LeanIMTData_$46138_storage_ptr_$_t_uint256_$_t_uint256_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$_t_uint256_$attached_to$_t_struct$_LeanIMTData_$46138_storage_ptr_$","typeString":"function (struct LeanIMTData storage pointer,uint256,uint256,uint256[] calldata) returns (uint256)"}},"id":48309,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12829:43:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48310,"nodeType":"ExpressionStatement","src":"12829:43:38"}]},"id":48312,"nodeType":"IfStatement","src":"12491:392:38","trueBody":{"id":48302,"nodeType":"Block","src":"12506:103:38","statements":[{"expression":{"arguments":[{"id":48298,"name":"oldLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48254,"src":"12580:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48299,"name":"siblings","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48168,"src":"12589:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"expression":{"id":48295,"name":"_census","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47297,"src":"12564:7:38","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage","typeString":"struct LeanIMTData storage ref"}},"id":48297,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12572:7:38","memberName":"_remove","nodeType":"MemberAccess","referencedDeclaration":46923,"src":"12564:15:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_LeanIMTData_$46138_storage_ptr_$_t_uint256_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$_t_uint256_$attached_to$_t_struct$_LeanIMTData_$46138_storage_ptr_$","typeString":"function (struct LeanIMTData storage pointer,uint256,uint256[] calldata) returns (uint256)"}},"id":48300,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12564:34:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48301,"nodeType":"ExpressionStatement","src":"12564:34:38"}]}},"id":48313,"nodeType":"IfStatement","src":"12338:545:38","trueBody":{"id":48291,"nodeType":"Block","src":"12365:120:38","statements":[{"expression":{"arguments":[{"id":48288,"name":"newLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48261,"src":"12447:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":48285,"name":"_census","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47297,"src":"12431:7:38","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage","typeString":"struct LeanIMTData storage ref"}},"id":48287,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12439:7:38","memberName":"_insert","nodeType":"MemberAccess","referencedDeclaration":46287,"src":"12431:15:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_LeanIMTData_$46138_storage_ptr_$_t_uint256_$returns$_t_uint256_$attached_to$_t_struct$_LeanIMTData_$46138_storage_ptr_$","typeString":"function (struct LeanIMTData storage pointer,uint256) returns (uint256)"}},"id":48289,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12431:24:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48290,"nodeType":"ExpressionStatement","src":"12431:24:38"}]}},{"expression":{"id":48318,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48314,"name":"weightOf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47301,"src":"12893:8:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint88_$","typeString":"mapping(address => uint88)"}},"id":48316,"indexExpression":{"id":48315,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48163,"src":"12902:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"12893:17:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48317,"name":"newW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48183,"src":"12913:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"src":"12893:24:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"id":48319,"nodeType":"ExpressionStatement","src":"12893:24:38"},{"eventCall":{"arguments":[{"id":48321,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48163,"src":"12946:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48322,"name":"oldW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48177,"src":"12955:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},{"id":48323,"name":"newW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48183,"src":"12961:4:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint88","typeString":"uint88"},{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":48320,"name":"WeightChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47359,"src":"12932:13:38","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint88_$_t_uint88_$returns$__$","typeString":"function (address,uint88,uint88)"}},"id":48324,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12932:34:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48325,"nodeType":"EmitStatement","src":"12927:39:38"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_applyDelta","nameLocation":"11435:11:38","parameters":{"id":48169,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48163,"mutability":"mutable","name":"account","nameLocation":"11455:7:38","nodeType":"VariableDeclaration","scope":48327,"src":"11447:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48162,"name":"address","nodeType":"ElementaryTypeName","src":"11447:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48165,"mutability":"mutable","name":"delta","nameLocation":"11471:5:38","nodeType":"VariableDeclaration","scope":48327,"src":"11464:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":48164,"name":"int256","nodeType":"ElementaryTypeName","src":"11464:6:38","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":48168,"mutability":"mutable","name":"siblings","nameLocation":"11497:8:38","nodeType":"VariableDeclaration","scope":48327,"src":"11478:27:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48166,"name":"uint256","nodeType":"ElementaryTypeName","src":"11478:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48167,"nodeType":"ArrayTypeName","src":"11478:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"11446:60:38"},"returnParameters":{"id":48170,"nodeType":"ParameterList","parameters":[],"src":"11516:0:38"},"scope":49151,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":48351,"nodeType":"FunctionDefinition","src":"13037:194:38","nodes":[],"body":{"id":48350,"nodeType":"Block","src":"13076:155:38","nodes":[],"statements":[{"assignments":[48332],"declarations":[{"constant":false,"id":48332,"mutability":"mutable","name":"newRoot","nameLocation":"13094:7:38","nodeType":"VariableDeclaration","scope":48350,"src":"13086:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48331,"name":"uint256","nodeType":"ElementaryTypeName","src":"13086:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48336,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":48333,"name":"_census","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47297,"src":"13104:7:38","typeDescriptions":{"typeIdentifier":"t_struct$_LeanIMTData_$46138_storage","typeString":"struct LeanIMTData storage ref"}},"id":48334,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13112:5:38","memberName":"_root","nodeType":"MemberAccess","referencedDeclaration":46988,"src":"13104:13:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_LeanIMTData_$46138_storage_ptr_$returns$_t_uint256_$attached_to$_t_struct$_LeanIMTData_$46138_storage_ptr_$","typeString":"function (struct LeanIMTData storage pointer) view returns (uint256)"}},"id":48335,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13104:15:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"13086:33:38"},{"expression":{"id":48342,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48337,"name":"rootBlockNumbers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47309,"src":"13129:16:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":48339,"indexExpression":{"id":48338,"name":"newRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48332,"src":"13146:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"13129:25:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":48340,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"13157:5:38","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":48341,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13163:6:38","memberName":"number","nodeType":"MemberAccess","src":"13157:12:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13129:40:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48343,"nodeType":"ExpressionStatement","src":"13129:40:38"},{"eventCall":{"arguments":[{"id":48345,"name":"newRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48332,"src":"13202:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":48346,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"13211:5:38","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":48347,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13217:6:38","memberName":"number","nodeType":"MemberAccess","src":"13211:12:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48344,"name":"CensusRootUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47365,"src":"13184:17:38","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256)"}},"id":48348,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13184:40:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48349,"nodeType":"EmitStatement","src":"13179:45:38"}]},"documentation":{"id":48328,"nodeType":"StructuredDocumentation","src":"12979:53:38","text":"@dev Update root history after tree modifications"},"implemented":true,"kind":"function","modifiers":[],"name":"_updateRootHistory","nameLocation":"13046:18:38","parameters":{"id":48329,"nodeType":"ParameterList","parameters":[],"src":"13064:2:38"},"returnParameters":{"id":48330,"nodeType":"ParameterList","parameters":[],"src":"13076:0:38"},"scope":49151,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":48675,"nodeType":"FunctionDefinition","src":"13349:2503:38","nodes":[],"body":{"id":48674,"nodeType":"Block","src":"13564:2288:38","nodes":[],"statements":[{"expression":{"id":48379,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48372,"name":"fromAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48363,"src":"13574:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":48376,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48359,"src":"13600:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48377,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13604:6:38","memberName":"length","nodeType":"MemberAccess","src":"13600:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48375,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"13586:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_address_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (address[] memory)"},"typeName":{"baseType":{"id":48373,"name":"address","nodeType":"ElementaryTypeName","src":"13590:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48374,"nodeType":"ArrayTypeName","src":"13590:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}}},"id":48378,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13586:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"src":"13574:37:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48380,"nodeType":"ExpressionStatement","src":"13574:37:38"},{"expression":{"id":48388,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48381,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48366,"src":"13621:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":48385,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48359,"src":"13648:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48386,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13652:6:38","memberName":"length","nodeType":"MemberAccess","src":"13648:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48384,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"13634:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":48382,"name":"uint256","nodeType":"ElementaryTypeName","src":"13638:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48383,"nodeType":"ArrayTypeName","src":"13638:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":48387,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13634:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"src":"13621:38:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48389,"nodeType":"ExpressionStatement","src":"13621:38:38"},{"assignments":[48395],"declarations":[{"constant":false,"id":48395,"mutability":"mutable","name":"undelegatedIdsByDelegate","nameLocation":"13688:24:38","nodeType":"VariableDeclaration","scope":48674,"src":"13669:43:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[][]"},"typeName":{"baseType":{"baseType":{"id":48392,"name":"uint256","nodeType":"ElementaryTypeName","src":"13669:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48393,"nodeType":"ArrayTypeName","src":"13669:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":48394,"nodeType":"ArrayTypeName","src":"13669:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}},"visibility":"internal"}],"id":48403,"initialValue":{"arguments":[{"expression":{"id":48400,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48359,"src":"13731:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48401,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13735:6:38","memberName":"length","nodeType":"MemberAccess","src":"13731:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48399,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"13715:15:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory[] memory)"},"typeName":{"baseType":{"baseType":{"id":48396,"name":"uint256","nodeType":"ElementaryTypeName","src":"13719:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48397,"nodeType":"ArrayTypeName","src":"13719:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":48398,"nodeType":"ArrayTypeName","src":"13719:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}}},"id":48402,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13715:27:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"nodeType":"VariableDeclarationStatement","src":"13669:73:38"},{"assignments":[48408],"declarations":[{"constant":false,"id":48408,"mutability":"mutable","name":"delegatedIds","nameLocation":"13769:12:38","nodeType":"VariableDeclaration","scope":48674,"src":"13752:29:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48406,"name":"uint256","nodeType":"ElementaryTypeName","src":"13752:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48407,"nodeType":"ArrayTypeName","src":"13752:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":48415,"initialValue":{"arguments":[{"expression":{"id":48412,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48359,"src":"13798:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48413,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13802:6:38","memberName":"length","nodeType":"MemberAccess","src":"13798:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48411,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"13784:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":48409,"name":"uint256","nodeType":"ElementaryTypeName","src":"13788:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48410,"nodeType":"ArrayTypeName","src":"13788:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":48414,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13784:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"13752:57:38"},{"body":{"id":48438,"nodeType":"Block","src":"13929:80:38","statements":[{"expression":{"id":48436,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48427,"name":"undelegatedIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48395,"src":"13943:24:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":48429,"indexExpression":{"id":48428,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48417,"src":"13968:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"13943:27:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":48433,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48359,"src":"13987:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48434,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13991:6:38","memberName":"length","nodeType":"MemberAccess","src":"13987:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48432,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"13973:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":48430,"name":"uint256","nodeType":"ElementaryTypeName","src":"13977:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48431,"nodeType":"ArrayTypeName","src":"13977:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":48435,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13973:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"src":"13943:55:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48437,"nodeType":"ExpressionStatement","src":"13943:55:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48420,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48417,"src":"13908:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":48421,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48359,"src":"13912:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48422,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13916:6:38","memberName":"length","nodeType":"MemberAccess","src":"13912:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13908:14:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48439,"initializationExpression":{"assignments":[48417],"declarations":[{"constant":false,"id":48417,"mutability":"mutable","name":"i","nameLocation":"13901:1:38","nodeType":"VariableDeclaration","scope":48439,"src":"13893:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48416,"name":"uint256","nodeType":"ElementaryTypeName","src":"13893:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48419,"initialValue":{"hexValue":"30","id":48418,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13905:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"13893:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48425,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"13924:3:38","subExpression":{"id":48424,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48417,"src":"13926:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48426,"nodeType":"ExpressionStatement","src":"13924:3:38"},"nodeType":"ForStatement","src":"13888:121:38"},{"body":{"id":48569,"nodeType":"Block","src":"14060:1031:38","statements":[{"assignments":[48452],"declarations":[{"constant":false,"id":48452,"mutability":"mutable","name":"id","nameLocation":"14082:2:38","nodeType":"VariableDeclaration","scope":48569,"src":"14074:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48451,"name":"uint256","nodeType":"ElementaryTypeName","src":"14074:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48456,"initialValue":{"baseExpression":{"id":48453,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48359,"src":"14087:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48455,"indexExpression":{"id":48454,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48441,"src":"14091:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"14087:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14074:19:38"},{"condition":{"id":48463,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"14111:32:38","subExpression":{"arguments":[{"id":48458,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48356,"src":"14118:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":48459,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"14128:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":48460,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14132:6:38","memberName":"sender","nodeType":"MemberAccess","src":"14128:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48461,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48452,"src":"14140:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48457,"name":"_owns","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48833,"src":"14112:5:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256,address,uint256) view returns (bool)"}},"id":48462,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14112:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48468,"nodeType":"IfStatement","src":"14107:62:38","trueBody":{"errorCall":{"arguments":[{"id":48465,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48452,"src":"14166:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48464,"name":"NotTokenOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47379,"src":"14152:13:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$_t_error_$","typeString":"function (uint256) pure returns (error)"}},"id":48466,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14152:17:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48467,"nodeType":"RevertStatement","src":"14145:24:38"}},{"assignments":[48470],"declarations":[{"constant":false,"id":48470,"mutability":"mutable","name":"key","nameLocation":"14192:3:38","nodeType":"VariableDeclaration","scope":48569,"src":"14184:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":48469,"name":"bytes32","nodeType":"ElementaryTypeName","src":"14184:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":48475,"initialValue":{"arguments":[{"id":48472,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48356,"src":"14208:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48473,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48452,"src":"14218:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48471,"name":"_tokenKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48776,"src":"14198:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_bytes32_$","typeString":"function (uint256,uint256) pure returns (bytes32)"}},"id":48474,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14198:23:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"14184:37:38"},{"assignments":[48477],"declarations":[{"constant":false,"id":48477,"mutability":"mutable","name":"prev","nameLocation":"14243:4:38","nodeType":"VariableDeclaration","scope":48569,"src":"14235:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48476,"name":"address","nodeType":"ElementaryTypeName","src":"14235:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":48481,"initialValue":{"baseExpression":{"id":48478,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47305,"src":"14250:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":48480,"indexExpression":{"id":48479,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48470,"src":"14264:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"14250:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"14235:33:38"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":48484,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48482,"name":"prev","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48477,"src":"14287:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":48483,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48354,"src":"14295:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"14287:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48486,"nodeType":"IfStatement","src":"14283:24:38","trueBody":{"id":48485,"nodeType":"Continue","src":"14299:8:38"}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":48492,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48487,"name":"prev","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48477,"src":"14351:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":48490,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14367:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":48489,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"14359:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":48488,"name":"address","nodeType":"ElementaryTypeName","src":"14359:7:38","typeDescriptions":{}}},"id":48491,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14359:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"14351:18:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48552,"nodeType":"IfStatement","src":"14347:595:38","trueBody":{"id":48551,"nodeType":"Block","src":"14371:571:38","statements":[{"assignments":[48494],"declarations":[{"constant":false,"id":48494,"mutability":"mutable","name":"j","nameLocation":"14397:1:38","nodeType":"VariableDeclaration","scope":48551,"src":"14389:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48493,"name":"uint256","nodeType":"ElementaryTypeName","src":"14389:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48500,"initialValue":{"arguments":[{"id":48496,"name":"fromAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48363,"src":"14410:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"id":48497,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48368,"src":"14421:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48498,"name":"prev","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48477,"src":"14429:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"id":48495,"name":"_indexOf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48873,"src":"14401:8:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_array$_t_address_$dyn_memory_ptr_$_t_uint256_$_t_address_$returns$_t_uint256_$","typeString":"function (address[] memory,uint256,address) pure returns (uint256)"}},"id":48499,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14401:33:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14389:45:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48507,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48501,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48494,"src":"14456:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"arguments":[{"id":48504,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"14466:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48503,"name":"uint256","nodeType":"ElementaryTypeName","src":"14466:7:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":48502,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"14461:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":48505,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14461:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":48506,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"14475:3:38","memberName":"max","nodeType":"MemberAccess","src":"14461:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14456:22:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":48549,"nodeType":"Block","src":"14745:183:38","statements":[{"expression":{"id":48541,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":48533,"name":"undelegatedIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48395,"src":"14767:24:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":48538,"indexExpression":{"id":48534,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48494,"src":"14792:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"14767:27:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48539,"indexExpression":{"baseExpression":{"id":48535,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48366,"src":"14795:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48537,"indexExpression":{"id":48536,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48494,"src":"14806:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"14795:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"14767:42:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48540,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48452,"src":"14812:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14767:47:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48542,"nodeType":"ExpressionStatement","src":"14767:47:38"},{"id":48548,"nodeType":"UncheckedBlock","src":"14836:74:38","statements":[{"expression":{"id":48546,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"14872:15:38","subExpression":{"baseExpression":{"id":48543,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48366,"src":"14874:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48545,"indexExpression":{"id":48544,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48494,"src":"14885:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"14874:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48547,"nodeType":"ExpressionStatement","src":"14872:15:38"}]}]},"id":48550,"nodeType":"IfStatement","src":"14452:476:38","trueBody":{"id":48532,"nodeType":"Block","src":"14480:259:38","statements":[{"expression":{"id":48512,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48508,"name":"fromAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48363,"src":"14502:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48510,"indexExpression":{"id":48509,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48368,"src":"14512:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"14502:17:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48511,"name":"prev","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48477,"src":"14522:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"14502:24:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48513,"nodeType":"ExpressionStatement","src":"14502:24:38"},{"expression":{"id":48520,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":48514,"name":"undelegatedIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48395,"src":"14548:24:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":48517,"indexExpression":{"id":48515,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48368,"src":"14573:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"14548:32:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48518,"indexExpression":{"hexValue":"30","id":48516,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14581:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"14548:35:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48519,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48452,"src":"14586:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14548:40:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48521,"nodeType":"ExpressionStatement","src":"14548:40:38"},{"expression":{"id":48526,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48522,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48366,"src":"14610:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48524,"indexExpression":{"id":48523,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48368,"src":"14621:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"14610:18:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"31","id":48525,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14631:1:38","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"14610:22:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48527,"nodeType":"ExpressionStatement","src":"14610:22:38"},{"id":48531,"nodeType":"UncheckedBlock","src":"14654:67:38","statements":[{"expression":{"id":48529,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"14690:8:38","subExpression":{"id":48528,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48368,"src":"14692:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48530,"nodeType":"ExpressionStatement","src":"14690:8:38"}]}]}}]}},{"expression":{"id":48557,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48553,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47305,"src":"14956:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":48555,"indexExpression":{"id":48554,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48470,"src":"14970:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"14956:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48556,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48354,"src":"14977:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"14956:23:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48558,"nodeType":"ExpressionStatement","src":"14956:23:38"},{"expression":{"id":48563,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48559,"name":"delegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48408,"src":"14993:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48561,"indexExpression":{"id":48560,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48370,"src":"15006:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"14993:19:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48562,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48452,"src":"15015:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14993:24:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48564,"nodeType":"ExpressionStatement","src":"14993:24:38"},{"id":48568,"nodeType":"UncheckedBlock","src":"15031:50:38","statements":[{"expression":{"id":48566,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"15059:7:38","subExpression":{"id":48565,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48370,"src":"15061:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48567,"nodeType":"ExpressionStatement","src":"15059:7:38"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48447,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48444,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48441,"src":"14039:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":48445,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48359,"src":"14043:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48446,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14047:6:38","memberName":"length","nodeType":"MemberAccess","src":"14043:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14039:14:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48570,"initializationExpression":{"assignments":[48441],"declarations":[{"constant":false,"id":48441,"mutability":"mutable","name":"i","nameLocation":"14032:1:38","nodeType":"VariableDeclaration","scope":48570,"src":"14024:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48440,"name":"uint256","nodeType":"ElementaryTypeName","src":"14024:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48443,"initialValue":{"hexValue":"30","id":48442,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14036:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"14024:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48449,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"14055:3:38","subExpression":{"id":48448,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48441,"src":"14057:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48450,"nodeType":"ExpressionStatement","src":"14055:3:38"},"nodeType":"ForStatement","src":"14019:1072:38"},{"body":{"id":48628,"nodeType":"Block","src":"15185:314:38","statements":[{"assignments":[48585],"declarations":[{"constant":false,"id":48585,"mutability":"mutable","name":"undelegatedIds","nameLocation":"15216:14:38","nodeType":"VariableDeclaration","scope":48628,"src":"15199:31:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48583,"name":"uint256","nodeType":"ElementaryTypeName","src":"15199:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48584,"nodeType":"ArrayTypeName","src":"15199:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":48593,"initialValue":{"arguments":[{"baseExpression":{"id":48589,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48366,"src":"15247:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48591,"indexExpression":{"id":48590,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48572,"src":"15258:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"15247:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48588,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"15233:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":48586,"name":"uint256","nodeType":"ElementaryTypeName","src":"15237:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48587,"nodeType":"ArrayTypeName","src":"15237:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":48592,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15233:28:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"15199:62:38"},{"body":{"id":48616,"nodeType":"Block","src":"15319:83:38","statements":[{"expression":{"id":48614,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48606,"name":"undelegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48585,"src":"15337:14:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48608,"indexExpression":{"id":48607,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48595,"src":"15352:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"15337:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"baseExpression":{"id":48609,"name":"undelegatedIdsByDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48395,"src":"15357:24:38","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[] memory[] memory"}},"id":48611,"indexExpression":{"id":48610,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48572,"src":"15382:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"15357:27:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48613,"indexExpression":{"id":48612,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48595,"src":"15385:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"15357:30:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15337:50:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48615,"nodeType":"ExpressionStatement","src":"15337:50:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48602,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48598,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48595,"src":"15295:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"baseExpression":{"id":48599,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48366,"src":"15299:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48601,"indexExpression":{"id":48600,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48572,"src":"15310:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"15299:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15295:17:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48617,"initializationExpression":{"assignments":[48595],"declarations":[{"constant":false,"id":48595,"mutability":"mutable","name":"m","nameLocation":"15288:1:38","nodeType":"VariableDeclaration","scope":48617,"src":"15280:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48594,"name":"uint256","nodeType":"ElementaryTypeName","src":"15280:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48597,"initialValue":{"hexValue":"30","id":48596,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15292:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"15280:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48604,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"15314:3:38","subExpression":{"id":48603,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48595,"src":"15316:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48605,"nodeType":"ExpressionStatement","src":"15314:3:38"},"nodeType":"ForStatement","src":"15275:127:38"},{"eventCall":{"arguments":[{"expression":{"id":48619,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"15437:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":48620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15441:6:38","memberName":"sender","nodeType":"MemberAccess","src":"15437:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"baseExpression":{"id":48621,"name":"fromAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48363,"src":"15449:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48623,"indexExpression":{"id":48622,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48572,"src":"15459:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"15449:12:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48624,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48356,"src":"15463:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48625,"name":"undelegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48585,"src":"15473:14:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}],"id":48618,"name":"UndelegatedBatch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47351,"src":"15420:16:38","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256[] memory)"}},"id":48626,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15420:68:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48627,"nodeType":"EmitStatement","src":"15415:73:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48577,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48575,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48572,"src":"15168:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":48576,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48368,"src":"15172:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15168:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48629,"initializationExpression":{"assignments":[48572],"declarations":[{"constant":false,"id":48572,"mutability":"mutable","name":"k","nameLocation":"15161:1:38","nodeType":"VariableDeclaration","scope":48629,"src":"15153:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48571,"name":"uint256","nodeType":"ElementaryTypeName","src":"15153:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48574,"initialValue":{"hexValue":"30","id":48573,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15165:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"15153:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48579,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"15180:3:38","subExpression":{"id":48578,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48572,"src":"15182:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48580,"nodeType":"ExpressionStatement","src":"15180:3:38"},"nodeType":"ForStatement","src":"15148:351:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48632,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48630,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48370,"src":"15561:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":48631,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15569:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"15561:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48673,"nodeType":"IfStatement","src":"15557:289:38","trueBody":{"id":48672,"nodeType":"Block","src":"15572:274:38","statements":[{"assignments":[48637],"declarations":[{"constant":false,"id":48637,"mutability":"mutable","name":"newDelegatedIds","nameLocation":"15603:15:38","nodeType":"VariableDeclaration","scope":48672,"src":"15586:32:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48635,"name":"uint256","nodeType":"ElementaryTypeName","src":"15586:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48636,"nodeType":"ArrayTypeName","src":"15586:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":48643,"initialValue":{"arguments":[{"id":48641,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48370,"src":"15635:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48640,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"15621:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":48638,"name":"uint256","nodeType":"ElementaryTypeName","src":"15625:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48639,"nodeType":"ArrayTypeName","src":"15625:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":48642,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15621:20:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"15586:55:38"},{"body":{"id":48662,"nodeType":"Block","src":"15691:69:38","statements":[{"expression":{"id":48660,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":48654,"name":"newDelegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48637,"src":"15709:15:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48656,"indexExpression":{"id":48655,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48645,"src":"15725:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"15709:18:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":48657,"name":"delegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48408,"src":"15730:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48659,"indexExpression":{"id":48658,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48645,"src":"15743:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"15730:15:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15709:36:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48661,"nodeType":"ExpressionStatement","src":"15709:36:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48650,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48648,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48645,"src":"15675:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":48649,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48370,"src":"15679:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15675:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48663,"initializationExpression":{"assignments":[48645],"declarations":[{"constant":false,"id":48645,"mutability":"mutable","name":"i","nameLocation":"15668:1:38","nodeType":"VariableDeclaration","scope":48663,"src":"15660:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48644,"name":"uint256","nodeType":"ElementaryTypeName","src":"15660:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48647,"initialValue":{"hexValue":"30","id":48646,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15672:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"15660:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48652,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"15686:3:38","subExpression":{"id":48651,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48645,"src":"15688:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48653,"nodeType":"ExpressionStatement","src":"15686:3:38"},"nodeType":"ForStatement","src":"15655:105:38"},{"eventCall":{"arguments":[{"expression":{"id":48665,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"15793:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":48666,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15797:6:38","memberName":"sender","nodeType":"MemberAccess","src":"15793:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48667,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48354,"src":"15805:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48668,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48356,"src":"15809:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48669,"name":"newDelegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48637,"src":"15819:15:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}],"id":48664,"name":"DelegatedBatch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47340,"src":"15778:14:38","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256[] memory)"}},"id":48670,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15778:57:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48671,"nodeType":"EmitStatement","src":"15773:62:38"}]}}]},"documentation":{"id":48352,"nodeType":"StructuredDocumentation","src":"13282:62:38","text":"@dev Process delegation updates and return aggregated data"},"implemented":true,"kind":"function","modifiers":[],"name":"_processDelegationUpdates","nameLocation":"13358:25:38","parameters":{"id":48360,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48354,"mutability":"mutable","name":"to","nameLocation":"13392:2:38","nodeType":"VariableDeclaration","scope":48675,"src":"13384:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48353,"name":"address","nodeType":"ElementaryTypeName","src":"13384:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48356,"mutability":"mutable","name":"nftIndex","nameLocation":"13404:8:38","nodeType":"VariableDeclaration","scope":48675,"src":"13396:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48355,"name":"uint256","nodeType":"ElementaryTypeName","src":"13396:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48359,"mutability":"mutable","name":"ids","nameLocation":"13433:3:38","nodeType":"VariableDeclaration","scope":48675,"src":"13414:22:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48357,"name":"uint256","nodeType":"ElementaryTypeName","src":"13414:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48358,"nodeType":"ArrayTypeName","src":"13414:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"13383:54:38"},"returnParameters":{"id":48371,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48363,"mutability":"mutable","name":"fromAddrs","nameLocation":"13489:9:38","nodeType":"VariableDeclaration","scope":48675,"src":"13472:26:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":48361,"name":"address","nodeType":"ElementaryTypeName","src":"13472:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48362,"nodeType":"ArrayTypeName","src":"13472:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":48366,"mutability":"mutable","name":"fromCounts","nameLocation":"13517:10:38","nodeType":"VariableDeclaration","scope":48675,"src":"13500:27:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48364,"name":"uint256","nodeType":"ElementaryTypeName","src":"13500:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48365,"nodeType":"ArrayTypeName","src":"13500:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":48368,"mutability":"mutable","name":"unique","nameLocation":"13537:6:38","nodeType":"VariableDeclaration","scope":48675,"src":"13529:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48367,"name":"uint256","nodeType":"ElementaryTypeName","src":"13529:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48370,"mutability":"mutable","name":"added","nameLocation":"13553:5:38","nodeType":"VariableDeclaration","scope":48675,"src":"13545:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48369,"name":"uint256","nodeType":"ElementaryTypeName","src":"13545:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"13471:88:38"},"scope":49151,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":48744,"nodeType":"FunctionDefinition","src":"15925:498:38","nodes":[],"body":{"id":48743,"nodeType":"Block","src":"16105:318:38","nodes":[],"statements":[{"body":{"id":48741,"nodeType":"Block","src":"16152:265:38","statements":[{"assignments":[48702],"declarations":[{"constant":false,"id":48702,"mutability":"mutable","name":"acct","nameLocation":"16174:4:38","nodeType":"VariableDeclaration","scope":48741,"src":"16166:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48701,"name":"address","nodeType":"ElementaryTypeName","src":"16166:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":48706,"initialValue":{"baseExpression":{"id":48703,"name":"fromAddrs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48679,"src":"16181:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48705,"indexExpression":{"id":48704,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48692,"src":"16191:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16181:12:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"16166:27:38"},{"assignments":[48708],"declarations":[{"constant":false,"id":48708,"mutability":"mutable","name":"pIdx","nameLocation":"16215:4:38","nodeType":"VariableDeclaration","scope":48741,"src":"16207:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48707,"name":"uint256","nodeType":"ElementaryTypeName","src":"16207:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48713,"initialValue":{"arguments":[{"id":48710,"name":"fromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48688,"src":"16236:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},{"id":48711,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48702,"src":"16248:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"},{"typeIdentifier":"t_address","typeString":"address"}],"id":48709,"name":"_indexOfProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48913,"src":"16222:13:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr_$_t_address_$returns$_t_uint256_$","typeString":"function (struct DavinciDao.ProofInput calldata[] calldata,address) pure returns (uint256)"}},"id":48712,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16222:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"16207:46:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48720,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48714,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48708,"src":"16271:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"arguments":[{"id":48717,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"16284:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48716,"name":"uint256","nodeType":"ElementaryTypeName","src":"16284:7:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":48715,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"16279:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":48718,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16279:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":48719,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"16293:3:38","memberName":"max","nodeType":"MemberAccess","src":"16279:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16271:25:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48725,"nodeType":"IfStatement","src":"16267:57:38","trueBody":{"errorCall":{"arguments":[{"id":48722,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48702,"src":"16319:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":48721,"name":"ProofRequired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47391,"src":"16305:13:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$_t_error_$","typeString":"function (address) pure returns (error)"}},"id":48723,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16305:19:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48724,"nodeType":"RevertStatement","src":"16298:26:38"}},{"expression":{"arguments":[{"id":48727,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48702,"src":"16350:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48734,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"16356:22:38","subExpression":{"arguments":[{"baseExpression":{"id":48730,"name":"fromCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48682,"src":"16364:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48732,"indexExpression":{"id":48731,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48692,"src":"16375:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16364:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48729,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"16357:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":48728,"name":"int256","nodeType":"ElementaryTypeName","src":"16357:6:38","typeDescriptions":{}}},"id":48733,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16357:21:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"baseExpression":{"id":48735,"name":"fromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48688,"src":"16380:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},"id":48737,"indexExpression":{"id":48736,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48708,"src":"16391:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16380:16:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47290_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata"}},"id":48738,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16397:8:38","memberName":"siblings","nodeType":"MemberAccess","referencedDeclaration":47289,"src":"16380:25:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"id":48726,"name":"_applyDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48327,"src":"16338:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_int256_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$__$","typeString":"function (address,int256,uint256[] calldata)"}},"id":48739,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16338:68:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48740,"nodeType":"ExpressionStatement","src":"16338:68:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48697,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48695,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48692,"src":"16135:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":48696,"name":"unique","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48684,"src":"16139:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16135:10:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48742,"initializationExpression":{"assignments":[48692],"declarations":[{"constant":false,"id":48692,"mutability":"mutable","name":"k","nameLocation":"16128:1:38","nodeType":"VariableDeclaration","scope":48742,"src":"16120:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48691,"name":"uint256","nodeType":"ElementaryTypeName","src":"16120:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48694,"initialValue":{"hexValue":"30","id":48693,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"16132:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"16120:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48699,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"16147:3:38","subExpression":{"id":48698,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48692,"src":"16149:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48700,"nodeType":"ExpressionStatement","src":"16147:3:38"},"nodeType":"ForStatement","src":"16115:302:38"}]},"documentation":{"id":48676,"nodeType":"StructuredDocumentation","src":"15858:62:38","text":"@dev Apply weight decreases for old delegates using proofs"},"implemented":true,"kind":"function","modifiers":[],"name":"_applyFromProofs","nameLocation":"15934:16:38","parameters":{"id":48689,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48679,"mutability":"mutable","name":"fromAddrs","nameLocation":"15977:9:38","nodeType":"VariableDeclaration","scope":48744,"src":"15960:26:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":48677,"name":"address","nodeType":"ElementaryTypeName","src":"15960:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48678,"nodeType":"ArrayTypeName","src":"15960:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":48682,"mutability":"mutable","name":"fromCounts","nameLocation":"16013:10:38","nodeType":"VariableDeclaration","scope":48744,"src":"15996:27:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48680,"name":"uint256","nodeType":"ElementaryTypeName","src":"15996:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48681,"nodeType":"ArrayTypeName","src":"15996:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":48684,"mutability":"mutable","name":"unique","nameLocation":"16041:6:38","nodeType":"VariableDeclaration","scope":48744,"src":"16033:14:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48683,"name":"uint256","nodeType":"ElementaryTypeName","src":"16033:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48688,"mutability":"mutable","name":"fromProofs","nameLocation":"16079:10:38","nodeType":"VariableDeclaration","scope":48744,"src":"16057:32:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput[]"},"typeName":{"baseType":{"id":48686,"nodeType":"UserDefinedTypeName","pathNode":{"id":48685,"name":"ProofInput","nameLocations":["16057:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47290,"src":"16057:10:38"},"referencedDeclaration":47290,"src":"16057:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47290_storage_ptr","typeString":"struct DavinciDao.ProofInput"}},"id":48687,"nodeType":"ArrayTypeName","src":"16057:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_storage_$dyn_storage_ptr","typeString":"struct DavinciDao.ProofInput[]"}},"visibility":"internal"}],"src":"15950:145:38"},"returnParameters":{"id":48690,"nodeType":"ParameterList","parameters":[],"src":"16105:0:38"},"scope":49151,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":48758,"nodeType":"FunctionDefinition","src":"16429:132:38","nodes":[],"body":{"id":48757,"nodeType":"Block","src":"16482:79:38","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48752,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48749,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48746,"src":"16496:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"expression":{"id":48750,"name":"collections","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47294,"src":"16508:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Collection_$47283_storage_$dyn_storage","typeString":"struct DavinciDao.Collection storage ref[] storage ref"}},"id":48751,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16520:6:38","memberName":"length","nodeType":"MemberAccess","src":"16508:18:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16496:30:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48756,"nodeType":"IfStatement","src":"16492:62:38","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":48753,"name":"InvalidCollection","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47367,"src":"16535:17:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":48754,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16535:19:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48755,"nodeType":"RevertStatement","src":"16528:26:38"}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_checkIndex","nameLocation":"16438:11:38","parameters":{"id":48747,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48746,"mutability":"mutable","name":"nftIndex","nameLocation":"16458:8:38","nodeType":"VariableDeclaration","scope":48758,"src":"16450:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48745,"name":"uint256","nodeType":"ElementaryTypeName","src":"16450:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"16449:18:38"},"returnParameters":{"id":48748,"nodeType":"ParameterList","parameters":[],"src":"16482:0:38"},"scope":49151,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":48776,"nodeType":"FunctionDefinition","src":"16641:156:38","nodes":[],"body":{"id":48775,"nodeType":"Block","src":"16727:70:38","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"id":48770,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48760,"src":"16771:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48771,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48762,"src":"16781:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":48768,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"16754:3:38","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":48769,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"16758:12:38","memberName":"encodePacked","nodeType":"MemberAccess","src":"16754:16:38","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":48772,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16754:35:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":48767,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"16744:9:38","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":48773,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16744:46:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":48766,"id":48774,"nodeType":"Return","src":"16737:53:38"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_tokenKey","nameLocation":"16650:9:38","parameters":{"id":48763,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48760,"mutability":"mutable","name":"nftIndex","nameLocation":"16668:8:38","nodeType":"VariableDeclaration","scope":48776,"src":"16660:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48759,"name":"uint256","nodeType":"ElementaryTypeName","src":"16660:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48762,"mutability":"mutable","name":"tokenId","nameLocation":"16686:7:38","nodeType":"VariableDeclaration","scope":48776,"src":"16678:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48761,"name":"uint256","nodeType":"ElementaryTypeName","src":"16678:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"16659:35:38"},"returnParameters":{"id":48766,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48765,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48776,"src":"16718:7:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":48764,"name":"bytes32","nodeType":"ElementaryTypeName","src":"16718:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"16717:9:38"},"scope":49151,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48803,"nodeType":"FunctionDefinition","src":"16910:158:38","nodes":[],"body":{"id":48802,"nodeType":"Block","src":"16993:75:38","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48800,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48794,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":48790,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48779,"src":"17027:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":48789,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"17019:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":48788,"name":"uint160","nodeType":"ElementaryTypeName","src":"17019:7:38","typeDescriptions":{}}},"id":48791,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17019:16:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"}],"id":48787,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"17011:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48786,"name":"uint256","nodeType":"ElementaryTypeName","src":"17011:7:38","typeDescriptions":{}}},"id":48792,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17011:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"3838","id":48793,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"17040:2:38","typeDescriptions":{"typeIdentifier":"t_rational_88_by_1","typeString":"int_const 88"},"value":"88"},"src":"17011:31:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48795,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"17010:33:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"arguments":[{"id":48798,"name":"weight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48781,"src":"17054:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":48797,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"17046:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48796,"name":"uint256","nodeType":"ElementaryTypeName","src":"17046:7:38","typeDescriptions":{}}},"id":48799,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17046:15:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17010:51:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48785,"id":48801,"nodeType":"Return","src":"17003:58:38"}]},"documentation":{"id":48777,"nodeType":"StructuredDocumentation","src":"16803:102:38","text":"@dev Pack (address || weight) → uint256 with address in top 20 bytes and weight in low 11 bytes."},"implemented":true,"kind":"function","modifiers":[],"name":"_packLeaf","nameLocation":"16919:9:38","parameters":{"id":48782,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48779,"mutability":"mutable","name":"account","nameLocation":"16937:7:38","nodeType":"VariableDeclaration","scope":48803,"src":"16929:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48778,"name":"address","nodeType":"ElementaryTypeName","src":"16929:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48781,"mutability":"mutable","name":"weight","nameLocation":"16953:6:38","nodeType":"VariableDeclaration","scope":48803,"src":"16946:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":48780,"name":"uint88","nodeType":"ElementaryTypeName","src":"16946:6:38","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"}],"src":"16928:32:38"},"returnParameters":{"id":48785,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48784,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48803,"src":"16984:7:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48783,"name":"uint256","nodeType":"ElementaryTypeName","src":"16984:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"16983:9:38"},"scope":49151,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48833,"nodeType":"FunctionDefinition","src":"17115:213:38","nodes":[],"body":{"id":48832,"nodeType":"Block","src":"17209:119:38","nodes":[],"statements":[{"assignments":[48817],"declarations":[{"constant":false,"id":48817,"mutability":"mutable","name":"c","nameLocation":"17237:1:38","nodeType":"VariableDeclaration","scope":48832,"src":"17219:19:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Collection_$47283_memory_ptr","typeString":"struct DavinciDao.Collection"},"typeName":{"id":48816,"nodeType":"UserDefinedTypeName","pathNode":{"id":48815,"name":"Collection","nameLocations":["17219:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47283,"src":"17219:10:38"},"referencedDeclaration":47283,"src":"17219:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_Collection_$47283_storage_ptr","typeString":"struct DavinciDao.Collection"}},"visibility":"internal"}],"id":48821,"initialValue":{"baseExpression":{"id":48818,"name":"collections","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47294,"src":"17241:11:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Collection_$47283_storage_$dyn_storage","typeString":"struct DavinciDao.Collection storage ref[] storage ref"}},"id":48820,"indexExpression":{"id":48819,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48806,"src":"17253:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"17241:21:38","typeDescriptions":{"typeIdentifier":"t_struct$_Collection_$47283_storage","typeString":"struct DavinciDao.Collection storage ref"}},"nodeType":"VariableDeclarationStatement","src":"17219:43:38"},{"expression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":48830,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":48827,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48810,"src":"17304:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":48823,"name":"c","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48817,"src":"17287:1:38","typeDescriptions":{"typeIdentifier":"t_struct$_Collection_$47283_memory_ptr","typeString":"struct DavinciDao.Collection memory"}},"id":48824,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"17289:5:38","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":47282,"src":"17287:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":48822,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40909,"src":"17279:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC721_$40909_$","typeString":"type(contract IERC721)"}},"id":48825,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17279:16:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC721_$40909","typeString":"contract IERC721"}},"id":48826,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17296:7:38","memberName":"ownerOf","nodeType":"MemberAccess","referencedDeclaration":40842,"src":"17279:24:38","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view external returns (address)"}},"id":48828,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17279:33:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":48829,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48808,"src":"17316:5:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"17279:42:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":48814,"id":48831,"nodeType":"Return","src":"17272:49:38"}]},"documentation":{"id":48804,"nodeType":"StructuredDocumentation","src":"17074:36:38","text":"@dev Ownership check for ERC721."},"implemented":true,"kind":"function","modifiers":[],"name":"_owns","nameLocation":"17124:5:38","parameters":{"id":48811,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48806,"mutability":"mutable","name":"nftIndex","nameLocation":"17138:8:38","nodeType":"VariableDeclaration","scope":48833,"src":"17130:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48805,"name":"uint256","nodeType":"ElementaryTypeName","src":"17130:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48808,"mutability":"mutable","name":"owner","nameLocation":"17156:5:38","nodeType":"VariableDeclaration","scope":48833,"src":"17148:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48807,"name":"address","nodeType":"ElementaryTypeName","src":"17148:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48810,"mutability":"mutable","name":"tokenId","nameLocation":"17171:7:38","nodeType":"VariableDeclaration","scope":48833,"src":"17163:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48809,"name":"uint256","nodeType":"ElementaryTypeName","src":"17163:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"17129:50:38"},"returnParameters":{"id":48814,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48813,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48833,"src":"17203:4:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":48812,"name":"bool","nodeType":"ElementaryTypeName","src":"17203:4:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"17202:6:38"},"scope":49151,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":48873,"nodeType":"FunctionDefinition","src":"17390:230:38","nodes":[],"body":{"id":48872,"nodeType":"Block","src":"17486:134:38","nodes":[],"statements":[{"body":{"id":48864,"nodeType":"Block","src":"17530:50:38","statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":48860,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"id":48856,"name":"arr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48837,"src":"17548:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48858,"indexExpression":{"id":48857,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48847,"src":"17552:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"17548:6:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":48859,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48841,"src":"17558:1:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"17548:11:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48863,"nodeType":"IfStatement","src":"17544:25:38","trueBody":{"expression":{"id":48861,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48847,"src":"17568:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48845,"id":48862,"nodeType":"Return","src":"17561:8:38"}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48852,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48850,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48847,"src":"17516:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":48851,"name":"len","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48839,"src":"17520:3:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17516:7:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48865,"initializationExpression":{"assignments":[48847],"declarations":[{"constant":false,"id":48847,"mutability":"mutable","name":"i","nameLocation":"17509:1:38","nodeType":"VariableDeclaration","scope":48865,"src":"17501:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48846,"name":"uint256","nodeType":"ElementaryTypeName","src":"17501:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48849,"initialValue":{"hexValue":"30","id":48848,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"17513:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"17501:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48854,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"17525:3:38","subExpression":{"id":48853,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48847,"src":"17527:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48855,"nodeType":"ExpressionStatement","src":"17525:3:38"},"nodeType":"ForStatement","src":"17496:84:38"},{"expression":{"expression":{"arguments":[{"id":48868,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"17601:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48867,"name":"uint256","nodeType":"ElementaryTypeName","src":"17601:7:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":48866,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"17596:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":48869,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17596:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":48870,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"17610:3:38","memberName":"max","nodeType":"MemberAccess","src":"17596:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48845,"id":48871,"nodeType":"Return","src":"17589:24:38"}]},"documentation":{"id":48834,"nodeType":"StructuredDocumentation","src":"17334:51:38","text":"@dev Linear search utilities for small batches."},"implemented":true,"kind":"function","modifiers":[],"name":"_indexOf","nameLocation":"17399:8:38","parameters":{"id":48842,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48837,"mutability":"mutable","name":"arr","nameLocation":"17425:3:38","nodeType":"VariableDeclaration","scope":48873,"src":"17408:20:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":48835,"name":"address","nodeType":"ElementaryTypeName","src":"17408:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48836,"nodeType":"ArrayTypeName","src":"17408:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":48839,"mutability":"mutable","name":"len","nameLocation":"17438:3:38","nodeType":"VariableDeclaration","scope":48873,"src":"17430:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48838,"name":"uint256","nodeType":"ElementaryTypeName","src":"17430:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48841,"mutability":"mutable","name":"a","nameLocation":"17451:1:38","nodeType":"VariableDeclaration","scope":48873,"src":"17443:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48840,"name":"address","nodeType":"ElementaryTypeName","src":"17443:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"17407:46:38"},"returnParameters":{"id":48845,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48844,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48873,"src":"17477:7:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48843,"name":"uint256","nodeType":"ElementaryTypeName","src":"17477:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"17476:9:38"},"scope":49151,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48913,"nodeType":"FunctionDefinition","src":"17626:263:38","nodes":[],"body":{"id":48912,"nodeType":"Block","src":"17728:161:38","nodes":[],"statements":[{"body":{"id":48904,"nodeType":"Block","src":"17782:67:38","statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":48900,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":48895,"name":"proofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48877,"src":"17800:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},"id":48897,"indexExpression":{"id":48896,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48885,"src":"17807:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"17800:9:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47290_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata"}},"id":48898,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17810:7:38","memberName":"account","nodeType":"MemberAccess","referencedDeclaration":47286,"src":"17800:17:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":48899,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48879,"src":"17821:7:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"17800:28:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48903,"nodeType":"IfStatement","src":"17796:42:38","trueBody":{"expression":{"id":48901,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48885,"src":"17837:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48883,"id":48902,"nodeType":"Return","src":"17830:8:38"}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48891,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48888,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48885,"src":"17758:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":48889,"name":"proofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48877,"src":"17762:6:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},"id":48890,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17769:6:38","memberName":"length","nodeType":"MemberAccess","src":"17762:13:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17758:17:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48905,"initializationExpression":{"assignments":[48885],"declarations":[{"constant":false,"id":48885,"mutability":"mutable","name":"i","nameLocation":"17751:1:38","nodeType":"VariableDeclaration","scope":48905,"src":"17743:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48884,"name":"uint256","nodeType":"ElementaryTypeName","src":"17743:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48887,"initialValue":{"hexValue":"30","id":48886,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"17755:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"17743:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48893,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"17777:3:38","subExpression":{"id":48892,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48885,"src":"17779:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48894,"nodeType":"ExpressionStatement","src":"17777:3:38"},"nodeType":"ForStatement","src":"17738:111:38"},{"expression":{"expression":{"arguments":[{"id":48908,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"17870:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48907,"name":"uint256","nodeType":"ElementaryTypeName","src":"17870:7:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":48906,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"17865:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":48909,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17865:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":48910,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"17879:3:38","memberName":"max","nodeType":"MemberAccess","src":"17865:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48883,"id":48911,"nodeType":"Return","src":"17858:24:38"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_indexOfProof","nameLocation":"17635:13:38","parameters":{"id":48880,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48877,"mutability":"mutable","name":"proofs","nameLocation":"17671:6:38","nodeType":"VariableDeclaration","scope":48913,"src":"17649:28:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput[]"},"typeName":{"baseType":{"id":48875,"nodeType":"UserDefinedTypeName","pathNode":{"id":48874,"name":"ProofInput","nameLocations":["17649:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47290,"src":"17649:10:38"},"referencedDeclaration":47290,"src":"17649:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47290_storage_ptr","typeString":"struct DavinciDao.ProofInput"}},"id":48876,"nodeType":"ArrayTypeName","src":"17649:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_storage_$dyn_storage_ptr","typeString":"struct DavinciDao.ProofInput[]"}},"visibility":"internal"},{"constant":false,"id":48879,"mutability":"mutable","name":"account","nameLocation":"17687:7:38","nodeType":"VariableDeclaration","scope":48913,"src":"17679:15:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48878,"name":"address","nodeType":"ElementaryTypeName","src":"17679:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"17648:47:38"},"returnParameters":{"id":48883,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48882,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48913,"src":"17719:7:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48881,"name":"uint256","nodeType":"ElementaryTypeName","src":"17719:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"17718:9:38"},"scope":49151,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":49081,"nodeType":"FunctionDefinition","src":"17986:1600:38","nodes":[],"body":{"id":49080,"nodeType":"Block","src":"18276:1310:38","nodes":[],"statements":[{"expression":{"id":48941,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48934,"name":"inheritedDelegates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48925,"src":"18286:18:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":48938,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48921,"src":"18321:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48939,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"18325:6:38","memberName":"length","nodeType":"MemberAccess","src":"18321:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48937,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"18307:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_address_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (address[] memory)"},"typeName":{"baseType":{"id":48935,"name":"address","nodeType":"ElementaryTypeName","src":"18311:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48936,"nodeType":"ArrayTypeName","src":"18311:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}}},"id":48940,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18307:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"src":"18286:46:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":48942,"nodeType":"ExpressionStatement","src":"18286:46:38"},{"expression":{"id":48950,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48943,"name":"inheritedCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48928,"src":"18342:15:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":48947,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48921,"src":"18374:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48948,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"18378:6:38","memberName":"length","nodeType":"MemberAccess","src":"18374:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48946,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"18360:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":48944,"name":"uint256","nodeType":"ElementaryTypeName","src":"18364:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48945,"nodeType":"ArrayTypeName","src":"18364:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":48949,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18360:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"src":"18342:43:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":48951,"nodeType":"ExpressionStatement","src":"18342:43:38"},{"assignments":[48956],"declarations":[{"constant":false,"id":48956,"mutability":"mutable","name":"addedIds","nameLocation":"18412:8:38","nodeType":"VariableDeclaration","scope":49080,"src":"18395:25:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48954,"name":"uint256","nodeType":"ElementaryTypeName","src":"18395:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48955,"nodeType":"ArrayTypeName","src":"18395:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":48963,"initialValue":{"arguments":[{"expression":{"id":48960,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48921,"src":"18437:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48961,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"18441:6:38","memberName":"length","nodeType":"MemberAccess","src":"18437:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48959,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"18423:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":48957,"name":"uint256","nodeType":"ElementaryTypeName","src":"18427:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48958,"nodeType":"ArrayTypeName","src":"18427:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":48962,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18423:25:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"18395:53:38"},{"body":{"id":49034,"nodeType":"Block","src":"18500:698:38","statements":[{"assignments":[48976],"declarations":[{"constant":false,"id":48976,"mutability":"mutable","name":"id","nameLocation":"18522:2:38","nodeType":"VariableDeclaration","scope":49034,"src":"18514:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48975,"name":"uint256","nodeType":"ElementaryTypeName","src":"18514:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48980,"initialValue":{"baseExpression":{"id":48977,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48921,"src":"18527:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48979,"indexExpression":{"id":48978,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48965,"src":"18531:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"18527:6:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"18514:19:38"},{"condition":{"id":48987,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"18551:32:38","subExpression":{"arguments":[{"id":48982,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48918,"src":"18558:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":48983,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"18568:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":48984,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"18572:6:38","memberName":"sender","nodeType":"MemberAccess","src":"18568:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48985,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48976,"src":"18580:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48981,"name":"_owns","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48833,"src":"18552:5:38","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256,address,uint256) view returns (bool)"}},"id":48986,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18552:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48992,"nodeType":"IfStatement","src":"18547:62:38","trueBody":{"errorCall":{"arguments":[{"id":48989,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48976,"src":"18606:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48988,"name":"NotTokenOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47379,"src":"18592:13:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$_t_error_$","typeString":"function (uint256) pure returns (error)"}},"id":48990,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18592:17:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48991,"nodeType":"RevertStatement","src":"18585:24:38"}},{"assignments":[48994],"declarations":[{"constant":false,"id":48994,"mutability":"mutable","name":"key","nameLocation":"18632:3:38","nodeType":"VariableDeclaration","scope":49034,"src":"18624:11:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":48993,"name":"bytes32","nodeType":"ElementaryTypeName","src":"18624:7:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":48999,"initialValue":{"arguments":[{"id":48996,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48918,"src":"18648:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48997,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48976,"src":"18658:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48995,"name":"_tokenKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48776,"src":"18638:9:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_bytes32_$","typeString":"function (uint256,uint256) pure returns (bytes32)"}},"id":48998,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18638:23:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"18624:37:38"},{"assignments":[49001],"declarations":[{"constant":false,"id":49001,"mutability":"mutable","name":"existingDelegate","nameLocation":"18683:16:38","nodeType":"VariableDeclaration","scope":49034,"src":"18675:24:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":49000,"name":"address","nodeType":"ElementaryTypeName","src":"18675:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":49005,"initialValue":{"baseExpression":{"id":49002,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47305,"src":"18702:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":49004,"indexExpression":{"id":49003,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48994,"src":"18716:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"18702:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"18675:45:38"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":49011,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49006,"name":"existingDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49001,"src":"18822:16:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":49009,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"18850:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":49008,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"18842:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":49007,"name":"address","nodeType":"ElementaryTypeName","src":"18842:7:38","typeDescriptions":{}}},"id":49010,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18842:10:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"18822:30:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":49017,"nodeType":"IfStatement","src":"18818:235:38","trueBody":{"id":49016,"nodeType":"Block","src":"18854:199:38","statements":[{"errorCall":{"arguments":[{"id":49013,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48976,"src":"19035:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49012,"name":"AlreadyDelegated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47383,"src":"19018:16:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$_t_error_$","typeString":"function (uint256) pure returns (error)"}},"id":49014,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19018:20:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":49015,"nodeType":"RevertStatement","src":"19011:27:38"}]}},{"expression":{"id":49022,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":49018,"name":"tokenDelegate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47305,"src":"19067:13:38","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":49020,"indexExpression":{"id":49019,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48994,"src":"19081:3:38","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"19067:18:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":49021,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48916,"src":"19088:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"19067:23:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":49023,"nodeType":"ExpressionStatement","src":"19067:23:38"},{"expression":{"id":49028,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":49024,"name":"addedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48956,"src":"19104:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":49026,"indexExpression":{"id":49025,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48932,"src":"19113:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"19104:15:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":49027,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48976,"src":"19122:2:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"19104:20:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49029,"nodeType":"ExpressionStatement","src":"19104:20:38"},{"id":49033,"nodeType":"UncheckedBlock","src":"19138:50:38","statements":[{"expression":{"id":49031,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"19166:7:38","subExpression":{"id":49030,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48932,"src":"19168:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49032,"nodeType":"ExpressionStatement","src":"19166:7:38"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48971,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48968,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48965,"src":"18479:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":48969,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48921,"src":"18483:3:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":48970,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"18487:6:38","memberName":"length","nodeType":"MemberAccess","src":"18483:10:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"18479:14:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":49035,"initializationExpression":{"assignments":[48965],"declarations":[{"constant":false,"id":48965,"mutability":"mutable","name":"i","nameLocation":"18472:1:38","nodeType":"VariableDeclaration","scope":49035,"src":"18464:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48964,"name":"uint256","nodeType":"ElementaryTypeName","src":"18464:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48967,"initialValue":{"hexValue":"30","id":48966,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"18476:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"18464:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":48973,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"18495:3:38","subExpression":{"id":48972,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48965,"src":"18497:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48974,"nodeType":"ExpressionStatement","src":"18495:3:38"},"nodeType":"ForStatement","src":"18459:739:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49038,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49036,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48932,"src":"19265:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":49037,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"19273:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"19265:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":49079,"nodeType":"IfStatement","src":"19261:319:38","trueBody":{"id":49078,"nodeType":"Block","src":"19276:304:38","statements":[{"assignments":[49043],"declarations":[{"constant":false,"id":49043,"mutability":"mutable","name":"delegatedIds","nameLocation":"19350:12:38","nodeType":"VariableDeclaration","scope":49078,"src":"19333:29:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":49041,"name":"uint256","nodeType":"ElementaryTypeName","src":"19333:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49042,"nodeType":"ArrayTypeName","src":"19333:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":49049,"initialValue":{"arguments":[{"id":49047,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48932,"src":"19379:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49046,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"19365:13:38","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":49044,"name":"uint256","nodeType":"ElementaryTypeName","src":"19369:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49045,"nodeType":"ArrayTypeName","src":"19369:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":49048,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19365:20:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"19333:52:38"},{"body":{"id":49068,"nodeType":"Block","src":"19435:62:38","statements":[{"expression":{"id":49066,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":49060,"name":"delegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49043,"src":"19453:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":49062,"indexExpression":{"id":49061,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49051,"src":"19466:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"19453:15:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":49063,"name":"addedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48956,"src":"19471:8:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":49065,"indexExpression":{"id":49064,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49051,"src":"19480:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"19471:11:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"19453:29:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49067,"nodeType":"ExpressionStatement","src":"19453:29:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49056,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49054,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49051,"src":"19419:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":49055,"name":"added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48932,"src":"19423:5:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"19419:9:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":49069,"initializationExpression":{"assignments":[49051],"declarations":[{"constant":false,"id":49051,"mutability":"mutable","name":"i","nameLocation":"19412:1:38","nodeType":"VariableDeclaration","scope":49069,"src":"19404:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49050,"name":"uint256","nodeType":"ElementaryTypeName","src":"19404:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49053,"initialValue":{"hexValue":"30","id":49052,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"19416:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"19404:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":49058,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"19430:3:38","subExpression":{"id":49057,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49051,"src":"19432:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49059,"nodeType":"ExpressionStatement","src":"19430:3:38"},"nodeType":"ForStatement","src":"19399:98:38"},{"eventCall":{"arguments":[{"expression":{"id":49071,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"19530:3:38","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":49072,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19534:6:38","memberName":"sender","nodeType":"MemberAccess","src":"19530:10:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":49073,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48916,"src":"19542:2:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":49074,"name":"nftIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48918,"src":"19546:8:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49075,"name":"delegatedIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49043,"src":"19556:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}],"id":49070,"name":"DelegatedBatch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47340,"src":"19515:14:38","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256[] memory)"}},"id":49076,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19515:54:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49077,"nodeType":"EmitStatement","src":"19510:59:38"}]}}]},"documentation":{"id":48914,"nodeType":"StructuredDocumentation","src":"17895:86:38","text":"@dev Process delegations for the delegate function, handling inherited delegations"},"implemented":true,"kind":"function","modifiers":[],"name":"_processDelegations","nameLocation":"17995:19:38","parameters":{"id":48922,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48916,"mutability":"mutable","name":"to","nameLocation":"18023:2:38","nodeType":"VariableDeclaration","scope":49081,"src":"18015:10:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48915,"name":"address","nodeType":"ElementaryTypeName","src":"18015:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":48918,"mutability":"mutable","name":"nftIndex","nameLocation":"18035:8:38","nodeType":"VariableDeclaration","scope":49081,"src":"18027:16:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48917,"name":"uint256","nodeType":"ElementaryTypeName","src":"18027:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48921,"mutability":"mutable","name":"ids","nameLocation":"18064:3:38","nodeType":"VariableDeclaration","scope":49081,"src":"18045:22:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48919,"name":"uint256","nodeType":"ElementaryTypeName","src":"18045:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48920,"nodeType":"ArrayTypeName","src":"18045:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"18014:54:38"},"returnParameters":{"id":48933,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48925,"mutability":"mutable","name":"inheritedDelegates","nameLocation":"18133:18:38","nodeType":"VariableDeclaration","scope":49081,"src":"18116:35:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":48923,"name":"address","nodeType":"ElementaryTypeName","src":"18116:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":48924,"nodeType":"ArrayTypeName","src":"18116:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":48928,"mutability":"mutable","name":"inheritedCounts","nameLocation":"18182:15:38","nodeType":"VariableDeclaration","scope":49081,"src":"18165:32:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":48926,"name":"uint256","nodeType":"ElementaryTypeName","src":"18165:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48927,"nodeType":"ArrayTypeName","src":"18165:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":48930,"mutability":"mutable","name":"uniqueInherited","nameLocation":"18219:15:38","nodeType":"VariableDeclaration","scope":49081,"src":"18211:23:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48929,"name":"uint256","nodeType":"ElementaryTypeName","src":"18211:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48932,"mutability":"mutable","name":"added","nameLocation":"18256:5:38","nodeType":"VariableDeclaration","scope":49081,"src":"18248:13:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48931,"name":"uint256","nodeType":"ElementaryTypeName","src":"18248:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"18102:169:38"},"scope":49151,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":49150,"nodeType":"FunctionDefinition","src":"19667:549:38","nodes":[],"body":{"id":49149,"nodeType":"Block","src":"19875:341:38","nodes":[],"statements":[{"body":{"id":49147,"nodeType":"Block","src":"19931:279:38","statements":[{"assignments":[49108],"declarations":[{"constant":false,"id":49108,"mutability":"mutable","name":"acct","nameLocation":"19953:4:38","nodeType":"VariableDeclaration","scope":49147,"src":"19945:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":49107,"name":"address","nodeType":"ElementaryTypeName","src":"19945:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":49112,"initialValue":{"baseExpression":{"id":49109,"name":"inheritedDelegates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49085,"src":"19960:18:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":49111,"indexExpression":{"id":49110,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49098,"src":"19979:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"19960:21:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"19945:36:38"},{"assignments":[49114],"declarations":[{"constant":false,"id":49114,"mutability":"mutable","name":"pIdx","nameLocation":"20003:4:38","nodeType":"VariableDeclaration","scope":49147,"src":"19995:12:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49113,"name":"uint256","nodeType":"ElementaryTypeName","src":"19995:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49119,"initialValue":{"arguments":[{"id":49116,"name":"fromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49094,"src":"20024:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},{"id":49117,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49108,"src":"20036:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"},{"typeIdentifier":"t_address","typeString":"address"}],"id":49115,"name":"_indexOfProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48913,"src":"20010:13:38","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr_$_t_address_$returns$_t_uint256_$","typeString":"function (struct DavinciDao.ProofInput calldata[] calldata,address) pure returns (uint256)"}},"id":49118,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20010:31:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"19995:46:38"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49126,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49120,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49114,"src":"20059:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"arguments":[{"id":49123,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"20072:7:38","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":49122,"name":"uint256","nodeType":"ElementaryTypeName","src":"20072:7:38","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":49121,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"20067:4:38","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":49124,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20067:13:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":49125,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"20081:3:38","memberName":"max","nodeType":"MemberAccess","src":"20067:17:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20059:25:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":49131,"nodeType":"IfStatement","src":"20055:57:38","trueBody":{"errorCall":{"arguments":[{"id":49128,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49108,"src":"20107:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":49127,"name":"ProofRequired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47391,"src":"20093:13:38","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$_t_error_$","typeString":"function (address) pure returns (error)"}},"id":49129,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20093:19:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":49130,"nodeType":"RevertStatement","src":"20086:26:38"}},{"expression":{"arguments":[{"id":49133,"name":"acct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49108,"src":"20138:4:38","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":49140,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"20144:27:38","subExpression":{"arguments":[{"baseExpression":{"id":49136,"name":"inheritedCounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49088,"src":"20152:15:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":49138,"indexExpression":{"id":49137,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49098,"src":"20168:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"20152:18:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49135,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"20145:6:38","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":49134,"name":"int256","nodeType":"ElementaryTypeName","src":"20145:6:38","typeDescriptions":{}}},"id":49139,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20145:26:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"baseExpression":{"id":49141,"name":"fromProofs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49094,"src":"20173:10:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata[] calldata"}},"id":49143,"indexExpression":{"id":49142,"name":"pIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49114,"src":"20184:4:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"20173:16:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47290_calldata_ptr","typeString":"struct DavinciDao.ProofInput calldata"}},"id":49144,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20190:8:38","memberName":"siblings","nodeType":"MemberAccess","referencedDeclaration":47289,"src":"20173:25:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"id":49132,"name":"_applyDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48327,"src":"20126:11:38","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_int256_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$__$","typeString":"function (address,int256,uint256[] calldata)"}},"id":49145,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20126:73:38","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49146,"nodeType":"ExpressionStatement","src":"20126:73:38"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49103,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49101,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49098,"src":"19905:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":49102,"name":"uniqueInherited","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49090,"src":"19909:15:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"19905:19:38","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":49148,"initializationExpression":{"assignments":[49098],"declarations":[{"constant":false,"id":49098,"mutability":"mutable","name":"k","nameLocation":"19898:1:38","nodeType":"VariableDeclaration","scope":49148,"src":"19890:9:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49097,"name":"uint256","nodeType":"ElementaryTypeName","src":"19890:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49100,"initialValue":{"hexValue":"30","id":49099,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"19902:1:38","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"19890:13:38"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":49105,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"19926:3:38","subExpression":{"id":49104,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49098,"src":"19928:1:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49106,"nodeType":"ExpressionStatement","src":"19926:3:38"},"nodeType":"ForStatement","src":"19885:325:38"}]},"documentation":{"id":49082,"nodeType":"StructuredDocumentation","src":"19592:70:38","text":"@dev Apply weight decreases for inherited delegations using proofs"},"implemented":true,"kind":"function","modifiers":[],"name":"_applyInheritedProofs","nameLocation":"19676:21:38","parameters":{"id":49095,"nodeType":"ParameterList","parameters":[{"constant":false,"id":49085,"mutability":"mutable","name":"inheritedDelegates","nameLocation":"19724:18:38","nodeType":"VariableDeclaration","scope":49150,"src":"19707:35:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":49083,"name":"address","nodeType":"ElementaryTypeName","src":"19707:7:38","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":49084,"nodeType":"ArrayTypeName","src":"19707:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":49088,"mutability":"mutable","name":"inheritedCounts","nameLocation":"19769:15:38","nodeType":"VariableDeclaration","scope":49150,"src":"19752:32:38","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":49086,"name":"uint256","nodeType":"ElementaryTypeName","src":"19752:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49087,"nodeType":"ArrayTypeName","src":"19752:9:38","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":49090,"mutability":"mutable","name":"uniqueInherited","nameLocation":"19802:15:38","nodeType":"VariableDeclaration","scope":49150,"src":"19794:23:38","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49089,"name":"uint256","nodeType":"ElementaryTypeName","src":"19794:7:38","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49094,"mutability":"mutable","name":"fromProofs","nameLocation":"19849:10:38","nodeType":"VariableDeclaration","scope":49150,"src":"19827:32:38","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_calldata_ptr_$dyn_calldata_ptr","typeString":"struct DavinciDao.ProofInput[]"},"typeName":{"baseType":{"id":49092,"nodeType":"UserDefinedTypeName","pathNode":{"id":49091,"name":"ProofInput","nameLocations":["19827:10:38"],"nodeType":"IdentifierPath","referencedDeclaration":47290,"src":"19827:10:38"},"referencedDeclaration":47290,"src":"19827:10:38","typeDescriptions":{"typeIdentifier":"t_struct$_ProofInput_$47290_storage_ptr","typeString":"struct DavinciDao.ProofInput"}},"id":49093,"nodeType":"ArrayTypeName","src":"19827:12:38","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_ProofInput_$47290_storage_$dyn_storage_ptr","typeString":"struct DavinciDao.ProofInput[]"}},"visibility":"internal"}],"src":"19697:168:38"},"returnParameters":{"id":49096,"nodeType":"ParameterList","parameters":[],"src":"19875:0:38"},"scope":49151,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"DavinciDao","contractDependencies":[],"contractKind":"contract","documentation":{"id":47276,"nodeType":"StructuredDocumentation","src":"427:420:38","text":"@title DavinciDAO Census Contract\n @notice Maintains an on-chain Merkle tree for NFT-based voting power delegation.\n @dev Features:\n      - On-chain Merkle tree construction using Lean-IMT (automatic root updates)\n      - Map-based root history (root => blockNumber) for unlimited storage\n      - Event emission for The Graph indexing\n      - Proof-based delegation for security and gas efficiency"},"fullyImplemented":true,"linearizedBaseContracts":[49151],"name":"DavinciDao","nameLocation":"856:10:38","scope":49152,"usedErrors":[46140,46142,46144,46146,46148,47367,47371,47373,47375,47379,47383,47387,47391,47393,47395],"usedEvents":[47319,47329,47340,47351,47359,47365]}],"license":"MIT"},"id":38}